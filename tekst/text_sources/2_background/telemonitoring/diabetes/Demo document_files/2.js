webpackJsonp([2],{1367:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(7),s=n(126),c=n(6),l=n(4),u=n(105),d=n(32),p=n(515),m=n(18),f=n(516),h=n(2065),g=n(1853),_=n(1485),v=n(1503),b=n(1931),y=n(2085),w=n(1384),E=n(2041),M=n(1658),C=n(2058),S=n(1484),k=n(2),x=n(1462),A=n(2070),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=l.Monitoring.Logging.getLogger("denali.editorContent"),t._wootricViewModelImpl=t.props.userAccount.features.denali.wootric.filter(function(){return!t.props.userAccount.profile.get().isTest}).map(function(e){return new s.Wootric.WootricViewModelImpl(new s.Wootric.WootricListenerModelImpl(localStorage,t.props.userAccount.features.denali.wootricTest,e),t.props.engineStream.switchMap(function(e){return e.flatMap(function(e){return e.toOption()}).map(function(e){return e.alertsList.alertEvents.filter(function(e){return"alert_applied"===e.kind}).mapTo(k.RxUtils.voidValue)}).getOrElse(o.Observable.empty())}),t.props.userAccount.profile.get())}),t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.docId,r=t.userAccount,s=t.networkState,c=t.selfUpdate,l=t.uploadViewModel,p=t.upgradeHook,f=t.notifications,h=t.ded,g=t.engineStream;return i.createElement(d.Lifecycle,{key:n,onMount:function(t){return e._log.info("denali page mount"),document.body.classList.add(x.body),document.body.classList.remove("editorTs"),document.body.parentElement.classList.add(x.root),e.context.screen.update(),t?o.Observable.fromEvent(t,"wheel").subscribe(function(e){e.preventDefault()}):void 0},onUnmount:function(){e._log.info("denali page unmount"),document.body.classList.remove(x.body),document.body.classList.add("editorTs"),document.body.parentElement.classList.remove(x.root)}},i.createElement(S.PreloadComponent,null),g.map(function(t){return t.map(function(t){return t.fold(function(t){return t.code===m.Reconnect.WsCodes.NOT_FOUND?(e._log.warn("document not found on init",t),i.createElement(y.DocumentNotFound,{key:"404"})):(t.code===m.Reconnect.WsCodes.UNAUTHORIZED?e._log.warn("unauthorized on init",t):e._log.warn("engine init error",t),i.createElement(M.DenaliNotificationCenter,{key:"denaliNotificationCenter2",wootricViewModel:e._wootricViewModelImpl,notifications:f,denaliEditorModel:h}))},function(t){var o=new A.DenaliViewModelsImpl(t,h,f,r,p,a.Some(r.subscription),e.context,s,function(){window.PROOFIT_SUBMITTED=!0,e.context.appRouter.navigate(u.Router.routes.documents.href({}))},n);return i.createElement(b.Main,{key:"main",denaliEditorModel:h,documentModel:t.documentModel,uploadViewModel:l,wootricViewModel:e._wootricViewModelImpl,userAccount:r,selfUpdate:c,notifications:f,denaliViewModels:o,docId:n})})}).getOrElse(i.createElement(M.DenaliNotificationCenter,{key:"denaliNotificationCenter",wootricViewModel:e._wootricViewModelImpl,notifications:f,denaliEditorModel:h}))}).startWith(i.createElement(M.DenaliNotificationCenter,{key:"denaliNotificationCenter",wootricViewModel:this._wootricViewModelImpl,notifications:f,denaliEditorModel:h})),i.createElement(w.DenaliTooltipElement,{key:"tooltip"}),i.createElement(E.DropZone,{documentUpload:l.uploadModel,notifications:f}))},t}(u.BaseComponent),T=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._uploadViewModel=new g.UploadViewModelImpl(t.props.doxApi,t.context.appRouter,t.props.notifications,t.context.telemetry,t.context.environment.info.browser),t._docId=c.Atom.create(a.Option.of(Number(t.props.docId))),t}return r.__extends(t,e),t.prototype._renderPageDoc=function(e){var t=this,n=this.props,r=n.notifications,a=n.userAccount,c=n.networkState,l=n.upgradeHook,d=n.doxApi,m=n.wsConnectivity,g=n.selfUpdate,b=this.context,y=b.appConfig,w=b.telemetry,E=b.environment,M=E.info.browser,S=new f.DEd({classes:x,freezeFocusFeature:!0,allowNavigationTo:function(e){return s.Wootric.isWootricTextArea(e)||v.SearchViewModel.isSearchInput(e)},shouldFocusEditor:_.InlineCardVM.isInlineCard,placeholder:{strings:this.context.textResources.denali.placeholder,uploadInputAccept:"safari"===M?p.Documents.ACCEPTED_UPLOAD_MIME_TYPES.join(","):p.Documents.ACCEPTED_UPLOAD_EXTENSIONS.join(","),upload:function(e){return t._uploadViewModel.uploadModel.upload(e,!1)}}}),A=k.RxUtils.promiseToStream(function(){return h.StEngine.create(y,w,d,m,S,""+e,a.settings,a.features,r,t.context.environment)});return i.createElement(u.BasePage,{key:"base-page-"+e,title:A.switchMap(function(e){return e.flatMap(function(e){return e.toOption()}).map(function(e){return e.documentModel.title}).getOrElse(o.Observable.of("Grammarly"))}).map(function(e){return e||"Grammarly"})},i.createElement("div",null,i.createElement(L,{key:"denali-editor-content",docId:""+e,notifications:r,userAccount:a,upgradeHook:l,networkState:c,uploadViewModel:this._uploadViewModel,ded:S,engineStream:A,selfUpdate:g}),i.createElement(C.DenaliEditorLoader,{key:"loader",engineStream:A,uploadVM:this._uploadViewModel,features:a.features})))},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillReceiveProps=function(e){var t=Number(e.docId);this._docId.set(a.Option.of(t))},t.prototype.render=function(){var e=this;return i.createElement(c.F.div,null,this._docId.view(function(t){return t.filter(function(e){return!isNaN(e)}).fold(function(){return i.createElement(u.BasePage,{title:"Grammarly"},i.createElement(y.DocumentNotFound,{key:"404"}))},function(t){return e._renderPageDoc(t)})}))},t}(u.BaseComponent);t.DenaliEditorPage=T},1378:function(e,t,n){"use strict";function r(e){return a.createElement(c.BaseButton,o.__assign({},i(e,l.button)))}function i(e,t){var n=s.classes(e.className,t).className;return o.__assign({},e,{className:n})}Object.defineProperty(t,"__esModule",{value:!0});var o=n(3),a=n(8),s=n(6),c=n(1611);t.BaseButtonProps=c.BaseButtonProps;var l=n(1445),u=n(513),d=n(1449);t.AnimationMode=d.AnimationMode,t.Button=r,function(e){e.Animated=function(e){return a.createElement(c.BaseButton,o.__assign({},o.__assign({},e,{animationMode:e.animationMode||d.AnimationMode.FromClickPoint})))},e.Blue=function(t){return a.createElement(e.Animated,o.__assign({},i(t,l.blue)))},e.White=function(t){return a.createElement(e.Animated,o.__assign({},i(t,l.white)))},e.Grey=function(t){return a.createElement(e.Animated,o.__assign({},i(t,l.grey)))},e.Caps=function(e){return a.createElement(c.BaseButton,o.__assign({},i(e,l.caps)))},e.Round=function(t){return a.createElement(e.Animated,o.__assign({},i(o.__assign({},t,{animationMode:d.AnimationMode.FromCenter}),l.round)))},e.Flat=function(t){return a.createElement(e.Animated,o.__assign({},i(t,l.flat)))},e.SidebarFlat=function(e){return a.createElement(c.BaseButton,o.__assign({},i(e,l.sidebarFlat)))},e.Group=function(e){var t=e.children,n=e.className,r=e.sticky;return a.createElement(s.F.div,o.__assign({},s.classes(n,r?l.groupSticky:l.group)),t)}}(r=t.Button||(t.Button={})),t.appendClassToProps=i,t.InfoButton=function(e){var t=e.title,n=e.titleAlign,i=e.buttonClass,o=e.iconClass,c=e.iconWidth,l=e.tooltipClass;return a.createElement(r,{name:"info-button",title:a.createElement(s.F.div,{className:l},a.createElement("p",null,t)),titleAlign:n,className:i},a.createElement(u.Icon.Info,{width:c,className:o}))}},1381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(1498);t.H1=function(e){var t=e.className,n=e.children,s=r.__rest(e,["className","children"]);return i.createElement(o.F.h1,r.__assign({},o.classes(a.header1,t),s),n)},t.H2=function(e){var t=e.className,n=e.children;return i.createElement(o.F.h2,r.__assign({},o.classes(a.header2,t)),n)},t.H3=function(e){var t=e.className,n=e.children,s=r.__rest(e,["className","children"]);return i.createElement(o.F.h3,r.__assign({},o.classes(a.header3,t),s),n)},t.Paper=function(e){var t=e.className,n=e.children;return i.createElement(o.F.span,r.__assign({},o.classes(a.paper,t)),n)},t.P1=function(e){var t=e.className,n=e.children;return i.createElement(o.F.div,r.__assign({},o.classes(a.p1,t)),n)},t.P2=function(e){var t=e.className,n=e.children;return i.createElement(o.F.div,r.__assign({},o.classes(a.p2,t)),n)},t.Small=function(e){var t=e.className,n=e.name,s=e.children;return i.createElement(o.F.small,r.__assign({},o.classes(a.small,t),{"data-name":n}),s)}},1383:function(e,t,n){"use strict";function r(e,t){function n(){e.classList.add("ps--focus")}function r(){e.classList.remove("ps--focus")}var i=this;i.settings=c();for(var o in t)i.settings[o]=t[o];i.containerWidth=null,i.containerHeight=null,i.contentWidth=null,i.contentHeight=null,i.isRtl="rtl"===l.css(e,"direction"),i.isNegativeScroll=function(){var t=e.scrollLeft,n=null;return e.scrollLeft=-1,n=e.scrollLeft<0,e.scrollLeft=t,n}(),i.negativeScrollAdjustment=i.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.event=new u,i.ownerDocument=e.ownerDocument||document,i.scrollbarXRail=l.appendTo(l.create("div","ps__scrollbar-x-rail"),e),i.scrollbarX=l.appendTo(l.create("div","ps__scrollbar-x"),i.scrollbarXRail),i.scrollbarX.setAttribute("tabindex",0),i.event.bind(i.scrollbarX,"focus",n),i.event.bind(i.scrollbarX,"blur",r),i.scrollbarXActive=null,i.scrollbarXWidth=null,i.scrollbarXLeft=null,i.scrollbarXBottom=s.toInt(l.css(i.scrollbarXRail,"bottom")),i.isScrollbarXUsingBottom=i.scrollbarXBottom===i.scrollbarXBottom,i.scrollbarXTop=i.isScrollbarXUsingBottom?null:s.toInt(l.css(i.scrollbarXRail,"top")),i.railBorderXWidth=s.toInt(l.css(i.scrollbarXRail,"borderLeftWidth"))+s.toInt(l.css(i.scrollbarXRail,"borderRightWidth")),l.css(i.scrollbarXRail,"display","block"),i.railXMarginWidth=s.toInt(l.css(i.scrollbarXRail,"marginLeft"))+s.toInt(l.css(i.scrollbarXRail,"marginRight")),l.css(i.scrollbarXRail,"display",""),i.railXWidth=null,i.railXRatio=null,i.scrollbarYRail=l.appendTo(l.create("div","ps__scrollbar-y-rail"),e),i.scrollbarY=l.appendTo(l.create("div","ps__scrollbar-y"),i.scrollbarYRail),i.scrollbarY.setAttribute("tabindex",0),i.event.bind(i.scrollbarY,"focus",n),i.event.bind(i.scrollbarY,"blur",r),i.scrollbarYActive=null,i.scrollbarYHeight=null,i.scrollbarYTop=null,i.scrollbarYRight=s.toInt(l.css(i.scrollbarYRail,"right")),i.isScrollbarYUsingRight=i.scrollbarYRight===i.scrollbarYRight,i.scrollbarYLeft=i.isScrollbarYUsingRight?null:s.toInt(l.css(i.scrollbarYRail,"left")),i.scrollbarYOuterWidth=i.isRtl?s.outerWidth(i.scrollbarY):null,i.railBorderYWidth=s.toInt(l.css(i.scrollbarYRail,"borderTopWidth"))+s.toInt(l.css(i.scrollbarYRail,"borderBottomWidth")),l.css(i.scrollbarYRail,"display","block"),i.railYMarginHeight=s.toInt(l.css(i.scrollbarYRail,"marginTop"))+s.toInt(l.css(i.scrollbarYRail,"marginBottom")),l.css(i.scrollbarYRail,"display",""),i.railYHeight=null,i.railYRatio=null}function i(e){return e.getAttribute("data-ps-id")}function o(e,t){e.setAttribute("data-ps-id",t)}function a(e){e.removeAttribute("data-ps-id")}var s=n(1388),c=n(1583),l=n(1390),u=n(1580),d=n(1581),p={};t.add=function(e,t){var n=d();return o(e,n),p[n]=new r(e,t),p[n]},t.remove=function(e){delete p[i(e)],a(e)},t.get=function(e){return p[i(e)]}},1384:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(518),a=n(16),s=n(515),c=n(105),l=n(2),u=n(1393);t.TooltipElement=u.TooltipElement;var d=n(1438);t.DenaliTooltipElement=d.DenaliTooltipElement;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._uuid=s.Tooltip.genUuid(),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=o.findDOMNode(this);this._subs=[a.Observable.merge(a.Observable.fromEvent(t,"mouseenter").withLatestFrom(l.RxUtils.toObservable(this.props.title),function(e,t){return t}).filter(Boolean).do(function(n){return e.context.tooltip.setContent({target:t,content:n,alignment:e.props.align||"auto",uuid:e._uuid})}),a.Observable.fromEvent(t,"mouseleave").do(function(){return e.context.tooltip.cleanContent(e._uuid)})).subscribe().add(function(){return e.context.tooltip.cleanContent(e._uuid)})]},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){return i.Children.only(this.props.children)},t}(c.BaseComponent);t.Tooltip=p},1385:function(e,t,n){"use strict";function r(e,t){return e.settings.minScrollbarLength&&(t=Math.max(t,e.settings.minScrollbarLength)),e.settings.maxScrollbarLength&&(t=Math.min(t,e.settings.maxScrollbarLength)),t}function i(e,t){var n={width:t.railXWidth};t.isRtl?n.left=t.negativeScrollAdjustment+e.scrollLeft+t.containerWidth-t.contentWidth:n.left=e.scrollLeft,t.isScrollbarXUsingBottom?n.bottom=t.scrollbarXBottom-e.scrollTop:n.top=t.scrollbarXTop+e.scrollTop,a.css(t.scrollbarXRail,n);var r={top:e.scrollTop,height:t.railYHeight};t.isScrollbarYUsingRight?t.isRtl?r.right=t.contentWidth-(t.negativeScrollAdjustment+e.scrollLeft)-t.scrollbarYRight-t.scrollbarYOuterWidth:r.right=t.scrollbarYRight-e.scrollLeft:t.isRtl?r.left=t.negativeScrollAdjustment+e.scrollLeft+2*t.containerWidth-t.contentWidth-t.scrollbarYLeft-t.scrollbarYOuterWidth:r.left=t.scrollbarYLeft+e.scrollLeft,a.css(t.scrollbarYRail,r),a.css(t.scrollbarX,{left:t.scrollbarXLeft,width:t.scrollbarXWidth-t.railBorderXWidth}),a.css(t.scrollbarY,{top:t.scrollbarYTop,height:t.scrollbarYHeight-t.railBorderYWidth})}var o=n(1388),a=n(1390),s=n(1383),c=n(1387);e.exports=function(e){var t=s.get(e);t.containerWidth=e.clientWidth,t.containerHeight=e.clientHeight,t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight;var n;e.contains(t.scrollbarXRail)||(n=a.queryChildren(e,".ps__scrollbar-x-rail"),n.length>0&&n.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarXRail,e)),e.contains(t.scrollbarYRail)||(n=a.queryChildren(e,".ps__scrollbar-y-rail"),n.length>0&&n.forEach(function(e){a.remove(e)}),a.appendTo(t.scrollbarYRail,e)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=r(t,o.toInt(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=o.toInt((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=r(t,o.toInt(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=o.toInt(e.scrollTop*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),i(e,t),t.scrollbarXActive?e.classList.add("ps--active-x"):(e.classList.remove("ps--active-x"),t.scrollbarXWidth=0,t.scrollbarXLeft=0,c(e,"left",0)),t.scrollbarYActive?e.classList.add("ps--active-y"):(e.classList.remove("ps--active-y"),t.scrollbarYHeight=0,t.scrollbarYTop=0,c(e,"top",0))}},1387:function(e,t,n){"use strict";var r=n(1383),i=function(e){var t=document.createEvent("Event");return t.initEvent(e,!0,!0),t};e.exports=function(e,t,n){if(void 0===e)throw"You must provide an element to the update-scroll function";if(void 0===t)throw"You must provide an axis to the update-scroll function";if(void 0===n)throw"You must provide a value to the update-scroll function";"top"===t&&n<=0&&(e.scrollTop=n=0,e.dispatchEvent(i("ps-y-reach-start"))),"left"===t&&n<=0&&(e.scrollLeft=n=0,e.dispatchEvent(i("ps-x-reach-start")));var o=r.get(e);"top"===t&&n>=o.contentHeight-o.containerHeight&&(n=o.contentHeight-o.containerHeight,n-e.scrollTop<=2?n=e.scrollTop:e.scrollTop=n,e.dispatchEvent(i("ps-y-reach-end"))),"left"===t&&n>=o.contentWidth-o.containerWidth&&(n=o.contentWidth-o.containerWidth,n-e.scrollLeft<=2?n=e.scrollLeft:e.scrollLeft=n,e.dispatchEvent(i("ps-x-reach-end"))),void 0===o.lastTop&&(o.lastTop=e.scrollTop),void 0===o.lastLeft&&(o.lastLeft=e.scrollLeft),"top"===t&&n<o.lastTop&&e.dispatchEvent(i("ps-scroll-up")),"top"===t&&n>o.lastTop&&e.dispatchEvent(i("ps-scroll-down")),"left"===t&&n<o.lastLeft&&e.dispatchEvent(i("ps-scroll-left")),"left"===t&&n>o.lastLeft&&e.dispatchEvent(i("ps-scroll-right")),"top"===t&&n!==o.lastTop&&(e.scrollTop=o.lastTop=n,e.dispatchEvent(i("ps-scroll-y"))),"left"===t&&n!==o.lastLeft&&(e.scrollLeft=o.lastLeft=n,e.dispatchEvent(i("ps-scroll-x")))}},1388:function(e,t,n){"use strict";function r(e){var t,n=["ps--in-scrolling"];return t=void 0===e?["ps--x","ps--y"]:["ps--"+e],n.concat(t)}var i=n(1390),o=t.toInt=function(e){return parseInt(e,10)||0};t.isEditable=function(e){return i.matches(e,"input,[contenteditable]")||i.matches(e,"select,[contenteditable]")||i.matches(e,"textarea,[contenteditable]")||i.matches(e,"button,[contenteditable]")},t.removePsClasses=function(e){for(var t=0;t<e.classList.length;t++){var n=e.classList[t];0===n.indexOf("ps-")&&e.classList.remove(n)}},t.outerWidth=function(e){return o(i.css(e,"width"))+o(i.css(e,"paddingLeft"))+o(i.css(e,"paddingRight"))+o(i.css(e,"borderLeftWidth"))+o(i.css(e,"borderRightWidth"))},t.startScrolling=function(e,t){for(var n=r(t),i=0;i<n.length;i++)e.classList.add(n[i])},t.stopScrolling=function(e,t){for(var n=r(t),i=0;i<n.length;i++)e.classList.remove(n[i])},t.env={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof window&&null!==window.navigator.msMaxTouchPoints}},1390:function(e,t,n){"use strict";function r(e,t){return window.getComputedStyle(e)[t]}function i(e,t,n){return"number"==typeof n&&(n=n.toString()+"px"),e.style[t]=n,e}function o(e,t){for(var n in t){var r=t[n];"number"==typeof r&&(r=r.toString()+"px"),e.style[n]=r}return e}var a={};a.create=function(e,t){var n=document.createElement(e);return n.className=t,n},a.appendTo=function(e,t){return t.appendChild(e),e},a.css=function(e,t,n){return"object"==typeof t?o(e,t):void 0===n?r(e,t):i(e,t,n)},a.matches=function(e,t){return void 0!==e.matches?e.matches(t):e.msMatchesSelector(t)},a.remove=function(e){void 0!==e.remove?e.remove():e.parentNode&&e.parentNode.removeChild(e)},a.queryChildren=function(e,t){return Array.prototype.filter.call(e.childNodes,function(e){return a.matches(e,t)})},e.exports=a},1391:function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t];n[2]?e.push("@media "+n[2]+"{"+n[1]+"}"):e.push(n[1])}return e.join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var r={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(r[o]=!0)}for(i=0;i<t.length;i++){var a=t[i];"number"==typeof a[0]&&r[a[0]]||(n&&!a[2]?a[2]=n:n&&(a[2]="("+a[2]+") and ("+n+")"),e.push(a))}},e}},1393:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(7),s=n(6),c=n(105),l=n(2),u=n(1433),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._outOfTarget=function(e){return function(t){return!l.DOM.Rect.hasPoint(t.getBoundingClientRect(),e)}},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._listenTooltipAppearance()},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[],this.context.tooltip.hide()},t.prototype.render=function(){return i.createElement(s.F.div,{role:"tooltip"},this.context.tooltip.state.view(this.props.children))},t.prototype._listenTooltipAppearance=function(){var e=this,t=o.Observable.fromEvent(document,"keydown").filter(function(e){return e.keyCode===l.Keys.ESC_CODE}),n=o.Observable.fromEvent(document,"mousedown").withLatestFrom(this.context.tooltip.state).filter(function(t){var n=t[0];return t[1].map(function(e){return e.target}).filter(function(){return l.DOM.isDisabled(n.target)}).forAll(e._outOfTarget({x:n.clientX,y:n.clientY}))}),r=o.Observable.merge(t,n,o.Observable.fromEvent(document,"scroll"),o.Observable.fromEvent(window,"scrollaction").filter(function(e){return"show"===e.detail})).mapTo(l.RxUtils.voidValue).share();this._subs=[this.context.tooltip.hasContent.filter(Boolean).switchMapTo(r.first()).subscribe(this.context.tooltip.hide),this.context.tooltip.hasContent.filter(Boolean).switchMapTo(o.Observable.merge(l.RxUtils.delay(!0,500),r.mapTo(!1)).first()).filter(Boolean).subscribe(this.context.tooltip.show)]},t}(c.BaseComponent);t.BaseTooltip=d;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype._alignmentToClassMapper=function(e){switch(e){case"top":return u.top;case"right":return u.right;case"auto":case"center":case"bottom":case"left":case"topCenter":case"topLeft":case"topRight":case"bottomCenter":case"bottomRight":case"bottomLeft":return"";default:return l.assertNever(e)}},t.prototype.render=function(){var e=this;return i.createElement(d,null,function(t){return i.createElement("div",r.__assign({ref:function(t){return e._el=t}},s.classes(u.tooltip,t.map(function(t){return e._alignmentToClassMapper(t.alignment)}).orNull()),{style:e._getTooltipStyle(t)}),t.map(function(e){return e.content}).orNull())})},t.prototype._getTooltipStyle=function(e){var t=a.Option.of(this._el&&this._el.offsetParent);return a.Option.map2(t,e,function(e,t){var n=t.target,r=t.alignment,i=n.getBoundingClientRect(),o=e.getBoundingClientRect();return{top:("top"===r?i.top-26:i.bottom)-o.top,left:i.left+i.width/2-o.left,opacity:1,visibility:"visible",transition:""}}).getOrElse({top:0,left:0,opacity:0,visibility:"none",transition:"none"})},t}(c.BaseComponent);t.TooltipElement=p},1394:function(e,t){function n(e,t){for(var n=0;n<e.length;n++){var r=e[n],i=p[r.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](r.parts[o]);for(;o<r.parts.length;o++)i.parts.push(c(r.parts[o],t))}else{for(var a=[],o=0;o<r.parts.length;o++)a.push(c(r.parts[o],t));p[r.id]={id:r.id,refs:1,parts:a}}}}function r(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],o=i[0],a=i[1],s=i[2],c=i[3],l={css:a,media:s,sourceMap:c};n[o]?n[o].parts.push(l):t.push(n[o]={id:o,parts:[l]})}return t}function i(e,t){var n=h(),r=v[v.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),v.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=v.indexOf(e);t>=0&&v.splice(t,1)}function a(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function s(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function c(e,t){var n,r,i;if(t.singleton){var c=_++;n=g||(g=a(t)),r=l.bind(null,n,c,!1),i=l.bind(null,n,c,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=s(t),r=d.bind(null,n),i=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=a(t),r=u.bind(null,n),i=function(){o(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}function l(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var o=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(o,a[t]):e.appendChild(o)}}function u(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function d(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),o=e.href;e.href=URL.createObjectURL(i),o&&URL.revokeObjectURL(o)}var p={},m=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},f=m(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=m(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,_=0,v=[];e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");t=t||{},void 0===t.singleton&&(t.singleton=f()),void 0===t.insertAt&&(t.insertAt="bottom");var i=r(e);return n(i,t),function(e){for(var o=[],a=0;a<i.length;a++){var s=i[a],c=p[s.id];c.refs--,o.push(c)}if(e){n(r(e),t)}for(var a=0;a<o.length;a++){var c=o[a];if(0===c.refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete p[c.id]}}}};var b=function(){var e=[];return function(t,n){return e[t]=n,e.filter(Boolean).join("\n")}}()},1395:function(e,t){function n(){return r}var r="";e.exports=function(e){return r+=e.toString()+"\n",n}},1397:function(e,t,n){"use strict";function r(e){var t=e.children,n=e.className;return o.createElement(a.F.div,i.__assign({},a.classes(p.modal,n),{onClick:d.ReactUtils.stopPropagation(u.noop)}),t)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(8),a=n(6),s=n(16),c=n(105),l=n(1402),u=n(2),d=n(91),p=n(1531),m=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._overlayIndex=t._index++,n._subs=[],n._visibilityState=a.Atom.create("hidden"),n}return i.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;if(this._visibilityState.set(this.props.visible.get()?"visible":"hidden"),this._subs.push(this._visibilityState.map(function(e){return"visible"===e}).distinctUntilChanged().subscribe(function(t){return e.context.visibleOverlays.modify(function(n){var r=new Set(n);return t?r.add(e._overlayIndex):r.delete(e._overlayIndex),r})}),this.props.visible.skip(1).subscribe(function(t){var n=e.props.animate?"fadeOut":"hidden";e._visibilityState.set(t?"visible":n)})),!this.props.preventClose){var t=this.props.visible;this._subs.push(this._visibilityState.switchMap(function(e){return"visible"===e?s.Observable.fromEvent(document,"keydown"):s.Observable.empty()}).filter(function(e){return e.keyCode===u.Keys.ESC_CODE}).subscribe(function(){return t.set(!1)}))}},t.prototype.componentWillUnmount=function(){var e=this;this.context.visibleOverlays.modify(function(t){var n=new Set(t);return n.delete(e._overlayIndex),n}),this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this;return o.createElement(a.F.div,{role:"overlay-wrapper"},this._visibilityState.view(function(t){switch(t){case"visible":case"fadeOut":return o.createElement(a.F.div,i.__assign({},a.classes(e.props.animate?e._getAnimatedTypeClass(t):e._getTypeClass(t)),{onClick:function(){return!e.props.preventClose&&e.props.visible.set(!1)},onTransitionEnd:function(){"fadeOut"===t&&e._visibilityState.set("hidden")}}),o.createElement(a.F.div,i.__assign({},a.classes(e.props.animate&&e._getContentClass(t))),o.createElement(l.ScrollBarY,{name:"modal",allowHover:!0,className:p.scroll},o.createElement(a.F.div,{className:e._getAlignmentClass()},e.props.children))));case"hidden":return null;default:return u.assertNever(t)}}))},t.prototype._getAlignmentClass=function(){switch(this.props.alignment){case"top-center":return p.wrapperTopCenter;case"bottom-right":return p.wrapperBottomRight;case"none":return"";case"center":default:return p.wrapperCenter}},t.prototype._getTypeClass=function(e){if("visible"!==e)return p.wrapperTransparent;switch(this.props.overlayType){case"light":return p.wrapperLight;case"transparent":return p.wrapperTransparent;case"dark":default:return p.wrapperDark}},t.prototype._getAnimatedTypeClass=function(e){var t="visible"===e;switch(this.props.overlayType){case"light":return u.Animation.rafSequence(t?[p.wrapperTransparent,p.wrapperLight]:[p.wrapperLight,p.wrapperTransparent],!0);case"transparent":return s.Observable.of(p.wrapperTransparent);case"dark":default:return u.Animation.rafSequence(t?[p.wrapperTransparent,p.wrapperDark]:[p.wrapperDark,p.wrapperTransparent],!0)}},t.prototype._getContentClass=function(e){var t=this.props.theme||p,n=t.contentFaded,r=t.content,i="visible"===e?[n,r]:[r,n];return u.Animation.rafSequence(i,!0)},t.defaultProps={visible:a.Atom.create(!0)},t._index=0,t}(c.BaseComponent);t.Overlay=m,t.Modal=r,function(e){e.Header=function(e){var t=e.children,n=e.className;return o.createElement(a.F.header,i.__assign({},a.classes(p.header,n)),t)},e.Body=function(e){var t=e.children,n=e.className;return o.createElement(a.F.div,i.__assign({},a.classes(p.body,n))," ",t," ")},e.Footer=function(e){var t=e.children,n=e.className;return o.createElement(a.F.div,i.__assign({},a.classes(p.footer,n))," ",t," ")}}(r=t.Modal||(t.Modal={}))},1398:function(e,t,n){"use strict";function r(e){return l.StringUtils.isBreakWordChar(e.charCodeAt(0))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(16),a=n(7),s=n(4),c=n(516),l=n(2),u=n(18),d=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=!1),this._textLength=e,this._verify=t}return e.prototype.pushChanges=function(e){if(u.Change.isReset(e))this._textLength=e.length;else if(u.Change.isDelta(e)){if(this._verify&&this._textLength!==e.prevLen)throw new Error("Incorrect textLength on insert. Expected: "+e.prevLen+", actual: "+this._textLength);this._textLength+=e.length}},Object.defineProperty(e.prototype,"textLength",{get:function(){return this._textLength},enumerable:!0,configurable:!0}),e}();t.TextLengthCalc=d;var p=function(e){function t(t,n,r,i){var o=e.call(this,t,n,r)||this;return o.rangeId=i,o}return i.__extends(t,e),t.prototype.toString=function(){return"R(#"+this.rangeId+": "+this.start+"; "+this.end+")"},t}(c.Range);t.RangeWithId=p;var m=function(e){function t(t,n,r,i,o){var a=e.call(this,t,n,r,i)||this;return a.alertId=o,a}return i.__extends(t,e),t.prototype.toString=function(){return"R(#"+this.alertId+";"+this.rangeId+": "+this.start+"; "+this.end+")"},t}(p);t.RangeWithIdAndAlertId=m,function(e){function t(e){return Boolean(e.alertId)}e.hasAlertId=t}(p=t.RangeWithId||(t.RangeWithId={})),t.RangeWithId=p;!function(e){var t=function(){function e(){}return e.prototype.registerRange=function(e,t,n){return n?new m(t.start,t.end,t.type,e,n):new p(t.start,t.end,t.type,e)},e.prototype.deregisterRange=function(e){return c.Range.empty},e}();e.RangeManagerMock=t,e.mock=new t}(t.RangeManager||(t.RangeManager={}));var f=function(e,t){var n=e.end-t.end;return 0===n?e.start-t.start:n},h=function(){function e(e){void 0===e&&(e=0);var t=this;this._verifyState=!1,this._log=s.Monitoring.Logging.getLogger("position_manager",s.Logging.LogLevel.INFO),this._ranges={},this._rangesArray=[],this._rangeChanged=new o.Subject,this._changes=new o.Subject,this.changes=this._changes,this.rangeChanged=this._rangeChanged,this._lenCalc=new d(e,this._verifyState),l.registerDebugHelper("positions",function(){t._log.info("PositionManager",t.toString()),t._verifyIsSorted()})}return e.prototype.pushChanges=function(e){var t=this;this._log.trace("PM Incoming: ",{changes:e,currentLen:this._lenCalc.textLength}),this._lenCalc.pushChanges(e);var n=!1,i=0,o=new Set;u.Change.isFlush(e)||(u.Change.isReset(e)?this._rangesArray.forEach(function(e){e.start=0,e.end=0,o.add(e.rangeId)}):e.delta.ops.forEach(function(e){if(e.retain)i+=e.retain;else if(e.insert){var a=i,s=l.ArrayUtils.lowerBound(t._rangesArray,function(e){return e.end<a}),c=e.insert;if(i+=c.length,s<t._rangesArray.length){n=!0;for(var u=c.charAt(c.length-1),d=c.charAt(0),p=s;p<t._rangesArray.length;++p){var m=t._rangesArray[p];m.start<a?m.end===a?r(d)||(o.add(m.rangeId),m.end+=c.length):(o.add(m.rangeId),m.end+=c.length):(m.start!==a||r(u)?m.start+=c.length:o.add(m.rangeId),m.end+=c.length)}}}else if(e.delete){var f=i,s=l.ArrayUtils.lowerBound(t._rangesArray,function(e){return e.end<f});if(s<t._rangesArray.length){n=!0;for(var h=f+e.delete,p=s;p<t._rangesArray.length;++p){var m=t._rangesArray[p];m.start,m.start<h?(o.add(m.rangeId),m.start<f?m.end=m.end-Math.min(e.delete,m.end-f):m.end<=h?(m.start=f,m.end=f):(m.start=f,m.end-=e.delete)):(m.start-=e.delete,m.end-=e.delete)}}}}),this._verifyState&&this._verifyIsSorted(),n&&this._changes.next(),o.size>0&&this._rangeChanged.next(Array.from(o).map(function(e){return t.getRange(e)})))},e.prototype.registerRange=function(e,t,n){if(void 0!==this._ranges[e])throw new Error("Range already registered "+e);this._log.trace("Registered range: "+e);var r=n?new m(t.start,t.end,t.type,e,n):new p(t.start,t.end,t.type,e);return this._ranges[e]=r,this._rangesArray.push(r),this._rangesArray.sort(f),r},e.prototype.getRange=function(e){var t=this._ranges[e];if(void 0===t)throw new Error("Range is not registered");return t},e.prototype.deregisterRange=function(e){this._log.trace("deregisterRange #"+e);var t=this._ranges[e];if(void 0===t)throw new Error("Range is not registered: "+e);this._verifyState&&this._verifyIsSorted(),delete this._ranges[e];try{for(var n=l.ArrayUtils.lowerBound(this._rangesArray,function(e){return e.end<t.end}),r=n;r<this._rangesArray.length&&this._rangesArray[r].rangeId!==e;)r++;return l.invariant(r<this._rangesArray.length&&this._rangesArray[r].rangeId===e,"Range should be present: "+e),this._rangesArray.splice(r,1),t}catch(t){throw this._log.error("Cannot deregister range "+e,this._rangesArray),t}},e.prototype.findById=function(e){return a.Option.of(this._ranges[e])},e.prototype.findByRange=function(e){for(var t=[],n=l.ArrayUtils.lowerBound(this._rangesArray,function(t){return t.end<e.end}),r=n;r<this._rangesArray.length&&this._rangesArray[r].end===e.end;)this._rangesArray[r].start===e.start&&t.push(this._rangesArray[r]),r++;return t},e.prototype.findIntersections=function(e){for(var t=[],n=l.ArrayUtils.lowerBound(this._rangesArray,function(t){return t.end<e.start}),r=n;r<this._rangesArray.length;){var i=this._rangesArray[r];i.end>e.start&&e.end>i.start&&t.push(this._rangesArray[r]),r++}return t},e.prototype.getTextLength=function(){return this._lenCalc.textLength},e.prototype._verifyIsSorted=function(){for(var e=1;e<this._rangesArray.length;++e)this._rangesArray[e-1].end>this._rangesArray[e].end&&(this._log.isEnabled(s.Logging.LogLevel.DEBUG)?this._log.error("Houston, we have a problem: Array is not sorted anymore @ "+e,this._rangesArray):this._log.error("Houston, we have a problem: Array is not sorted anymore"),this._rangesArray.sort(f))},e.prototype.toString=function(){return JSON.stringify(this,void 0,2)},e.prototype.toJSON=function(){return{textLength:this.getTextLength(),ranges:this._rangesArray}},e}();t.PositionManager=h},1401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(7),a=n(16),s=n(105),c=n(6),l=n(2),u=n(32),d=n(1425),p=n(1529),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(d.AnimationWrapper),f=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._uuid=l.StringUtils.alphanumeric(12),n._debug=n.context.appRouter.query.get("debug").contains("dropdown"),n._initialState=n._debug,n._hovered=c.Atom.create(n._initialState),n._hidden=c.Atom.create(!n._initialState),n._listPosState=c.Atom.create({}),n._subs=[],n.hovered=n._hovered.pairwise().switchMap(function(e){var t=e[0];return e[1]?a.Observable.timer(n.props.showDelay).mapTo(!0):t?a.Observable.timer(500).mapTo(!1):a.Observable.of(!1)}).merge(t._hoveredForce.map(function(e){return e.contains(n._uuid)})).distinctUntilChanged().do(function(e){return e&&t._hoveredForce.next(o.Some(n._uuid))}).do(function(e){return e&&n._hidden.set(!1)}).share().startWith(n._initialState),n}return r.__extends(t,e),t.prototype.getChildContext=function(){return{hovered:this._hovered}},t.prototype._getHAlign=function(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":return{right:"50%",marginRight:"-"+(this._dropdownEl?this._dropdownEl.offsetWidth:0)/2+"px"};default:return l.assertNever(e)}},t.prototype._getVAlign=function(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return l.assertNever(e)}},t.prototype.calcDropdownPosition=function(){var e=this;if(this.props.customPosition)return this._listPosState.set(this.props.customPosition);var t=this.props.align,n=this.props.vAlign;this._listPosState.set(r.__assign({},this._getHAlign(t),this._getVAlign(n)));var i="auto"===t,o="auto"===n;(i||o)&&requestAnimationFrame(function(){if(e._dropdownEl){var a=document.body.getBoundingClientRect(),s=e._dropdownEl.getBoundingClientRect();e._listPosState.set(r.__assign({},e._getHAlign(i?a.right<s.right?"right":"left":t),e._getVAlign(o?a.bottom<s.bottom?"top":"bottom":n)))}})},t.prototype.componentDidMount=function(){var e=this;this._subs.push(this.hovered.subscribe(function(t){t&&e.calcDropdownPosition(),e.props.onVisibilityChange&&e.props.onVisibilityChange(t)}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.componentWillReciveProps=function(){this.calcDropdownPosition()},t.prototype.mapStateToClass=function(e,t){var n={start:"",end:""};return t?{prev:n,next:{start:p.transparent,end:""}}:{prev:{start:"",end:p.transparent},next:n}},t.prototype.render=function(){var e=this,n=this.props,a=n.label,s=n.theme,u=void 0===s?{}:s;return i.createElement("div",r.__assign({},c.classes(p.wrapper,u.dropdownContainer),{onMouseEnter:function(){return e._hovered.set(!0)},onMouseLeave:function(){return e._hovered.set(e._initialState)},onClickCapture:function(n){var r=n.target;if(!l.DOM.isDisabled(r)){var i=!l.DOM.hasParentWithClassName(r,p.list);t._hoveredForce.next(i?o.Some(e._uuid):o.None),e._hovered.set(i)}}}),a,i.createElement(m,{state:this.hovered,stateToClassMapper:this.mapStateToClass},function(t){return t.state?i.createElement(h,r.__assign({key:"list",name:e.props.name,onTransitionEnd:"prev"===t.type?function(){return e._hidden.set(!0)}:l.noop},c.classes(u.dropdownList,t.view,e._hidden.view(function(e){return e?p.hidden:""})),{mount:function(t){return e._dropdownEl=t},style:e._listPosState}),e.props.children):null}))},t.defaultProps={align:"auto",vAlign:"auto",showDelay:500},t.childContextTypes=u.ElementState.HoveredContextTypes,t.Delimiter=function(){return i.createElement("div",{className:p.delimiter})},t._hoveredForce=new a.Subject,t}(s.BaseComponent);t.Dropdown=f;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.getChildContext=function(){return u.ElementState.emptyWithName("dropdown-"+this.props.name)},t.prototype.render=function(){return i.createElement(c.F.div,r.__assign({},c.classes(this.props.className,p.list),{style:this.props.style,mount:this.props.mount,role:"dropdown-list","data-name":"dropdown-"+this.props.name,onTransitionEnd:this.props.onTransitionEnd}),this.props.children)},t.childContextTypes=u.ElementState.contextTypes,t}(i.Component);t.DropdownList=h},1402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(1579),s=n(6),c=n(105),l=n(4),u=n(2);n(1532);var d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._classes={hidden:"ps-hidden",visible:"ps-hovered",alwaysVisible:"ps-visible",fastTransition:"ps-fast-transition"},t._mount=function(e){t._el=e,t.props.onMount&&e&&t.props.onMount(e)},t._update=function(){requestAnimationFrame(function(){t._el&&a.update(t._el)})},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.update,n=e.allowHover,r=e.showWhenScrollable,i=e.className,o=this._el;a.initialize(o,{suppressScrollX:!0,minScrollbarLength:40,handlers:["click-rail","drag-scrollbar","keyboard","passiveWheel","touch"]}),this._update(),(s=this._subs).push.apply(s,p.customize(o,{name:this.props.name,allowHover:n||!1,classes:this._classes}).concat([r?this.context.screen.resize.throttleTime(100).subscribe(this._update):this.context.screen.resize.debounceTime(200).subscribe(this._update)])),t&&this._subs.push(t.subscribe(this._update)),i&&this._subs.push(u.RxUtils.toObservable(i).map(function(e){return e?e.split(" "):[]}).scan(function(e,t){return e&&(n=o.classList).remove.apply(n,e),t&&(r=o.classList).add.apply(r,t),t;var n,r},[]).subscribe());var s},t.prototype.componentWillUnmount=function(){a.destroy(this._el),this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this.props,t=e.children,n=e.allowHover,o=e.showWhenScrollable,a=e.onScroll,c=e.name;return i.createElement(s.F.div,r.__assign({},s.classes(!n&&this._classes.hidden,o&&this._classes.alwaysVisible),{onScroll:a?function(){return a.next()}:void 0,mount:this._mount,role:"scrollbar-"+c}),t)},t}(c.BaseComponent);t.ScrollBarY=d;var p;!function(e){var t=["mousewheel","DOMMouseScroll","wheel","touchmove"];e.customize=function(e,n){var r=n.name,i=n.allowHover,a=n.classes,s=l.Monitoring.Logging.getLogger("scrollBarY."+r,l.Logging.LogLevel.DEBUG),c=e.querySelector(".ps__scrollbar-y"),d=e.querySelector(".ps__scrollbar-y-rail"),p=o.Observable.merge(o.Observable.fromEvent(e,"mouseenter",{passive:!0}).mapTo(!0),o.Observable.fromEvent(e,"mouseleave",{passive:!0}).mapTo(!1)).distinctUntilChanged().startWith(!1),m=o.Observable.merge(o.Observable.fromEvent(d,"mouseenter",{passive:!0}).mapTo(!0),o.Observable.fromEvent(d,"mouseleave",{passive:!0}).mapTo(!1)).distinctUntilChanged().startWith(!1),f=o.Observable.merge(o.Observable.fromEvent(c,"mousedown",{passive:!0}).mapTo(!0),o.Observable.fromEvent(document,"mouseup",{passive:!0}).mapTo(!1)).startWith(!1),h=new o.BehaviorSubject(!1),g=o.Observable.merge(o.Observable.fromEvent(document,"paste",{passive:!0}),o.Observable.fromEvent(document,"mousedown",{passive:!0}).filter(function(e){var t=e.target;return t!==c&&t!==d}).do(function(e){return s.trace("force hide event",e)})).switchMap(function(){return o.Observable.from([!0,!1])}).startWith(!1);return[o.Observable.merge.apply(o.Observable,t.map(function(t){return o.Observable.fromEvent(e,t,{passive:!0})})).mapTo(!0).subscribe(h),o.Observable.combineLatest(p,f,m,g).switchMap(function(e){var t=e[0],n=e[1],r=e[2];return e[3]?o.Observable.of("forceHide"):n||r?r&&!n?o.Observable.of("show").delay(600):o.Observable.of("show"):t?o.Observable.merge(h.skip(1).throttleTime(100).mapTo("show"),h.mapTo("hide").throttleTime(100).switchMap(function(){return o.Observable.of("hide").delay(600)})):o.Observable.of("hide").delay(600)}).distinctUntilChanged().do(function(t){switch(window.dispatchEvent(new CustomEvent("scrollaction",{detail:t})),s.trace("new scroll action",{action:t}),t){case"show":e.classList.remove(a.hidden,a.fastTransition),e.classList.add(a.visible);break;case"hide":e.classList.remove(a.visible);break;case"forceHide":e.classList.remove(a.visible),e.classList.add(a.fastTransition);break;default:u.assertNever(t)}return t}).switchMap(function(e){return"show"===e?o.Observable.never():o.Observable.of(!0).delay(300)}).subscribe(function(){i||e.classList.add(a.hidden)})]}}(p||(p={}));!function(e){function t(t,n){return function(o){function a(){var t=null!==o&&o.apply(this,arguments)||this;return t._subs=[],t._onMount=function(e){t._cleanup(),t._init(e),t.props.onMount&&t.props.onMount(e)},t._init=function(r){t._subs.push(e.enable(r,{base:40,padding:15},e.linerSpeed(10,20),n.viewportPadding,n.onScrollOnSelect,n.validateMousedown))},t._cleanup=function(){t._subs.forEach(function(e){return e.unsubscribe()}),t._subs=[]},t}return r.__extends(a,o),a.prototype.componentWillUnmount=function(){this._cleanup()},a.prototype.render=function(){return i.createElement(t,r.__assign({},this.props,{onMount:this._onMount}))},a}(i.Component)}e.withSelectOnScroll=t;var n;!function(e){e.above="above",e.below="below",e.in="in"}(n||(n={})),e.linerSpeed=function(e,t,n){return void 0===n&&(n=1),function(r){return Math.max(n,Math.min(r/e,t))}},e.enable=function(e,t,r,i,a,c){void 0===i&&(i=s.Atom.create({top:0,bottom:0})),void 0===c&&(c=function(){return!0});var l=function(e,n,i,a){var s="up"===a?-1:1;return o.Observable.timer(0,50).withLatestFrom(o.Observable.fromEvent(document,"mousemove",{passive:!0}).throttleTime(100).map(function(t){return{speed:r("up"===a?e.top-t.clientY:t.clientY-e.bottom),mouseX:t.clientX,mouseY:t.clientY}}).startWith({speed:1,mouseX:n,mouseY:i})).map(function(e){var n=(e[0],e[1]),r=n.speed,i=n.mouseX,o=n.mouseY;return{offset:s*t.base*r,mouseX:i,mouseY:o}})},d=o.Observable.merge(o.Observable.fromEvent(e,"mousedown",{passive:!0}).filter(function(e){return 1===e.which||0===e.button}).filter(function(e){return e.target instanceof Element&&c(e.target)}).mapTo(!0),o.Observable.fromEvent(document,"mouseup",{passive:!0}).mapTo(!1),o.Observable.fromEvent(document,"dragend",{passive:!0}).mapTo(!1),o.Observable.fromEvent(document,"click",{passive:!0}).mapTo(!1));return d.withLatestFrom(i).switchMap(function(r){var i=r[0],a=r[1];if(i){var s=e.getBoundingClientRect(),c={top:s.top+t.padding+a.top,bottom:s.bottom-t.padding-a.bottom};return o.Observable.fromEvent(document,"mousemove",{passive:!0}).map(function(e){return e.clientY<c.top?{rect:c,mouseX:e.clientX,mouseY:e.clientY,position:n.above}:e.clientY>c.bottom?{rect:c,mouseX:e.clientX,mouseY:e.clientY,position:n.below}:{rect:c,mouseX:e.clientX,mouseY:e.clientY,position:n.in}})}return o.Observable.of({position:n.in})}).distinctUntilChanged(function(e,t){return e.position===t.position}).switchMap(function(e){switch(e.position){case n.above:return l(e.rect,e.mouseX,e.mouseY,"up");case n.below:return l(e.rect,e.mouseX,e.mouseY,"down");case n.in:return o.Observable.empty();default:return u.assertNever(e)}}).subscribe(function(t){var n=t.offset,r=t.mouseX,i=t.mouseY;e.scrollTop+=n,a(r,i)}).add(d.switchMap(u.RxUtils.orEmpty(o.Observable.fromEvent(document,"wheel",{passive:!0}))).auditTime(200).subscribe(function(e){return a(e.clientX,e.clientY)}))}}(t.SelectAndScroll||(t.SelectAndScroll={}))},1406:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1450);t.Onboarding=r.Onboarding;var i=n(1616);t.OnboardingWrapper=i.OnboardingWrapper},1408:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1613),i=n(1612);!function(e){e.Mini=r.BaseMiniCard,e.Card=i.BaseCard,e.Wrapper=i.CardWrapper}(t.BaseCard||(t.BaseCard={}))},1415:function(e,t){e.exports={pulse:"_d4abed4c-onboarding-pulse",pulseWrapper:"_dc34585d-onboarding-pulseWrapper",header:"_0741dc7e-onboarding-header _e635cd19-typography-p1",description:"_4ef88004-onboarding-description",buttonsList:"_c41c7b5f-onboarding-buttonsList _e635cd19-typography-p1",button:"_3aa909e1-onboarding-button",stepWrapper:"_ae0ce631-onboarding-stepWrapper",triangle:"_b05b29a3-onboarding-triangle",content:"_ba589243-onboarding-content",dicsoverabiltyContent:"_7b8abe30-onboarding-dicsoverabiltyContent _ba589243-onboarding-content",alertIcon:"_ad10dcea-onboarding-alertIcon",closeIconWrapper:"_eac6e66f-onboarding-closeIconWrapper",closeIcon:"_20a5b91c-onboarding-closeIcon",topCenter:"_9b69d218-onboarding-topCenter",topCenterTriangle:"_9a2c4c4f-onboarding-topCenterTriangle",bottomLeft:"_c67cbdd4-onboarding-bottomLeft",bottomLeftTriangle:"_23dba7a6-onboarding-bottomLeftTriangle",bottomRight:"_640ab8a0-onboarding-bottomRight",bottomRightTriangle:"_76e0affb-onboarding-bottomRightTriangle",bottomCenter:"_2ad87f33-onboarding-bottomCenter",bottomCenterTriangle:"_c24946ed-onboarding-bottomCenterTriangle",bottomFlexibleTriangle:"_d1367fe2-onboarding-bottomFlexibleTriangle",right:"_b02e8795-onboarding-right",rightTriangle:"_1a834993-onboarding-rightTriangle",left:"_f3c8f8cd-onboarding-left",leftTriangle:"_cbc468bf-onboarding-leftTriangle",containerWrapper:"_83d55c54-onboarding-containerWrapper",onboardingSpot:"_e3308bde-onboarding-onboardingSpot",containerDiv:"_b08d5f4d-onboarding-containerDiv",editor:"_982004e7-onboarding-editor",discoverabilityOnExit:"_f9e9014d-onboarding-discoverabilityOnExit",discoverabilityOnExitTriangle:"_0c892d5b-onboarding-discoverabilityOnExitTriangle",checkbox:"_0860ddc9-onboarding-checkbox",checkboxText:"_43405ccb-onboarding-checkboxText _8d8a7136-typography-p2",onboardingPopup:"_13539422-onboarding-onboardingPopup"}},1418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(6),o=n(4),a=n(105),s=n(2),c=n(91),l=function(e){var t=e.source,n=e.linkClassName;return r.createElement("a",{className:n,onClick:c.ReactUtils.preventDefault(function(){try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()})},"try to reload the page")};t.ErrorNotification=a.withContext(function(e,t){var n=e.errorMessage,i=e.linkClassName,o=t.appConfig;return r.createElement("div",{title:n},"Oops, there was a problem. Please try again later or"," ",r.createElement("a",{className:i,href:o.support.login,target:"_blank"},"contact support"))}),t.GenericNotification=function(e){var t=e.message,n=e.description,i=e.headerClassName;return n?r.createElement("div",null,r.createElement("p",{className:i},t),r.createElement("br",null),r.createElement("span",null,n)):r.createElement("div",null,t)},t.DocumentUploadedNotification=function(e){var t=e.navigateToDocument,n=e.linkClassName;return r.createElement("div",null,"Document successfully uploaded."," ",r.createElement("span",{className:n,onClick:t},"Open document for editing."))},t.NewDocumentCreatedNotification=function(e){var t=e.navigateToDocument,n=e.linkClassName;return r.createElement("div",null,"New document created."," ",r.createElement("span",{className:n,onClick:t},"Open document for editing."))},t.DocumentTypeUnsupportedNotification=a.withContext(function(e,t){var n=t.textResources;return r.createElement("div",null,"Unsupported file type. ",n.base.notificationUploadFileText,": Microsoft Word (.doc, .docx), OpenOffice (.odt), TXT and RTF.")}),t.DocumentWithTrackedChangesIsUnsupported=a.withContext(function(e,t){var n=e.linkClassName,i=t.appConfig;return r.createElement("div",null,"Your document contains revisions. Accept all revisions and try uploading again. Click"," ",r.createElement("a",{className:n,target:"_blank",href:i.support.documentAcceptTrackedChanges,onClick:c.ReactUtils.stopPropagation()},"here")," ","for details.")}),t.ChangeEmailNotification=function(e){var t=e.email;return r.createElement("div",null,"Please check your inbox at ",r.createElement("b",null,t)," to verify your new email address.")},t.LogoutErrorNotification=function(e){var t=e.forceRetry,n=e.timeToRetry,o=e.linkClassName,a=e.headerClassName;return r.createElement(i.F.div,null,r.createElement("p",{className:a},"Cannot log out"),n.view(function(e){return-1!==e?r.createElement("div",{key:"logoutErrorNotification"},"An error occurred while logging out.",r.createElement("br",null),r.createElement("span",{className:o,onClick:t},"Retrying in ",e," seconds.")):r.createElement("div",{key:"logoutErrorNotification"},"It seems that something is preventing a successful logout. Please reload the page and try again.")}))},t.SelfUpdateNotification=a.withContext(function(e,t){var n=e.linkClassName,i=e.headerClassName,o=t.environment;return r.createElement("div",null,r.createElement("p",{className:i},"Grammarly needs to refresh this page"),"Don't worry - your documents have already been saved.",r.createElement("br",null),"Please"," ",r.createElement("span",{className:n,onClick:function(){window.location.reload()}},"reload")," ","the page (",o.textResources.hotkeyLabel("R"),").")}),t.UnauthorizedErrorNotification=a.withContext(function(e,t){var n=e.linkClassName,i=t.appConfig;return r.createElement("div",null,"You have been logged out. You are being redirected to the login page. Please click"," ",r.createElement("a",{className:n,href:i.funnel.signin},"here")," ","if your browser does not redirect you.")}),t.OfflineNotification=function(e){var t=e.resetClock,n=e.reconnectTime,o=e.linkClassName,a=e.headerClassName;return r.createElement("div",null,r.createElement("p",{className:a},"Connection failure"),"Cannot connect to Grammarly because there is no Internet access available. ",r.createElement("br",null),r.createElement("span",{className:o,onClick:t},"Trying to reconnect in ",r.createElement(i.F.span,null,n.view(function(e){return e}))," seconds."))},t.SlowNetworkErrorNotification=function(){return r.createElement("div",null,"Your Internet connection is unstable. Grammarly may work slower than normal.")},t.UnknownConnectionError=function(e){var t=e.linkClassName;return r.createElement("div",null,"Oops, there was a problem. Please check your network configuration and"," ",r.createElement(l,{source:"UnknownConnectionError",linkClassName:t}),".")},t.ServerErrorNotification=function(e){var t=e.errorMessage,n=e.linkClassName;return r.createElement("div",{title:t},"The server encountered an error. Please"," ",r.createElement(l,{source:"ServerErrorNotification",linkClassName:n}),".")},t.ConnectionWSErrorNotification=a.withContext(function(e,t){var n=e.linkClassName,i=e.headerClassName,o=t.appConfig;return r.createElement("div",null,r.createElement("p",{className:i},"Connection failure"),"Your network configuration blocks Grammarly services on this computer.",r.createElement("br",null),"To troubleshoot this issue,"," ",r.createElement("a",{className:n,href:o.support.diagnosticTestPath,target:"_blank"},"click here"))}),t.ClientConnectionErrorNotification=function(e){var t=e.errorMessage,n=e.linkClassName;return r.createElement("div",{title:t},"Your Internet connection is unstable. Please check your network configuration and"," ",r.createElement(l,{source:"ClientConnectionErrorNotification",linkClassName:n}),".")},t.CheckingIsDownErrorNotification=function(){return r.createElement("div",null,"Error checking is temporarily unavailable. Our engineers are working quickly to resolve the issue. Please check back soon.")},t.DocumentSizeExceededNotification=function(e){var t=e.headerClassName;return r.createElement("div",null,r.createElement("p",{className:t},"Maximum document size exceeded"),"Currently, Grammarly supports documents of up to 60 pages (100,000 characters) and no larger than 4 MB. ",r.createElement("br",null),"We are working to increase the size of documents we support.")},t.DocumentIsEmptyNotification=function(){return r.createElement("div",null,"The submitted file is empty.")},t.DownloadDocumentNotFoundNotification=function(){return r.createElement("div",{"data-name":"document-not-found"},"Requested document was not found.")},t.IsTemporaryDownloadErrorNotification=function(){return r.createElement("div",null,"Document wasn't downloaded. Please try again.")},t.DocumentUploadErrorGeneralNotification=function(){return r.createElement("div",null,"Document wasn't uploaded. Please try again.")},t.DocumentDeletedNotification=function(e){var t=e.documentId,n=e.documentTitle,i=e.failedToRestore,a=e.linkClassName,c=e.show,l=e.notificationsFactory,u=e.restoreDocument,d=s.throttleByPromise(function(e,t){return u().catch(function(n){o.Monitoring.Logging.getLogger("notifications").error("Document restore fail",n),c(l.documentDeleted(e,t,u,!0))})});return r.createElement("div",null,i?'Oops, there was a problem. "'+n+"\" wasn't restored.":'"'+n+'" was deleted.'," ",r.createElement("a",{className:a,onClick:function(){return d(t,n)}},i?"Restore":"Undo"))},t.ExtensionInstallErrorNotification=a.withContext(function(e,t){var n=e.linkClassName,i=t.appConfig;return r.createElement("div",null,"An error occurred while installing the extension. Your browser may be blocking installation. Please try again by installing from the"," ",r.createElement("a",{className:n,href:i.extension.chrome.infoURL,target:"_blank"},"Chrome Web Store"))}),t.CopyToClipboardError=a.withContext(function(e,t){var n=t.environment;return r.createElement("div",null,"Copying is not supported by your browser, but you can still use"," ",n.textResources.hotkeyLabel("C")," for copy")}),t.DocumentProofreadingNotification=function(e){var t=e.email;return r.createElement("div",null,"We’re proofreading your document. When complete, we will email a corrected version to ",t)},t.BlobDownloadUnsupportedNotification=a.withContext(function(e,t){var n=e.linkClassName,i=t.appConfig;return r.createElement("div",null,"The file cannot be downloaded because this browser does not support safe downloads.",r.createElement("br",null),"Please update your browser and try again.",r.createElement("br",null),r.createElement("a",{className:n,href:i.support.safariDownloadFilesKBUrl,target:"_blank"},"Learn more"))}),t.DownloadProofreadNotification=function(){return r.createElement("div",{"data-name":"proofread-downloaded"},"Document downloaded.")}},1419:function(e,t,n){"use strict";function r(e){var t=e.wrapperClassName,n=e.variation,c=(e.ref,i.__rest(e,["wrapperClassName","variation","ref"]));return o.createElement(a.F.span,{role:"spinner",className:t},s.RxUtils.mapMaybeObservable(n,function(e){return o.createElement(r.Svg,i.__assign({},c,{type:e}))}))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(8),a=n(6),s=n(2),c=n(1745);t.Spinner=r,function(e){e.getClassName=function(e){return function(t){switch(t){case"red":return e.red;case"green":return e.green;case"blue":return e.blue;case"white":return e.white;case"violet":return e.violet;case"yellow":return e.yellow;case"gray":return e.gray;default:return s.assertNever(t)}}};var t=function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return i.__extends(n,t),n.prototype.componentDidMount=function(){s.invariant(null!==this.groupEl,"groupEl should be already mounted"),this.groupAnimation=this.groupEl.animate({transform:["rotate(0deg)","rotate(360deg)"]},{duration:2e3,easing:"linear",fill:"forwards",iterations:1/0})},n.prototype.componentWillUnmount=function(){this.groupAnimation&&this.groupAnimation.cancel()},n.prototype.render=function(){var t=this,n=this.props,r=n.className,s=n.size,l=void 0===s?64:s,u=n.strokeWidth,d=void 0===u?2:u,p=n.type,m=i.__rest(n,["className","size","strokeWidth","type"]);return o.createElement("svg",i.__assign({},a.classes(r),{viewBox:"25 25 50 50",width:l,height:l},m),o.createElement("g",{transform:"translate(50 50)"},o.createElement("g",{ref:function(e){return t.groupEl=e}},o.createElement("circle",i.__assign({},a.classes(c.path,e.getClassName(c)(p)),{cx:"50",cy:"50",r:"20",fill:"none",transform:"translate(-50 -50)",strokeWidth:d,strokeMiterlimit:"10"})))))},n}(o.PureComponent);e.Svg=t}(r=t.Spinner||(t.Spinner={}))},1420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);!function(e){function t(e,t){return r.__assign({},e,{updateRanges:t})}function n(e,t){return r.__assign({},e,{visualState:t})}function i(e){return{visualState:e,updateRanges:!1}}e.updateRanges=t,e.updateVisualState=n,e.from=i}(t.MarkAlertState||(t.MarkAlertState={}));!function(e){e.initial="initial",e.highlighted="highlighted",e.active="active",e.faded="faded",e.hidden="hidden",e.applied="applied",e.disposed="disposed"}(t.MarkAlertVisualState||(t.MarkAlertVisualState={}))},1421:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(16),o=n(2);!function(e){e[e.ANIMATE_ALL=0]="ANIMATE_ALL",e[e.ANIMATE_MARK=1]="ANIMATE_MARK",e[e.NO_ANIMATION=2]="NO_ANIMATION"}(r=t.AlignmentAnimation||(t.AlignmentAnimation={}));var a=function(){function e(e,t){this._cardPositions=e,this._markPositions=t,this.markAndCardAligned=new i.Subject}return e.prototype.alignCardToMark=function(e,t){this._cardPositions.ensureCardPosition(e.cardId,t===r.ANIMATE_ALL,this._markPositions.getMarkAlertPosition(e.activeAlert))},e.prototype.alignMarkToCard=function(e,t){var n=e.cardId,i=e.activeAlert,o=this._cardPositions.ensureCardPosition(n,t===r.ANIMATE_ALL),a=o.top,s=o.contentOffset;this._markPositions.ensureAlertMarksInViewport(i,a+s,t!==r.NO_ANIMATION),this.markAndCardAligned.next(i.id)},e}();t.AlignmentViewModelImpl=a;!function(e){var t=function(){function e(){this.markAndCardAligned=new i.Subject,this.alignCardToMark=o.noop,this.alignMarkToCard=o.noop}return e}();e.Mock=t}(t.AlignmentViewModel||(t.AlignmentViewModel={}))},1422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(16),o=n(6),a=n(4),s=n(514),c=n(178),l=n(268),u=n(2);!function(e){e.cards="cards",e.loading="loading",e.originality100="originality100"}(r=t.PlagiarismViewType||(t.PlagiarismViewType={}));!function(e){e[e.CHECKED=0]="CHECKED",e[e.NOT_CHECKED=1]="NOT_CHECKED"}(t.PlagiarismCheckingState||(t.PlagiarismCheckingState={}));var d=function(){function e(e,t,n,l){var u=this;this._ded=e,this._plagiarismModel=t,this._sidebarViewModel=n,this._pageViewModel=l,this._subs=[],this._log=a.Monitoring.Logging.getLogger("PlagiarismViewModel"),this._wholeTextLength=i.Observable.defer(function(){return u._ded.changes.auditTime(5e3).startWith(void 0).map(function(){return u._ded.getText().trim().length})}),this.plagiarismViewState=o.Atom.create({type:r.loading}),this.checkingState=o.Atom.combine(this._plagiarismModel.checkingState,this._sidebarViewModel.plagiarism,function(e,t){return{type:"idle"===e?"idle":"checking",percent:u._calcPercents(t.textLength),sources:t.count}}),this._subs.push(this._pageViewModel.stateHolder.state.view(s.LensState.is(c.Lens.SpecialId.Plagiarism)).skip(1).subscribe(function(e){e?u._plagiarismModel.enable():u._plagiarismModel.disable()}),this._maintainPlagiarismState())}return e.prototype.recheck=function(){return this._plagiarismModel.recheck()},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._getPlagiarismState=function(e,t){if(t.visibleCards.length>0&&t.card.nonEmpty())return{type:r.cards,currentLens:t.meta};switch(e){case"full":case"checking":return{type:r.loading};case"idle":return{type:r.originality100};default:return u.assertNever(e)}},e.prototype._buildState=function(e){var t=this;return this._plagiarismModel.checkingState.map(function(n){return t._getPlagiarismState(n,e.currentLens)}).filter(function(n){if(n.type===r.originality100){return e.currentLens.findNextAlert().fold(function(){return!0},function(e){return requestAnimationFrame(function(){return t._pageViewModel.switchToAlert(e,l.AlertActionSource.api,"lensOrder")}),!1})}return!0}).do(u.RxUtils.toAtom(this.plagiarismViewState)).mapTo(void 0)},e.prototype._maintainPlagiarismState=function(){var e=this;return this._pageViewModel.stateHolder.state.switchMap(function(t){return s.LensState.is(c.Lens.SpecialId.Plagiarism)(t)?e._buildState(t):i.Observable.empty()}).subscribe()},e.prototype.getPercent=function(e){return this._calcPercents(e.map(function(e){return e.highlightText.length}).reduce(u.sum,0))},e.prototype._calcPercents=function(e){var t=this;return this._wholeTextLength.do(function(n){e>n&&t._log.info("wholeTextLength is smaller than plagiarized text length",{wholeLenght:n,textLength:e})}).map(function(t){return t>0?Math.round(1e4*e/t)/100:0}).map(function(e){return 0===e?0:e>1?Math.round(e):1})},e}();t.PlagiarismViewModelImpl=d;!function(e){var t=function(){function e(){this.plagiarismViewState=o.Atom.create({type:r.loading}),this.checkingState=o.Atom.create({type:"idle",percent:i.Observable.of(20),sources:1}),this.recheck=function(){return Promise.resolve()},this.dispose=u.noop}return e.prototype.getPercent=function(){return i.Observable.of(20)},e}();e.Mock=t}(t.PlagiarismViewModel||(t.PlagiarismViewModel={}))},1424:function(e,t){e.exports={markBase:"_eb7101f3-alerts-markBase",critical:"_cc65a3a0-alerts-critical _eb7101f3-alerts-markBase",markSelected:"_1cfec21a-alerts-markSelected",markSelectedHigh:"_c9f7ef98-alerts-markSelectedHigh",markActive:"_20198b25-alerts-markActive",advanced:"_f5d63dbc-alerts-advanced _eb7101f3-alerts-markBase",plagiarism:"_2ed9514c-alerts-plagiarism _eb7101f3-alerts-markBase",synonym:"_e02617e0-alerts-synonym _eb7101f3-alerts-markBase",markAnimated:"_abf4ce16-alerts-markAnimated",markUnderlineBorder:"_35763042-alerts-markUnderlineBorder",markHidden:"_c0150c8e-alerts-markHidden",markApplied:"_4eae16c7-alerts-markApplied",applyFadeOut:"_44643231-alerts-applyFadeOut",noAnimation:"_69518293-alerts-noAnimation"}},1425:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(6),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._state=t.props.state.scan(function(e,t){return[t,e[0]]},[]).map(function(e){var n=e[0],r=e[1],i=t.props.stateToClassMapper(r,n);return{prev:{state:r,view:t._createTransition(i.prev)},next:{state:n,view:t._createTransition(i.next)}}}),t._elements=a.Atom.create([null,null]),t._done=new o.Subject,t._subs=[],t}return r.__extends(t,e),t.prototype._createTransition=function(e){var t=e.start,n=e.end;return o.Observable.create(function(e){e.next(t);var r=requestAnimationFrame(function(){return requestAnimationFrame(function(){return e.next(n)})});return function(){return cancelAnimationFrame(r)}})},t.prototype.componentDidMount=function(){var e=this,t=this.props.children;this._subs.push(this._state.map(function(n){var r=n.prev,i=n.next;if(void 0===t)return[null,null];var o=t;return void 0===r.state?[o({state:i.state,view:i.view,type:"next"})]:[o({state:r.state,view:r.view,type:"prev",done:function(){return e._done.next("prev")}}),o({state:i.state,view:i.view,type:"next"})]}).subscribe(function(t){var n=t[0],r=t[1];return e._elements.set([n,r])}),this._done.subscribe(function(t){"prev"===t&&e._elements.modify(function(e){e[0];return[null,e[1]]}),"next"===t&&e._elements.modify(function(){return[null,null]})}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.onMount;return t?i.createElement(a.F.div,{className:n,mount:r},this._elements):null},t}(i.Component);t.AnimationWrapper=s},1426:function(e,t,n){"use strict";function r(e,t,n,r,a){switch(e.type){case"error":return o.createElement(l.ErrorNotification,{errorMessage:e.args.errorMessage,linkClassName:a.link});case"documentUploaded":return o.createElement(l.DocumentUploadedNotification,{navigateToDocument:e.args.navigateToDocument,linkClassName:a.link});case"isTemporaryDownloadError":return o.createElement(l.IsTemporaryDownloadErrorNotification,null);case"downloadDocumentNotFoundError":return o.createElement(l.DownloadDocumentNotFoundNotification,null);case"newDocumentCreated":return o.createElement(l.NewDocumentCreatedNotification,{navigateToDocument:e.args.navigateToDocument,linkClassName:a.link});case"documentDeleted":var s=e.args,u=s.documentId,d=s.documentTitle,p=s.failedToRestore,m=s.restoreDocument;return o.createElement(l.DocumentDeletedNotification,i.__assign({},{documentId:u,documentTitle:d,failedToRestore:p,restoreDocument:m},{linkClassName:a.link,hide:t,show:n,notificationsFactory:r}));case"documentTypeUnsupported":return o.createElement(l.DocumentTypeUnsupportedNotification,null);case"trackedChangesIsUnsupported":return o.createElement(l.DocumentWithTrackedChangesIsUnsupported,{linkClassName:a.link});case"documentUploadGeneralError":return o.createElement(l.DocumentUploadErrorGeneralNotification,null);case"changeEmail":return o.createElement(l.ChangeEmailNotification,{email:e.args.email});case"generic":var f=e.args,h=f.message,g=f.description;return o.createElement(l.GenericNotification,i.__assign({},{message:h,description:g},{headerClassName:a.header}));case"documentSizeExceeded":return o.createElement(l.DocumentSizeExceededNotification,{headerClassName:a.header});case"documentIsEmpty":return o.createElement(l.DocumentIsEmptyNotification,null);case"logoutError":var _=e.args,v=_.forceRetry,b=_.timeToRetry;return o.createElement(l.LogoutErrorNotification,i.__assign({},{forceRetry:v,timeToRetry:b},{linkClassName:a.link,headerClassName:a.header}));case"selfUpdateBlocker":return o.createElement(l.SelfUpdateNotification,{linkClassName:a.link,headerClassName:a.header});case"unauthorizedError":return o.createElement(l.UnauthorizedErrorNotification,{linkClassName:a.link});case"offline":var y=e.args,w=y.resetClock,E=y.reconnectTime;return o.createElement(l.OfflineNotification,i.__assign({},{resetClock:w,reconnectTime:E},{linkClassName:a.link,headerClassName:a.header}));case"unknownConnectionError":return o.createElement(l.UnknownConnectionError,{linkClassName:a.link});case"serverError":return o.createElement(l.ServerErrorNotification,{linkClassName:a.link});case"connectionWSError":return o.createElement(l.ConnectionWSErrorNotification,{linkClassName:a.link,headerClassName:a.header});case"clientConnectionError":return o.createElement(l.ClientConnectionErrorNotification,{linkClassName:a.link});case"slowNetwork":return o.createElement(l.SlowNetworkErrorNotification,null);case"checkingIsDown":return o.createElement(l.CheckingIsDownErrorNotification,null);case"extensionInstallFailed":return o.createElement(l.ExtensionInstallErrorNotification,{linkClassName:a.link});case"copyToClipboardFailed":return o.createElement(l.CopyToClipboardError,null);case"proofitInProgress":return o.createElement(l.DocumentProofreadingNotification,{email:e.args.email});case"blobDownloadUnsupported":return o.createElement(l.BlobDownloadUnsupportedNotification,{linkClassName:a.link});case"downloadProofread":return o.createElement(l.DownloadProofreadNotification,null);default:return c.Monitoring.Logging.getLogger("notifications").error("Notification component for '"+e.type+"' not found."),o.createElement(l.ErrorNotification,{linkClassName:a.link})}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(8),a=n(6),s=n(105),c=n(4),l=n(1418),u=n(2),d=n(1446);i.__exportStar(n(1418),t),t.defaultRenderNotification=r,t.NotificationView=function(e){var t=e.notification,n=e.hide,r=e.visibilityState,s=e.notifications,c=e.renderNotification,l=e.show,u=e.className;return o.createElement(a.F.div,i.__assign({key:t.id},a.classes(d.notification,r.map(function(e){return e?d.show:d.hide}),u)),o.createElement("span",{className:d.content,key:t.id},c(t,function(){return s.hide(t.id)},l,s.create,d)),!t.dontCloseOnClick&&o.createElement("div",{onClick:function(){return n(t.id,!0)},className:d.close}))},t.NotificationCenter=s.withContext(function(e,n){function s(e){h.set(e);var t=h.get();t&&t.id===e.id&&u.tick(function(){return f.set(!0)}),e.showTimeMs===1/0||e.important||setTimeout(function(){c(e.id,!0)},e.showTimeMs||7e3)}function c(e,t){void 0===t&&(t=!1);var n=h.get();u.tick(function(){n&&n.id===e&&f.set(!1),setTimeout(function(){var n=h.get();if(t&&l.expire(e),n&&n.id===e){var r=g.get();r&&s(r)}},400)})}var l=e.notifications,d=e.renderNotification,p=void 0===d?r:d,m=n.appRouter,f=a.Atom.create(!1),h=a.Atom.create(void 0),g=l.items.view(a.Lens.find(function(e){return!e.expired}));return g.subscribe(function(e){var t=h.get();t&&c(t.id),void 0===t&&void 0!==e&&s(e)}),m&&m.location&&m.location.subscribe(function(e){return l.cleanup()}),o.createElement(a.F.div,null,h.map(function(e){return void 0===e?null:o.createElement(t.NotificationView,i.__assign({},{notification:e,notifications:l,show:s,hide:c,visibilityState:f,renderNotification:p}))}))})},1427:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=n(7),o=n(6),a=n(178),s=n(1505),c=n(4),l=n(16),u=n(268),d=n(514),p=n(1453),m=function(){function e(e,t,n,s,u,d,p,m,f){var h=this;this.stateHolder=e,this._sidebarVM=t,this._lensStateVM=n,this._alertList=s,this._ded=u,this._documentModel=d,this._features=p,this._context=m,this._settingsModel=f,this._log=c.Monitoring.Logging.getLogger("PageViewModelImpl"),this._stateChangeCounter=c.Monitoring.TimeSeries.root.getCounter("pagevm.state"),this._subs=[],this._filter=o.Atom.create("free"),this.filterKit=o.Atom.create(i.None),this.openedAfterPaste=new l.Subject,this._alertsFilter=function(e){switch(e){case"free":return i.Some(function(e){return e.alertType===a.Lens.Type.Critical});case"all":return i.Some(function(e){return!e.hasLongHighlight});default:return r.assertNever(e),i.None}};var g=r.RxUtils.createRetrySubscriber(this._log);this._subs.push(g("_ensureAlertsFilter",this._ensureAlertsFilter()),g("_listenAlertsUndoables",this._listenAlertsUndoables()),g("_listenCheckingState",this._listenCheckingState()),g("_listenFilterChange",this._listenFilterChange()),g("_listenTextPaste",this._listenTextPaste()),g("_trackSidebarState",this._trackSidebarState()),g("_trackLensChange",this._trackLensChange()),g("_trackAdvancedLensOpen",this._trackAdvancedLensOpen()),g("_trackTextPaste",this._trackTextPaste()),this.stateHolder.state.subscribe(function(e){var t=e.currentLens;return h._stateChangeCounter.getCounter(t.type).increment()})),r.registerDebugHelper("pageState",function(){return h.stateHolder.state.get()})}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype.closeSidebar=function(){this._lensStateVM.focusLens(a.Lens.SpecialId.Closed,u.AlertActionSource.api,{order:"lensOrder"})},e.prototype.switchTo=function(e){switch(e){case d.LensViewType.proofit:this._lensStateVM.focusLens(a.Lens.SpecialId.Proofit,u.AlertActionSource.api,{order:"lensOrder"});break;case d.LensViewType.plagiarism:this._lensStateVM.focusLens(a.Lens.SpecialId.Plagiarism,u.AlertActionSource.api,{order:"lensOrder"});break;case d.LensViewType.advanced:this._lensStateVM.focusLens(a.Lens.SpecialId.Premium,u.AlertActionSource.sidebar,{order:"lensOrder"});break;case d.LensViewType.lensview:this._focusClosestAlert(!1,u.AlertActionSource.sidebar);break;case d.LensViewType.success:this._lensStateVM.focusLens(a.Lens.SpecialId.Success,u.AlertActionSource.api,{order:"lensOrder"});break;case d.LensViewType.closed:this._lensStateVM.focusLens(a.Lens.SpecialId.Closed,u.AlertActionSource.api,{order:"lensOrder"});break;default:r.assertNever(e)}},e.prototype.switchToCritical=function(){this._switchToAlertByLensType(a.Lens.Type.Critical)},e.prototype.switchToAdvanced=function(){this._features.isFree?this.switchTo(d.LensViewType.advanced):this._switchToAlertByLensType(a.Lens.Type.Advanced)},e.prototype.switchToLens=function(e,t,n){this._lensStateVM.focusLens(e,t,{order:n})},e.prototype.switchToAlert=function(e,t,n){try{this._lensStateVM.focusAlert(e,t,n)}catch(e){this._log.error("Cannot switchToAlert",e)}},e.prototype._listenAlertsUndoables=function(){var e=this;return this._alertList.alertEvents.do(function(t){"alert_removed"===t.kind&&void 0!==t.undoable&&s.createUndoNotification(e._ded,e._context.notifications,t.undoable,t.alerts,function(t){d.LensState.isSidebarOpened(e.stateHolder.state.get())&&(t.sort(u.Alert.comparator),e.switchToAlert(t[0],u.AlertActionSource.sidebar))})})},e.prototype._listenCheckingState=function(){var e=this;return this._documentModel.checkingState.startWith(this._documentModel.checkingState.get()).pairwise().filter(function(e){e[0];return"idle"===e[1]}).withLatestFrom(this._sidebarVM.lenses,this.stateHolder.state,this._sidebarVM.premium).do(function(t){var n=(t[0],t[1]),r=t[2],o=t[3];r.currentLens.type===d.LensViewType.success&&i.Option.of(n[0]).map(function(e){return e.id}).orElseL(function(){return o.count>0?i.Some(o.id):i.None}).forEach(function(t){return e.switchToLens(t,e._settingsModel.enableSetGoalsLoader.get()&&e._context.goalsVisibilityState?d.ForceAlertActionSource.forceSidebar:d.ForceAlertActionSource.forceText,"lensOrder")})})},e.prototype._listenTextPaste=function(){var e=this;return this._ded.textChangedAfterPaste.filter(function(e){var t=e.type;return"initial"===t||"reset"===t}).withLatestFrom(this.stateHolder.state).do(function(t){var n=(t[0],t[1]);d.LensState.isSidebarOpened(n)||(e.switchTo(d.LensViewType.lensview),e.openedAfterPaste.next())})},e.prototype._listenFilterChange=function(){var e=this;return l.Observable.combineLatest(this._filter,this.stateHolder.state.view("currentLens").distinctUntilChanged(function(e,t){return e.id===t.id})).map(function(t){var n=t[0],r=t[1];return i.Some({filter:r.type===d.LensViewType.lensview||r.type===d.LensViewType.plagiarism?i.Some(function(t){return r.meta.filter(t)||!(e._features.denali.withAllAlerts&&u.Alert.isAlert(t)||r.meta.exclusiveHighlights||t.hasLongHighlight)}):e._alertsFilter(n),lensId:i.Some(r.id)})}).do(r.RxUtils.toAtom(this.filterKit))},e.prototype._ensureAlertsFilter=function(){var e=this;return this.stateHolder.sidebarOpen.do(function(t){return e._filter.set(t?"all":"free")})},e.prototype._trackTextPaste=function(){var e=this;return this._ded.textChangedAfterPaste.do(function(t){var n=t.type,i=t.len,o=t.tags;switch(n){case"initial":c.Monitoring.TimeSeries.root.getTimer("text_paste_initial").recordTime(i);break;case"reset":c.Monitoring.TimeSeries.root.getTimer("text_paste_reset").recordTime(i);break;case"partial":c.Monitoring.TimeSeries.root.getTimer("text_paste_partial").recordTime(i);break;default:r.assertNever(n)}e._log.info("Paste formatting text",{type:n,withFormatting:o.length>0,tags:o})})},e.prototype._trackLensChange=function(){var e=this;return this.stateHolder.state.skip(1).map(function(e){switch(e.currentLens.type){case d.LensViewType.lensview:case d.LensViewType.advanced:case d.LensViewType.plagiarism:return e.currentLens.meta.title;case d.LensViewType.proofit:case d.LensViewType.closed:case d.LensViewType.success:return null;default:return r.assertNever(e.currentLens)}}).distinctUntilChanged().filter(function(e){return null!==e}).do(function(t){return e._context.trackLensChange(t)})},e.prototype._trackAdvancedLensOpen=function(){var e=this;return this.stateHolder.state.filter(d.LensState.is(a.Lens.SpecialId.Premium)).do(function(){return e._context.trackAdvancedLensOpen(e._sidebarVM.premium.get().count>0)})},e.prototype._trackSidebarState=function(){var e=this;return this.stateHolder.sidebarOpen.skip(1).do(function(t){t?e._context.assistantSidebarShow():e._context.assistantSidebarClose()})},e.prototype._getClosestByPositionAlert=function(e){var t=this,n=e.predicate,r=e.focus;return this._ded.getCursor(r).flatMap(function(e){return u.Alert.findClosest(t._alertList.getAllAlertsAsSortedArray(function(e){return u.Alert.isAlert(e)&&(!n||n(e))}),e.index)})},e.prototype._focusClosestAlert=function(e,t){var n=this;this._getClosestByPositionAlert({focus:e}).fold(function(){var e=i.Option.of(n._sidebarVM.lenses.get()[0]).fold(function(){return n._sidebarVM.premium.get().count>0?a.Lens.SpecialId.Premium:a.Lens.SpecialId.Success},function(e){return e.id});n._lensStateVM.focusLens(e,t,{order:"lensOrder"})},function(e){return n._lensStateVM.focusAlert(e,t,"lensOrder")})},e.prototype._switchToAlertByLensType=function(e){var t=this;this._getClosestByPositionAlert({predicate:function(t){return t.alertType===e}}).fold(function(){t.switchTo(d.LensViewType.success)},function(e){return t.switchToAlert(e,u.AlertActionSource.sidebar,"lensOrder")})},e}();t.PageViewModelImpl=m;!function(e){var t=function(){function e(e){void 0===e&&(e=new p.StateHolder),this.stateHolder=e,this.filterKit=o.Atom.create(i.None),this.switchTo=r.noop,this.switchToCritical=r.noop,this.switchToAdvanced=r.noop,this.switchToLens=r.noop,this.switchToAlert=r.noop,this.closeSidebar=r.noop,this.dispose=r.noop}return e}();e.Mock=t}(t.PageViewModel||(t.PageViewModel={}))},1428:function(e,t,n){"use strict";function r(e,t,n){return"text"===e.type?e.text:c.createElement("span",{key:t,className:n},e.text)}function i(e,t){return function(n){var r=m.calcDiff(e,n.text);return r?[r[0],c.createElement("span",{key:t,className:f.diff},r[1]),r[2]]:n.text}}function o(e,t){return"delete"===e.type?c.createElement("span",s.__assign({key:"strike"},l.classes(m.Strike.getClass(f,e.text),t)),e.text):e.text}function a(e,t){var n=e.tooltipText,o=e.labels,a=e.original,l=e.onlyReplacements,u=1===a.length,d=(u?[a[0].text,o[0][0].text].map(i):[r,r])[0];return c.createElement("div",{className:f.list},!l&&c.createElement(_,{transform:a}),c.createElement("div",{className:f.arrowInsertsList},o.map(function(e,r){return c.createElement(h,s.__assign({},{key:r,title:n,onClick:t(r)},{transform:e,boldifier:d}))})))}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3),c=n(8),l=n(6),u=n(105),d=n(1378),p=n(519),m=n(1623),f=n(1537),h=u.withContext(function(e,t){var n=e.transform,r=e.title,i=e.boldifier,o=void 0===i?function(e){return e.text}:i,a=e.classes,s=void 0===a?f:a,l=e.onClick;return c.createElement(d.Button,{animationMode:d.AnimationMode.FromClickPoint,name:"apply-insert",onClick:function(){return t.gnarSpec.suggestedReplacementButtonClick(t.pageId,"assistantOn",t.pageSessionId),l()},title:r,className:s.itemInsert},n.map(function(e,t){return o(e,t,f.diff)}))}),g=function(e){var t=e.transform,n=e.title,r=e.classes,i=void 0===r?f:r,a=e.onClick;return c.createElement(d.Button,s.__assign({animationMode:d.AnimationMode.FromClickPoint,name:"apply-remove"},{onClick:a,title:n,className:i.itemRemove}),t.map(function(e){return o(e)}))},_=function(e){var t=e.transform,n=e.boldifier,r=void 0===n?function(e){return e.text}:n;return c.createElement("div",{className:f.itemOriginal},c.createElement("span",{className:f.itemOriginalContent},t.map(function(e,t){return r(e,t,f.diff)})))},v=u.withContext(function(e,t){var n=e.transform,r=e.boldifier,i=void 0===r?function(e){return e.text}:r,o=e.header,a=e.classes,s=void 0===a?f:a,l=e.onClick;return c.createElement(d.Button,{name:"inline-apply-insert",onClick:function(){return t.gnarSpec.suggestedReplacementButtonClick(t.pageId,"assistantOff",t.pageSessionId),l()},className:s.item},o&&c.createElement("div",{className:s.inlineHeader},o),n.map(function(e,t){return i(e,t,f.diff)}))});t.ReplacementsLabelsComponent=function(e){var t=e.replacementsLabels,n=e.onClick,i=t.tooltipText;return t instanceof p.InsertListLabel?c.createElement("div",{className:f.list},t.labels.map(function(e,t){return c.createElement(h,s.__assign({},{key:t,title:i,onClick:n(t)},{transform:e}))})):t instanceof p.DeleteListLabel?c.createElement("div",{className:f.list},t.labels.map(function(e,t){return c.createElement(g,s.__assign({},{key:t,title:i,onClick:n(t)},{transform:e}))})):t instanceof p.ArrowReplacementsLabel?a(t,n):t instanceof p.OrReplacementsLabel?c.createElement("div",{className:f.list},c.createElement(h,s.__assign({transform:t.labels[0]},{title:i,onClick:n(0)},{boldifier:r})),c.createElement("span",{className:f.or},"or"),c.createElement(h,s.__assign({transform:t.labels[1]},{title:i,onClick:n(1)},{boldifier:r}))):c.createElement("div",null)},t.InlineReplacementsLabelsComponent=function(e){var t=e.replacementsLabels,n=e.onClick,i=e.header,a=e.customStyle,l=1===t.labels.length?a.inlineHeaderOne:a.inlineHeader;if(t instanceof p.DeleteListLabel){var u=function(e){return o(e,a.strike)};return c.createElement("div",{className:a.inlineWrappedList},t.labels.map(function(e,t){return c.createElement(v,s.__assign({},{key:t,onClick:n(t)},{classes:{item:a.itemRemove,inlineHeader:l},boldifier:u,transform:e,header:0===t?i:""}))}))}if(t instanceof p.InsertListLabel||t instanceof p.OrReplacementsLabel||t instanceof p.ArrowReplacementsLabel){var d=function(e,t){return r(e,t,a.diff)};return c.createElement("div",{className:a.inlineWrappedList},t.labels.map(function(e,t){return c.createElement(v,s.__assign({},{key:t,onClick:n(t)},{classes:{item:a.itemInsert,inlineHeader:l},transform:e,boldifier:d,header:0===t?i:""}))}))}return c.createElement("div",null)}},1432:function(e,t){e.exports={tooltip:"_65b505ae-tooltip-tooltip",visible:"_10963d7e-tooltip-visible",hidden:"_66f64a2e-tooltip-hidden",tooltipTopCenter:"_d4ce0947-tooltip-tooltipTopCenter",tooltipTopRight:"_7edbe91b-tooltip-tooltipTopRight",tooltipTopLeft:"_c92ac29b-tooltip-tooltipTopLeft",tooltipBottomCenter:"_432b0188-tooltip-tooltipBottomCenter",tooltipBottomRight:"_830e94b1-tooltip-tooltipBottomRight",tooltipBottomLeft:"_5b86ddb4-tooltip-tooltipBottomLeft",tooltipMiddleLeft:"_b2f8c8e9-tooltip-tooltipMiddleLeft",tooltipMiddleRight:"_3a232a04-tooltip-tooltipMiddleRight"}},1433:function(e,t){e.exports={tooltip:"_0f3db3bb-tooltip-tooltip",top:"_cb214808-tooltip-top",right:"_08f0478b-tooltip-right"}},1438:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(7),a=n(6),s=n(105),c=n(1393),l=n(2),u=n(1432),d={style:{top:0,left:0},className:u.hidden},p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._props=a.Atom.create(d),t._visible=a.Atom.create(!1),t._state=a.Atom.create(o.None),t._validateFit=function(e){var n=e.alignment,r=e.target;if(t._el){var i=document.body.getBoundingClientRect(),o=t._el.getBoundingClientRect(),a=t._getVAlign(n,i,o)+t._getHAlign(n,i,o);a!==n&&t._props.set(t._calcProps({alignment:a,targetRect:r.getBoundingClientRect(),elRect:o}))}t._visible.set(!0)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._listenStyles()},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this;return i.createElement(c.BaseTooltip,null,function(t){return e._visible.set(!1),t.isEmpty()&&e._state.set(o.None),t.map(function(t){return i.createElement(a.F.div,r.__assign({mount:function(n){e._el=n,e._state.set(o.Some(t))}},a.classes(u.tooltip,e._props.view("className"),e._visible.view(function(e){return e?u.visible:u.hidden})),{style:e._props.view("style")}),t.content)}).orNull()})},t.prototype._listenStyles=function(){var e,t=this;this._subs.push(this._state.subscribe(function(n){e&&cancelAnimationFrame(e),t._visible.set(!1),n.fold(function(){return t._props.set(d)},function(n){t._props.set(t._calcProps({alignment:n.alignment,targetRect:n.target.getBoundingClientRect(),elRect:t._el&&t._el.getBoundingClientRect()})),t._isFixed(n.alignment)?t._visible.set(!0):e=requestAnimationFrame(function(){return t._validateFit(n)})})}))},t.prototype._isFixed=function(e){switch(e){case"topCenter":case"topRight":case"topLeft":case"bottomCenter":case"bottomRight":case"bottomLeft":case"left":case"right":return!0;default:return!1}},t.prototype._getHAlign=function(e,t,n){var r=t.right>n.right,i=t.left<n.left;switch(e){case"center":return"Center";case"right":return"Right";case"left":return"Left";case"auto":case"top":case"bottom":default:return r&&i?"Center":r?"Right":"Left"}},t.prototype._getVAlign=function(e,t,n){switch(e){case"top":case"bottom":return e;case"auto":case"center":case"right":case"left":default:return t.top<n.top?"top":"bottom"}},t.prototype._calcProps=function(e){var t=e.alignment,n=e.targetRect,r=e.elRect,i=r?r.height:24,o={fromTop:n.top-i-7,fromMiddle:(n.top+n.bottom-i)/2,fromBottom:n.bottom+7,fromCenter:n.left+n.width/2,fromRight:n.left+n.width/2-12-7,fromLeft:n.left+n.width/2+12+7,fromRightBorder:n.right+7,fromLeftBorder:n.left-7};switch(t){case"auto":case"center":case"top":case"topCenter":return{style:{top:o.fromTop,left:o.fromCenter},className:u.tooltipTopCenter};case"right":return{style:{top:o.fromMiddle,left:o.fromRightBorder},className:u.tooltipMiddleRight};case"topRight":return{style:{top:o.fromTop,left:o.fromRight},className:u.tooltipTopRight};case"left":return{style:{top:o.fromMiddle,left:o.fromLeftBorder},className:u.tooltipMiddleLeft};case"topLeft":return{style:{top:o.fromTop,left:o.fromLeft},className:u.tooltipTopLeft};case"bottom":case"bottomCenter":return{style:{top:o.fromBottom,left:o.fromCenter},className:u.tooltipBottomCenter};case"bottomRight":return{style:{top:o.fromBottom,left:o.fromRight},className:u.tooltipBottomRight};case"bottomLeft":return{style:{top:o.fromBottom,left:o.fromLeft},className:u.tooltipBottomLeft};default:return l.assertNever(t)}},t}(s.BaseComponent);t.DenaliTooltipElement=p},1439:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(513),s=n(1419),c=n(2),l=n(1739),u=n(105),d=n(32);!function(e){function t(e){return 0===e?"":e>=n?Math.min(Math.trunc(e/n),9)+"k+":String(e)}var n=1e3,p=function(e){var t=e.className,n=e.isChecking,a=e.type,u=e.animateFade,d=void 0===u||u,p=c.Animation.fadeOutState(n),m=p.state,f=p.complete;return i.createElement(o.F.div,r.__assign({},o.classes(l.loader,t),{role:"loader"}),d?m.map(function(e){return"end"===e?i.createElement("div",{key:"checking-complete","data-name":"checking-complete"}):i.createElement(s.Spinner,{key:"spinner",variation:a,size:"100%",className:"fadeOut"===e?l.fadeOut:void 0,onTransitionEnd:f})}):n.map(function(e){return e?i.createElement(s.Spinner,{variation:a,size:"100%"}):i.createElement("div",{"data-name":"checking-complete"})}))},m=u.withContext(function(e,n){var a=e.name,u=e.theme,p=void 0===u?{}:u,m=e.count,f=e.type,h=void 0===f?"white":f,g=e.suffix,_=void 0===g?"":g,v=n.environment;return i.createElement(o.F.div,r.__assign({},o.classes(l.roundCounter,c.RxUtils.mapMaybeObservable(h,s.Spinner.getClassName(l)),p.counterWrapper),{role:"counter"}),i.createElement("svg",{viewBox:"0 0 32 32",className:l.circular},i.createElement("g",null,i.createElement("circle",{r:"15.75",cx:"16",cy:"16"}),i.createElement("text",r.__assign({x:"16",y:"17"},c.DOM.svgVerticalAlignment(v.has(d.Environment.Flag.supportsSVGDominantBaseline)),{fontSize:m>=100?14:18,"data-name":a},o.classes(l.counterText,p.counterContent)),t(m),_))))}),f=u.withContext(function(e,n){var a=e.name,u=e.theme,p=void 0===u?{}:u,m=e.count,f=e.type,h=void 0===f?"white":f,g=e.suffix,_=void 0===g?"":g,v=n.environment;return i.createElement(o.F.div,r.__assign({},o.classes(l.ovalCounter,c.RxUtils.mapMaybeObservable(h,s.Spinner.getClassName(l)),p.counterWrapper),{role:"counter"}),i.createElement("svg",{viewBox:"0 0 32 20",className:l.circular},i.createElement("rect",{width:"32",height:"20",rx:"10"}),i.createElement("text",r.__assign({x:"16",y:"10.5"},c.DOM.svgVerticalAlignment(v.has(d.Environment.Flag.supportsSVGDominantBaseline)),{fontSize:12,"data-name":a},o.classes(l.counterText,p.counterContent)),t(m),_)))});e.Counter=function(e){var t=e.theme,n=void 0===t?{}:t,a=e.count,s=e.type,c=void 0===s?"white":s;return a>=100?i.createElement(f,{theme:n,count:a,type:c}):i.createElement(m,{theme:r.__assign({},n,{counterWrapper:o.classes(n.counterWrapper,l.flexCounter).className}),count:a,type:c})},e.MainMeter=function(e){var t=e.count,n=e.isChecking,s=e.className,c=0===t;return i.createElement("div",r.__assign({},o.classes(l.meter,s)),i.createElement(p,{isChecking:n,type:c?"green":"red"}),0===t?i.createElement(a.Icon.Grammarly,null):i.createElement(m,{count:t,type:"red",name:"toolbar-mistakes"}))},e.LensNavMeter=function(e){var t=e.count,n=e.isChecking;return i.createElement("div",{className:l.lensNavMeter},i.createElement(p,{isChecking:n,type:"red"}),i.createElement(m,{count:t,type:"white",name:"toolbar-mistakes"}))},e.PlagiarismMeter=function(e){var t=e.count,n=e.isChecking,s=e.className;return i.createElement(o.F.div,r.__assign({},o.classes(l.plagiarismMeter,s)),i.createElement(p,{isChecking:n,type:"violet",animateFade:!1}),i.createElement(o.F.div,{className:l.wrapper},t.combineLatest(n).map(function(e){var t=e[0],n=e[1];return 0===t?i.createElement(a.Icon.NotificationInfo,{className:l.plagiarismIcon,key:"icon",width:20}):!n&&i.createElement(f,{count:t,type:"violet",key:"value",suffix:i.createElement("tspan",{fontSize:8,dominantBaseline:"center"},"%")})}).startWith(null)))}}(t.Counters||(t.Counters={}))},1440:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(6),a=n(7),s=n(18),c=n(16),l=n(1663),u=n(4),d=n(32);!function(e){function t(e,t){return{critical:e.critical+t.critical,advanced:e.advanced+t.advanced,unread:e.unread+t.unread}}function n(e){return{critical:-e.critical,advanced:-e.advanced,unread:-e.unread}}function r(e){return e.critical>=0&&e.advanced>=0&&e.unread>=0}e.empty={critical:0,advanced:0,unread:0},e.join=t,e.reverse=n,e.isValid=r}(r=t.DocumentCounters||(t.DocumentCounters={}));var p=function(){function e(e){this._changes=o.Atom.create(e),this.changes=this._changes.skip(1)}return e.prototype._updateValue=function(e,t){this._changes.modify(function(n){return Object.assign({},n,(r={},r[e]=t,r));var r})},Object.defineProperty(e.prototype,"discoverabilityOnExitShown",{get:function(){return this._changes.view("discoverabilityOnExitShown").get()},set:function(e){this._updateValue("discoverabilityOnExitShown",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"checkedPlagiarism",{get:function(){return this._changes.view("checkedPlagiarism").get()},set:function(e){this._updateValue("checkedPlagiarism",e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"counterType",{get:function(){return this._changes.view("counterType").get()},set:function(e){this._updateValue("counterType",e)},enumerable:!0,configurable:!0}),e}(),m=function(){function e(e,t,n,i,d,m,f,h,g){var _=this;this._docId=e,this._doxInit=t,this._getText=n,this._getStats=i,this._doxApi=d,this._notifications=m,this._enableTrackingOnDownload=f,this._flushText=h,this._environment=g,this.saved=new c.Subject,this.checkingState=o.Atom.create("full"),this.asyncChecksState=o.Atom.create({plagiarism:"full"}),this.counters=o.Atom.create(r.empty),this.score=o.Atom.create(a.None),this.textInfo=o.Atom.create(a.None),this.recentDocumentStats=o.Atom.create(a.None),this.extraSettings=new p(this._doxInit.meta.settings.extraSettings.getOrElse(s.DoxDocumentSettings.Extra.empty)),this._log=u.Monitoring.Logging.getLogger("model.document"),this.updateContext=function(e){var t=!s.DocumentContext.isEquals(_.context.get(),e);return _.context.set(e),t},this.title=o.Atom.create(t.meta.title),this.context=o.Atom.create(t.meta.settings.context.getOrElse(s.DocumentContext.empty)),this.contextCompleteness=this.context.view(function(e){return 20*["general"!==e.domain,e.goals.size>0,e.audience.nonEmpty(),e.emotion.nonEmpty(),e.style.nonEmpty()].filter(Boolean).length}),this.proofit=new l.DocumentProofitModelImpl(this._doxInit.remoteDocument,this.title)}return Object.defineProperty(e.prototype,"isInitialRevision",{get:function(){return this._doxInit.remoteDocument.isInitialRevision},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"documentText",{get:function(){return this._getText()},enumerable:!0,configurable:!0}),e.prototype.flush=function(){return this._flushText(),this._doxInit.remoteDocument.flush()},e.prototype.downloadOriginal=function(){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(t){switch(t.label){case 0:return t.trys.push([0,5,,6]),[4,this.flush()];case 1:return t.sent(),this._environment.has(d.Environment.Flag.canDownloadBlobs)?[4,this._doxApi.downloadOriginal(this._docId,this._enableTrackingOnDownload).then(s.RawFile.saveToFS)]:[3,3];case 2:return t.sent(),[3,4];case 3:this._notifications.show(this._notifications.create.blobDownloadUnsupported()),t.label=4;case 4:return[3,6];case 5:return e=t.sent(),this._handleDownloadError(e),[3,6];case 6:return[2]}})})},e.prototype.downloadProofread=function(){return i.__awaiter(this,void 0,void 0,function(){var e;return i.__generator(this,function(t){switch(t.label){case 0:if(!this._environment.has(d.Environment.Flag.canDownloadBlobs))return[3,5];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this._doxApi.downloadProofread(this._docId).then(s.RawFile.saveToFS)];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this._handleDownloadError(e),[3,4];case 4:return[3,6];case 5:this._notifications.show(this._notifications.create.blobDownloadUnsupported()),t.label=6;case 6:return[2]}})})},e.prototype.generateReport=function(e,t){return i.__awaiter(this,void 0,void 0,function(){var n;return i.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,this._doxApi.generateReport(this._docId,e,t).then(s.RawFile.saveToFS)];case 1:return r.sent(),[3,3];case 2:return n=r.sent(),this._log.error("generateReport failed",n),this._notifications.show(this._notifications.create.error()),[3,3];case 3:return[2]}})})},e.prototype._handleDownloadError=function(e){this._log.error("downloadDocument failed",e);var t={unauthorized:e instanceof s.DoxErrors.UnauthorizedError,notFound:e instanceof s.DoxErrors.DocumentNotFoundError,temporary:e instanceof s.DoxErrors.TooManyRequestsError||e instanceof s.DoxErrors.ConnectionError};t.unauthorized?this._notifications.show(this._notifications.create.unauthorizedError()):t.notFound?this._notifications.show(this._notifications.create.downloadDocumentNotFoundError()):t.temporary?this._notifications.show(this._notifications.create.isTemporaryDownloadError()):this._notifications.show(this._notifications.create.error())},e.prototype.calculateStats=function(){var e=this;return this._getStats().then(function(t){return e.recentDocumentStats.set(a.Some(t)),t})},e}();t.DocumentModelImpl=m;!function(e){var t=function(){function e(){var e=this;this.score=o.Atom.create(a.None),this.textInfo=o.Atom.create(a.None),this.title=o.Atom.create(""),this.downloadOriginal=function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return[2,Promise.resolve()]})})},this.downloadProofread=function(){return i.__awaiter(e,void 0,void 0,function(){return i.__generator(this,function(e){return[2,Promise.resolve()]})})},this.documentText="",this.counters=o.Atom.create(r.empty),this.saved=o.Atom.create(!0),this.checkingState=o.Atom.create("idle"),this.asyncChecksState=o.Atom.create({plagiarism:"idle"}),this.calculateStats=function(){return Promise.resolve({})},this.flush=function(){return Promise.resolve()},this.context=o.Atom.create({}),this.contextCompleteness=o.Atom.create(0),this.updateContext=function(){return!1},this.proofit=new l.DocumentProofitModel.Mock,this.extraSettings=new p(s.DoxDocumentSettings.Extra.empty),this.recentDocumentStats=o.Atom.create(a.None),this.generateReport=function(){throw new Error("Method not implemented.")}}return e}();e.Mock=t}(t.DocumentModel||(t.DocumentModel={}))},1441:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(16),o=n(514),a=n(4),s=n(2),c=n(268),l=n(178),u=n(6),d=n(7),p=n(1620);t.closedLensState=function(){return{alertSource:c.AlertActionSource.api,switchOrder:"lensOrder",focusedLensIndex:0,currentLens:p.ClosedLensViewImpl.create()}};var m=function(){function e(e,t){void 0===t&&(t=o.LensStateProvider.Mode.WITHOUT_ALL_ALERTS);var n=this;this._alertsList=e,this._mode=t,this._log=a.Monitoring.Logging.getLogger("FocusedLensManagerImpl"),this._lenses=this._alertsList.lenses.view(function(e){var t=l.Lens.SpecialId.Plagiarism,n=(e[t],l.Lens.SpecialId.Premium),i=(e[n],r.__rest(e,["symbol"==typeof t?t:t+"","symbol"==typeof n?n:n+""]));return s.ObjectUtils.toArray(i).sort(l.Lens.comparator)}),this.lenses=this._lenses.view(function(e){return n._mode===o.LensStateProvider.Mode.WITHOUT_ALL_ALERTS?e.slice(1):e}),this.plagiarism=this._alertsList.lenses.view(function(e){return e[l.Lens.SpecialId.Plagiarism]||n._alertsList.createLens(l.Lens.Info.plagiarism)}),this.premium=this._alertsList.lenses.view(function(e){return e[l.Lens.SpecialId.Premium]||n._alertsList.createLens(l.Lens.Info.premium)}),this.readability=this._alertsList.lenses.view(function(e){return e[l.Lens.SpecialId.Readability]||n._alertsList.createLens(l.Lens.Info.readability)}),this.findPremiumAlert=function(){return n.premium.get().count>0?d.Option.of(n._alertsList.getAllAlertsAsSortedArray(c.Alert.isPremium)[0]):d.None},this._lensAlerts=function(e){return n._alertsList.getAllAlertsAsSortedArray(e.filter)},s.registerDebugHelper("lensesView",function(){return n._log.debug(n.toString())})}return e._mapByActiveLensId=function(e,t,n,r,i){switch(e){case l.Lens.SpecialId.Plagiarism:return t();case l.Lens.SpecialId.Premium:return n();case l.Lens.SpecialId.Readability:return r();default:return i()}},e._mapByStaticLensId=function(e,t,n,r){switch(e){case l.Lens.SpecialId.Proofit:return t();case l.Lens.SpecialId.Success:return n();case l.Lens.SpecialId.Closed:return r();default:return s.assertNever(e)}},e._createLensByAlert=function(t,n,r){var i=r.findIndex(o.idFinder(t));return e._mapByActiveLensId(n.id,function(){return p.PlagiarismLensViewImpl.create(n,r,i)},function(){return p.PremiumLensViewImpl.create(n,r)},function(){return p.ReadabilityLensViewImpl.create(n,r,d.Some(i))},function(){return p.FocusedLensViewImpl.create(n,r,i)})},e._transformALEventsToApplicator=function(e){switch(e.kind){case"alert_added":return function(t){var n=t.currentLens.add(e.alerts),r=n.currentLens,i=n.cardsToAdd;return{state:s.ObjectUtils.update(t,{currentLens:r}),cardsToAdd:i,cardsToRemove:[]}};case"alert_removed":return function(t){var n=t.currentLens.remove(e.alerts),r=n.currentLens,i=n.cardsToRemove;return{state:s.ObjectUtils.update(t,{currentLens:r,alertSource:e.source}),cardsToAdd:[],cardsToRemove:i}};case"alert_applied":return o.LensStateProvider.Applicator.identity;default:return s.assertNever(e)}},e._transformLensesChangesToApplicator=function(t){return function(n){var r=n,i=e._lensIndex(t,r.currentLens);return i>-1?o.LensStateProvider.Event.fromState(s.ObjectUtils.update(r,{currentLens:r.currentLens.updateMeta(t[i]),focusedLensIndex:i})):o.LensStateProvider.Event.fromState(r)}},e._filterALEvents=function(e){return function(t){if("alert_applied"===t.kind)return e(t.alert)?i.Observable.of(t):i.Observable.empty();var n=t.alerts.filter(e);return n.length>0?i.Observable.of(r.__assign({},t,{alerts:n})):i.Observable.empty()}},e.prototype.getStaticLensByLensId=function(n){return e._mapByStaticLensId(n,function(){return{currentLens:p.ProofitLensViewImpl.create(),alertSource:c.AlertActionSource.api,switchOrder:"lensOrder",focusedLensIndex:0}},function(){return{alertSource:c.AlertActionSource.api,switchOrder:"lensOrder",focusedLensIndex:0,currentLens:p.SuccessLensViewImpl.create()}},t.closedLensState)},e.prototype.getLensEventsByLensId=function(e,t){var n=this,r=this._getActiveLensMeta(t),i=this._lensAlerts(r);return this._generateEventsFromState(d.Option.of(i[0]).fold(function(){return n._createNonFocusedState(e,t)},function(t){return n._createStateByAlert(e,t,r,i)}))},e.prototype.getLensEventsByAlert=function(e,t,n){s.invariant(void 0!==this._alertsList.getAllAlerts()[n.id],"Can't focus non existing alert");var r=this._getActiveLensMeta(t);return this._generateEventsFromState(e.currentLens.meta.id===t&&e.currentLens.meta.filter(n)?s.ObjectUtils.update(e,{currentLens:e.currentLens.select(n)}):this._createStateByAlert(e,n,r))},e.prototype.findNextAlertInText=function(e){var t=this._alertsList.getAllAlertsAsSortedArray(c.Alert.isAlert),n=s.ArrayUtils.lowerBound(t,function(t){return t.highlightRange.end<e.highlightRange.end});return d.Option.of(t[n]||t[n-1])},e.prototype.findNextAlertInLenses=function(e){var t=void 0,n=this._alertsList.getAllAlertsAsSortedArray(),r=function(e){return void 0!==(t=n.find(function(t){return t.lensId===e.id}))};return s.ArrayUtils.lookAround(this.lenses.get(),e.focusedLensIndex,r).map(function(e){return s.invariant(void 0!==t,"nextAlert should be defined"),t})},e.prototype.toString=function(){return JSON.stringify(this,void 0,2)},e.prototype.toJSON=function(){return{lenses:this.lenses.get(),plagiarism:this.plagiarism.get()}},e.prototype._generateEventsFromState=function(t){return this._alertsList.alertEvents.switchMap(e._filterALEvents(t.currentLens.meta.filter)).map(e._transformALEventsToApplicator).merge(s.RxUtils.orEmpty(this.lenses.distinctUntilChanged(s.ArrayUtils.equals).map(e._transformLensesChangesToApplicator))(o.LensState.isLensview(t))).startWith(o.LensStateProvider.Applicator.override(t))},e.prototype._createNonFocusedState=function(t,n){var r=this,i=t.alertSource,o=t.switchOrder,a=function(){throw new s.InvariantError("Cannot create non-focused lens state: "+n)};return{currentLens:e._mapByActiveLensId(n,function(){return p.PlagiarismLensViewImpl.create(r.plagiarism.get(),[],0)},a,function(){return p.ReadabilityLensViewImpl.create(r.readability.get(),[],d.None)},a),focusedLensIndex:0,alertSource:i,switchOrder:o}},e.prototype._getActiveLensMeta=function(t){var n=this,r=e._mapByActiveLensId(t,function(){return n.plagiarism.get()},function(){return n.premium.get()},function(){return n.readability.get()},function(){return n._alertsList.lenses.get()[t]});return s.invariant(void 0!==r,"unknown lensId:"+t),r},e.prototype._createStateByAlert=function(t,n,r,i){var a=t.alertSource,s=t.switchOrder;void 0===i&&(i=this._lensAlerts(r));var c=e._createLensByAlert(n,r,i);return{currentLens:c,focusedLensIndex:c.type===o.LensViewType.lensview?e._lensIndex(this.lenses.get(),c):0,alertSource:a,switchOrder:s}},e._lensIndex=function(e,t){return e.findIndex(o.idFinder(t.meta))},e}();t.SidebarViewModelImpl=m,function(e){var t=function(){function e(){this.premium=u.Atom.create(new l.Lens.LensImpl(l.Lens.Info.premium,l.Lens.Meta.empty,{})),this.lenses=u.Atom.create([])}return e.prototype.getStaticLensByLensId=function(e){throw new Error("Method not implemented.")},e.prototype.findPremiumAlert=function(){throw new Error("Method not implemented.")},e.prototype.findNextAlertInLenses=function(e){throw new Error("Method not implemented.")},e.prototype.findNextAlertInText=function(e){throw new Error("Method not implemented.")},e.prototype.disposeCard=function(e){throw new Error("Method not implemented.")},e.prototype.getLensEventsByLensId=function(e,t){throw new Error("Method not implemented.")},e.prototype.getLensEventsByAlert=function(e,t,n){throw new Error("Method not implemented.")},e}();e.Mock=t}(m=t.SidebarViewModelImpl||(t.SidebarViewModelImpl={})),t.SidebarViewModelImpl=m},1442:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(1408),s=n(178),c=n(1536);t.Mini=function(e){var t=e.card,n=e.context,l=e.marksVM,u=e.pageViewModel;return i.createElement(a.BaseCard.Mini,r.__assign({},o.classes(c.wrapper,s.Lens.typeMatch(t.activeAlert.alertType)({critical:c.dotCritical,advanced:c.dotAdvanced})),{marksVM:l,pageViewModel:u},{cardId:t.cardId,getActiveAlert:function(){return t.activeAlert}}),n.prev.map(function(e){return i.createElement("span",{className:c.text},e.replace(/\s$/," "))}).orNull(),i.createElement("span",{className:s.Lens.typeMatch(t.activeAlert.alertType)(c)},t.activeAlert.highlightText),n.next.map(function(e){return i.createElement("span",{className:c.text},e.replace(/^\s/," "))}).orNull())}},1445:function(e,t){e.exports={button:"_46480f23-button-button",text:"_8168eb69-button-text",caps:"_186a00b6-button-caps _46480f23-button-button _8168eb69-button-text",round:"_81abaf57-button-round _46480f23-button-button",blue:"_4a4e1f2e-button-blue _8168eb69-button-text _46480f23-button-button",white:"_937bb57a-button-white _46480f23-button-button",groupSticky:"_d8226593-button-groupSticky",grey:"_6ce41b78-button-grey _8168eb69-button-text _46480f23-button-button",flat:"_13eb0b39-button-flat _46480f23-button-button",sidebarFlat:"_912ed3f2-button-sidebarFlat _44f85ed9-typography-header3 _46480f23-button-button",linkBtn:"_88d8386d-button-linkBtn",group:"_035784be-button-group"}},1446:function(e,t,n){n(1465),e.exports=n(1493)},1448:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(1525),a=n(6),s=function(){return i.createElement("svg",{className:o.svg,viewBox:"0 0 14 11",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink"},i.createElement("defs",null,i.createElement("path",{d:"M11.864 16.273a.792.792 0 0 0-1.145 1.094l3.752 3.93 6.839-7.99a.792.792 0 1 0-1.203-1.03l-5.7 6.66-2.543-2.664z",id:"b"}),i.createElement("filter",{x:"-18.2%",y:"-10.8%",width:"136.4%",height:"143%",filterUnits:"objectBoundingBox",id:"a"},i.createElement("feOffset",{dy:"1",in:"SourceAlpha",result:"shadowOffsetOuter1"}),i.createElement("feGaussianBlur",{stdDeviation:".5",in:"shadowOffsetOuter1",result:"shadowBlurOuter1"}),i.createElement("feColorMatrix",{values:"0 0 0 0 0.168627451 0 0 0 0 0.176470588 0 0 0 0 0.219607843 0 0 0 0.7 0",in:"shadowBlurOuter1"}))),i.createElement("g",{transform:"translate(-9 -12)",fillRule:"nonzero",fill:"none"},i.createElement("use",{fill:"#000",filter:"url(#a)",xlinkHref:"#b"}),i.createElement("use",{fill:"#FFF",fillRule:"evenodd",xlinkHref:"#b"})))},c=function(){return i.createElement("svg",{className:o.svg2,viewBox:"0 0 12 9",width:"12",height:"9",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M1.386 4.115L4.561 7.29l5.81-5.81",stroke:"#FFF",strokeWidth:"2",fill:"none",fillRule:"evenodd",strokeLinecap:"round"}))};t.Checkbox=function(e){var n=e.checked,c=e.className,l=e.children,u=e.name;return i.createElement(t.CheckboxBase,{name:u,checked:n,className:c,checkedComponent:function(e){return i.createElement("div",r.__assign({key:"checkbox"},a.classes(o.rectangle)),e&&i.createElement(s,null))}},l)},t.BlueCheckbox=function(e){var n=e.checked,r=e.className,a=e.children,s=e.name;return i.createElement(t.CheckboxBase,{checked:n,name:s,className:r,checkedComponent:function(e){return i.createElement("div",{key:e?"checkbox1":"checkbox2",className:e?o.rectangleFilledBlue:o.rectangle},e&&i.createElement(c,null))}},a)},t.CheckboxBase=function(e){var t=e.checked,n=e.checkedComponent,s=e.className,c=e.children,l=e.name;return i.createElement(a.F.label,r.__assign({},a.classes(o.wrapper,s),{onClick:function(e){return e.stopPropagation()}},l?{"data-name":l+"-checkbox"}:{}),i.createElement(a.F.input,{type:"checkbox",checked:t,onChange:function(e){return t.modify(function(e){return!e})},className:o.inputCheckbox}),t.view(n),i.createElement("div",null,c))}},1449:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(8),a=n(6),s=n(32),c=n(2),l=n(1526);!function(e){e.None="none",e.FromClickPoint="fromClickPoint",e.FromCenter="fromCenter"}(r=t.AnimationMode||(t.AnimationMode={}));var u=(function(){function e(){}}(),function(e){function t(t,n){var r=e.call(this,t)||this;return r._ripples=a.Atom.create(Array()),r._disabled=a.Atom.create(!1).view(),r._disabled=void 0===n.disabled?r._disabled:n.disabled,r}return i.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._el&&(this._subscription=this.props.mouseDownEvents.do(function(t){if(!e._disabled.get()&&e._el){var n=e._getAnimationStyle(e._el,t);e._ripples.modify(function(e){return e.concat([n])})}}).debounceTime(1e3).do(function(){return e._ripples.modify(function(){return[]})}).subscribe())},t.prototype.componentWillUnmount=function(){this._subscription&&this._subscription.unsubscribe()},t.prototype._getAnimationStyle=function(e,t){var n=e.getBoundingClientRect(),i=n.width;switch(this.props.animationMode){case r.None:throw new c.InvariantError("unsupported mode, do not mount component if you do not need ripple animation");case r.FromCenter:return{className:l.rippleFromCenter,top:(n.height-i)/2,left:0,width:i,height:i};default:return{className:l.ripple,top:t.pageY-n.top-i/2,left:t.pageX-n.left-i/2,width:i,height:i}}},t.prototype.render=function(){var e=this;return o.createElement("span",{key:"rippleAnimation",className:l.rippleContainer,ref:function(t){return e._el=t}},o.createElement(a.F.span,null,this._ripples.map(function(e){return e.map(function(e,t){return o.createElement("span",{className:e.className,key:t,style:e})})})))},t.contextTypes=i.__assign({},s.ElementState.DisabledContextTypes),t}(o.Component));t.Ripple=u},1450:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(49),a=n(7),s=n(6),c=n(2),l=n(18),u=n(105),d=n(1483),p=n(1415);t.Spot=function(e){var t=e.className,n=e.onClick,o=e.customStyle;return i.createElement(s.F.div,r.__assign({},s.classes(p.pulseWrapper,t),{style:o,onClick:function(){return n&&n()}}),i.createElement("div",{className:p.pulse}))};var m=function(e){function n(t,n){var r=e.call(this,t)||this;return r._onboardingStepSubscription=a.None,r._subs=[],r._wrapperHtmlElement=null,r._containerElement=null,r._visibilityState=s.Atom.create(!r.props.findFirstButton),r._spotStyle=s.Atom.create({}),r._notificationStyle=s.Atom.create({}),r._triangleCustomStyle=s.Atom.create({}),r._onEventActionTaken=function(e,t){return void 0===t&&(t=!0),function(n){var i=e.state.get();if("popup"===i||t&&"dot"===i){var o=n.target;if(c.DOM.isDisabled(o))return;var a=t||c.DOM.hasParentWithClassName(o,p.containerDiv);if(r.props.findFirstButton&&!c.DOM.hasParentWithAttribute(o,"role","button"))return;a&&e.actionTaken()}else"dot"===i&&(n.preventDefault(),n.stopPropagation())}},r._onboardingViewModel=t.onboardingViewModel||n.onboardingViewModel,l.invariant(Boolean(r._onboardingViewModel),"onboardingViewModel should be set either in context or in props"),r}return r.__extends(n,e),n.prototype.getChildContext=function(){return{onboardingViewModel:this._onboardingViewModel}},n.prototype.componentWillMount=function(){this._onboardingViewModel.isStepEnabled(this.props.stepId)&&(this._onboardingStepSubscription=a.Some(this._onboardingViewModel.subscribeForStep(this.props.stepId)))},n.prototype.componentWillUnmount=function(){this._onboardingStepSubscription.forEach(function(e){return"popup"===e.state.get()&&e.popupIgnored()}),this._subs.forEach(function(e){return e.unsubscribe()})},n.prototype.componentDidMount=function(){var e=this;if(this.props.findFirstButton&&!this._onboardingStepSubscription.isEmpty()){var t=this.props.findFirstButton.dotPosition,n=this.props.findFirstButton.notificationPosition||"normal",r=this.props.findFirstButton.buttonOrder;this._subs.push(this.context.screen.remSize.merge(this._onboardingStepSubscription.get().state.filter(function(e){return"dot"===e||"popup"===e})).switchMapTo("object"!=typeof r?s.Atom.create(r):r).subscribe(function(r){return setTimeout(function(){var i=e._containerElement&&e._containerElement.querySelectorAll('[role="button"]'),o=i&&i.length>0&&(void 0===r?i[i.length-1]:i[r]);if(o&&e._wrapperHtmlElement){var a=o.getBoundingClientRect(),s=e._wrapperHtmlElement.getBoundingClientRect();switch(t){case"rightTop":e._spotStyle.set({top:0,left:a.left-s.left+a.width});break;case"center":e._spotStyle.set({top:a.top-s.top+a.height/2,left:a.left-s.left+a.width/2});break;default:c.assertNever(t)}switch(n){case"normal":e._triangleCustomStyle.set({left:a.left-s.left+a.width/2+3});break;case"underButton":e._triangleCustomStyle.set({right:a.left-s.left+a.width/2}),e._notificationStyle.set({top:a.top-s.top+a.height});break;default:c.assertNever(n)}e._visibilityState.set(!0)}},500)}))}},n.prototype.render=function(){var e=this;return this._onboardingStepSubscription.fold(function(){return i.Children.only(e.props.children)},function(n){return i.createElement(s.F.div,r.__assign({key:"onboarding-wrapper"},s.classes(p.containerWrapper,e.props.themes&&e.props.themes.containerWrapperClassName),{mount:function(t){return e._wrapperHtmlElement=t}}),i.createElement("div",r.__assign({key:"container",ref:function(t){return e._containerElement=t}},s.classes(p.containerDiv,e.props.themes&&e.props.themes.containerClassName),{onClickCapture:e._onEventActionTaken(n,"onclick"===e.props.eventType),onMouseEnter:function(t){return"onhover"===e.props.eventType&&e._onEventActionTaken(n,!1)(t)}}),e.props.children),s.Atom.combine(n.state,e._visibilityState,function(o,a){if(!a)return null;switch(o){case"dot":var c=e.props.themes&&e.props.themes.spotClassName;return i.createElement(t.Spot,r.__assign({customStyle:e._spotStyle,key:"spot"},s.classes(p.onboardingSpot,c),{onClick:function(){return n.dotClicked()}}));case"popup":var l=e.props.themes&&e.props.themes.notificationClassName;return i.createElement(d.OnboardingNotification,{key:"step",title:e.props.title,alignment:e.props.alignment||"left",themes:{className:l,triangleClassName:e.props.themes?e.props.themes.triangleClassName:void 0},onClose:function(){return n.popupClosed()},triangleCustomStyle:e._triangleCustomStyle,customStyle:e._notificationStyle,description:e.props.message});default:return null}}))})},n.contextTypes=r.__assign({},u.BaseComponent.contextTypes,{onboardingViewModel:o.object}),n.childContextTypes=n.contextTypes,n}(u.BaseComponent);t.Onboarding=m},1451:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(105),s=n(1378),c=n(513),l=n(1746),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement(s.Button,r.__assign({name:"upgrade"},o.classes("big"===this.props.size?l.baseBig:"link"===this.props.size?l.link:l.baseSmall,this.props.className),{onClick:function(){return e.props.upgradeViewModel.openUpgradeUrl(e.props.place)}}),"link"===this.props.size?i.createElement(c.Icon.PaidGraident,null):i.createElement(c.Icon.Paid,{className:"big"===this.props.size?l.bigIcon:l.smallIcon})," ","Go Premium")},t}(a.BaseComponent);t.UpgradeButton=u},1452:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(16),o=n(7),a=n(6),s=n(4),c=n(2),l=n(524),u=n(514),d=function(){function e(e,t,n){var l=this;this._ded=e,this._stateHolder=t,this._sidebar=n,this._log=s.Monitoring.Logging.getLogger("CardsViewModelImpl",s.Logging.LogLevel.DEBUG),this._removingCards=new Set,this._subs=[],this._cardsState=a.Atom.create({prev:{},current:{}}),this._cardsStateCurrent=this._cardsState.lens("current"),this.completeTransitionTo=new i.Subject,this.flushTransitionTo=function(){return l._flushCompleteTransition.next()},this._completeTransitionTo=function(e){l._cardsStateCurrent.modify(function(t){return e.reduce(function(e,n){var r=n.card,i=n.transitionId;return o.Option.of(t[r.cardId]).fold(function(){l._log.warn('complete transition for already "unmounted" card with id "'+r.cardId+'"'),delete e[r.cardId]},function(t){t.transitionId!==i?l._log.debug('skip complete transition "'+i+'" for card "'+r.cardId+'". Current transition is "'+t.transitionId+'"'):(l._log.trace('complete transition "'+i+'" for card "'+r.cardId+'", to: "'+t.transition.type+'"'),"removed"===t.transition.type&&l._disposeCard(r),e[r.cardId]=t.complete(i))}),e},r.__assign({},t))})},this.getState=function(e){var t=e.cardId;return l._cardsState.view(function(e){var n=e.prev;return e.current[t]||n[t]||u.Card.VisualState.initial({type:"added",clockwise:!0})})},this._contextCache=new c.LRUCache(500),this._flushCompleteTransition=new i.Subject,this._subs.push(this._listenCardsUpdate(),this._listenFocusedLensState(),this._processCompleteTransitionBuffered())}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype.cardScheduledToDispose=function(e){var t=e.cardId;return this._removingCards.has(t)},e.prototype._disposeCard=function(e){this._removingCards.delete(e.cardId)&&this._sidebar.disposeCard(e)},e.prototype._swapCardsState=function(e){this._log.trace("_resetCardsState"),this._cardsState.modify(function(t){return{prev:t.current,current:e}})},e.prototype._transitionToState=function(e,t){return function(n){return e.reduce(function(e,r){var i=r.cardId;return e[i]=o.Option.of(n[i]).filter(function(e){return"removed"!==e.transition.type}).fold(function(){return u.Card.VisualState.initial(t)},function(e){return c.invariant("removed"!==e.transition.type,'Cannot transition "'+i+'" to "'+t.type+'" from terminal state'),c.invariant(e.transition.type!==t.type,'Cannot transition to the same state twice - "'+i+'": "'+e.transition.type+'"'),e.to(t)}),e},r.__assign({},n))}},e.prototype.startTransitionTo=function(e,t){this._log.trace("start transition for: "+(Array.isArray(e)?e.length:e.cardId)+', to: "'+t.type+'" - '+(t.clockwise?"clockwise":"counterclockwise")),this._cardsStateCurrent.modify(this._transitionToState(Array.isArray(e)?e:[e],t))},e.prototype.getContext=function(e){var t=this._contextCache.get(e.id);if(t)return t;var n,r=e.highlightRange,i=r.start,o=r.end;return n=1===e.highlightText.length?this._ded.getContext(i+1,o-1):this._ded.getContext(i,o),this._contextCache.put(e.id,n),n},e.prototype._listenCardsUpdate=function(){var e=this;return this._sidebar.cardEvents.do(function(t){var n=function(t){var n=e._stateHolder.focusedCard.get().map(function(e){return e.cardId}).orNull();e._removingCards.add(t.cardId),n!==t.cardId&&e.startTransitionTo(t,{type:"removed",clockwise:!0})};switch(t.kind){case"cards_added":e.startTransitionTo(t.cards,{type:"added",clockwise:!0});break;case"cards_removed":t.cards.forEach(n);break;default:c.assertNever(t)}}).catch(this._log.handler("listenCardsUpdate exception").error).retry().subscribe()},e.prototype._listenFocusedLensState=function(){var e=this;return this._stateHolder.state.map(u.LensState.mapper(function(e){var t=e.currentLens;return t.card.map(function(e){return{id:t.id,card:e,visibleCards:t.visibleCards}})})).distinctUntilChanged(function(e,t){return o.Option.map2(e,t,function(e,t){return e.id===t.id}).getOrElse(!1)}).subscribe(function(t){e._swapCardsState(e._transitionToState(t.fold(function(){return[]},function(e){return e.visibleCards.filter(function(t){return e.card.cardId!==t.cardId})}),{type:"rendered",clockwise:!0})({}))})},e.prototype._processCompleteTransitionBuffered=function(){var e=i.Observable.interval(100).startWith(0).merge(this._flushCompleteTransition);return this.completeTransitionTo.buffer(e).filter(c.notEmpty).subscribe(this._completeTransitionTo)},e}();t.CardsViewModelImpl=d;!function(e){var t=function(){function e(e,t){void 0===e&&(e="rendered"),void 0===t&&(t=new l.DEd.Mock);var n=this;this._initialType=e,this._ded=t,this.cardsStateMap=a.Atom.create({}),this.animate=a.Atom.create(!0),this.clockwise=a.Atom.create(!0),this.toggleAnimations=function(){return n.animate.modify(function(e){return!e})},this.startTransitionTo=function(e,t){return n.cardsStateMap.modify(function(n){return(Array.isArray(e)?e:[e]).reduce(function(e,r){var i=r.cardId;return e[i]=o.Option.of(n[i]).map(function(e){return e.to(t)}).getOrElse(u.Card.VisualState.initial(t)),e},r.__assign({},n))})},this.completeTransitionTo=new i.Subject,this.flushTransitionTo=c.noop,this.getState=function(e){var t=e.cardId;return n.cardsStateMap.view(function(e){return e[t]||u.Card.VisualState.initial({type:n._initialType,clockwise:!1})}).view(function(e){return r.__assign({},e,{from:e.from.orElse(o.Option.of("rendered")),transition:{type:e.transition.type,clockwise:n.clockwise.get()},incomplete:n.animate.get()})})}}return e.prototype.getContext=function(e){var t=e.highlightRange,n=t.start,r=t.end;return 1===e.highlightText.length?this._ded.getContext(n+1,r-1):this._ded.getContext(n,r)},e.prototype.cardScheduledToDispose=function(e){throw new Error("Method not implemented.")},e.prototype.dispose=function(){throw new Error("Method not implemented.")},e}();e.Mock=t}(t.CardsViewModel||(t.CardsViewModel={}))},1453:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6),i=n(514),o=n(1441),a=function(){function e(e){void 0===e&&(e=o.closedLensState()),this.state=r.Atom.create(e),this.focusedCard=this.state.view(i.LensState.getActiveCard),this.focusedAlert=this.state.view(i.LensState.getActiveAlert),this.lensChanged=this.state.pairwise().map(function(e){var t=e[0],n=e[1];return t.currentLens.id!==n.currentLens.id}).startWith(!0),this.sidebarOpen=this.state.view(i.LensState.isSidebarOpened)}return e}();t.StateHolder=a},1454:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(16),o=n(7),a=n(6),s=n(4),c=n(178),l=n(1619),u=n(1420),d=n(268),p=n(2),m=function(){function e(e,t,n,l,m){void 0===l&&(l=!1),void 0===m&&(m=a.Atom.create(p.DOM.Rect.empty));var f=this;this._ded=e,this._pageVM=t,this._alertList=n,this._useHighHighlights=l,this._editorViewport=m,this._marksMap=new Map,this._log=s.Monitoring.Logging.getLogger("MarksViewModelImpl",s.Logging.LogLevel.DEBUG),this._subs=[],this._focusedLens=this._pageVM.stateHolder.state.view("currentLens"),this._lockMarkUpdate=a.Atom.create(!1),this.getMarkAlert=function(e){var t=e.id;return o.Option.of(f._marksMap.get(t)).filter(function(e){return e.not(u.MarkAlertVisualState.disposed)})},this.getVisibleMarkAlert=function(e){var t=e.id,n=f._pageVM.filterKit.get().flatMap(function(e){return e.filter});return f._getMarkAlert({id:t}).filter(function(e){return n.forAll(function(t){return t(e.alert)})})},this._getVisibleMarkAlertByMarkId=function(e){var t=f._pageVM.filterKit.get().flatMap(function(e){return e.filter}),n=d.Alert.fromRangeIdToAlertId(e);return f._getMarkAlert({id:n}).filter(function(e){return t.forAll(function(t){return t(e.alert)})})},this.highlightedAlert=a.Atom.create(o.None),this.highlightedAlertBuffered=new i.Subject,this._marksToMarkAlertArray=function(e){return e.map(function(e){return e.map(function(e){return f._getVisibleMarkAlertByMarkId(e.id)}).filter(function(e){return e.nonEmpty()}).map(function(e){return e.get()}).sort(function(e,t){var n=e.alert,r=t.alert;return c.Lens.comparator({type:n.alertType,priority:n.lensPriority},{type:r.alertType,priority:r.lensPriority})})})},this.alertClicked=p.RxUtils.Scheduler.inRaf(this._ded.activeMarks).map(this._marksToMarkAlertArray).withLatestFrom(this._focusedLens).scan(function(e,t){var n=t[0],r=t[1];return n.flatMap(function(t){var n=e.filter(function(e){return t.some(function(t){return e.alert.id===t.id})}),i=function(e){var t=e.alert;return r.meta.filter(t)};return n.filter(i).orElseL(function(){return o.Option.of(t.find(i))}).orElse(n)}).orElseL(function(){return n.mapN(function(e){return e[0]})}).filter(function(e){var t=void 0!==f._alertList.getAllAlerts()[e.alert.id];return t||f._log.error("Mark Alerts and Alert List not synced",{ma:e}),t})},o.Option.empty()).distinctUntilChanged(),this.alertHovered=p.RxUtils.Scheduler.inRaf(this._ded.hoveredMarks).map(this._marksToMarkAlertArray).scan(function(e,t){return t.mapN(function(t){return e.filter(function(e){return-1!==t.indexOf(e)}).getOrElseL(function(){return t[0]})})},o.Option.empty()).distinctUntilChanged(),this._alertsChangeWorker=new p.Worker(this._updateMarksClasses,new p.Buffer.LazyPredicateUniq(function(e){return e.pending}),this._asyncRunner(this._lockMarkUpdate,i.Observable.timer(50))),this._priorityAlertsChangeWorker=new p.Worker(this._updateMarksClasses,new p.Buffer.LazyPredicateUniq(function(e){return e.pending}),this._asyncRunner(this._lockMarkUpdate,p.RxUtils.Scheduler.inRic(i.Observable.of(void 0),50))),this._getMarkAlert=function(e){var t=e.id;return o.Option.of(f._marksMap.get(t)).filter(function(e){return e.not(u.MarkAlertVisualState.disposed)})},this._filteredAlerts=this._pageVM.filterKit.view(function(e){var t=e.flatMap(function(e){return e.filter}),n=f._alertList.getAllAlertsAsArray().reduce(function(e,n){return t.map(function(e){return e(n)}).getOrElse(!0)&&(e[n.id]=n),e},{});return{filter:t,alerts:n}}),this._updateMarks=function(e){return f._ded.changeMarks(e)},this._invisibleActiveMark=a.Atom.create(o.None),this.isActiveMarkInvisible=function(e){return f._invisibleActiveMark.view(function(t){return t.contains(e)})},this._listenVisibleActiveMark=function(){return i.Observable.combineLatest(f._pageVM.stateHolder.focusedAlert.switchMap(p.RxUtils.Scheduler.rafScheduler).map(p.OptionUtils.flatMap(function(e){return f.getVisibleMarkAlert(e)})).switchMap(p.RxUtils.toOptionValueOnly),f._editorViewport,f._ded.scrollPosition,function(e,t){var n=e.mark,r=e.alert;try{return n.isEmpty()&&f._log.warn("[mark-alert-get-mark] Active alert state mark is None"),n.map(function(e){return{mark:e.viewportRect[0],viewport:t,id:r.id}})}catch(e){return f._log.warn("Unexpected active alert state",e),o.None}}).map(function(e){return e.filter(function(e){var t=e.mark,n=e.viewport;return t.top>n.bottom||t.bottom<n.top}).map(function(e){return e.id})}).subscribe(p.RxUtils.toAtom(f._invisibleActiveMark))},this._subs.push(this._listenMarksState(),this._listenAppliedAlerts(),this._listenHighlightState(),this._listenVisibleActiveMark(),this._listenHighlightedAlertBuffered(),this._listenScrollUpdate()),p.registerDebugHelper("updateRange",function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var i=t.map(function(e){return f._alertList.getAllAlerts()[e]});i.forEach(function(t){t.enqueueRawAlertForUpdate(r.__assign({},t._raw,{highlightBegin:t.highlightRange.start+e,highlightEnd:t.highlightRange.end+e,begin:t.replaceRange.start+e,end:t.replaceRange.end+e})),f._marksMap.get(t.id).scheduleUpdate()}),f._updateMarksClasses(i.map(function(e){return f._marksMap.get(e.id)}))})}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype.focusMark=function(e,t){var n=this;e.canBeChanged()&&(e.scheduleApply(u.MarkAlertVisualState.highlighted),this._priorityApply(e)),t.filter(function(e){return e===d.AlertActionSource.sidebar}).forEach(function(){n._moveCursorToHighlight(e.mark.map(function(e){return e.range}),"start")})},e.prototype.unfocusMark=function(e,t){var n=this;e.filter(function(e){return t.forAll(function(t){return t.id!==e.alert.id})&&!e.isOrWillBe(u.MarkAlertVisualState.hidden)&&e.canBeChanged()}).forEach(function(e){n._priorityApply(e.scheduleApply(u.MarkAlertVisualState.active))})},e.prototype.ensureAlertMarksInViewport=function(e,t,n){var r=this;this.getVisibleMarkAlert(e).forEach(function(e){return e.mark.fold(function(){return r._log.warn("[mark-alert-get-mark] Cannot ensureMarkAlertInViewport, because mark is None")},function(e){return r._ded.scrollToMark(e,{animate:n?u.MarkAlertVisualState.initial:"none",paddingTop:t})})})},e.prototype._listenHighlightedAlertBuffered=function(){return this.highlightedAlertBuffered.debounceTime(100).subscribe(p.RxUtils.toAtom(this.highlightedAlert))},e.prototype.getFirstMark=function(){var e=this;return this._alertList.alertEvents.filter(function(e){return"alert_added"===e.kind}).mapTo(p.RxUtils.voidValue).startWith(p.RxUtils.voidValue).debounceTime(500).first().switchMap(function(t){return Array.from(e._marksMap.values()).reduce(function(e,t){return e.map(function(e){return t.alert.alertType===c.Lens.Type.Critical&&e.alert.highlightRange.start>t.alert.highlightRange.start?t:e}).orElseL(function(){return t.alert.alertType===c.Lens.Type.Critical?o.Some(t):o.None})},o.None).fold(function(){return i.Observable.of(o.None)},function(t){var n=t.alert.id;return e._alertList.alertEvents.filter(function(e){return"alert_removed"===e.kind&&e.alerts.some(function(e){return e.id===n})||"alert_applied"===e.kind&&e.alert.id===n}).first().mapTo(o.None).startWith(t.mark)})})},e.prototype._asyncRunner=function(e,t){return function(n){return e.switchMap(p.RxUtils.orEmptyRight(t)).first().subscribe(n)}},e.prototype._priorityApply=function(e){this._log.trace("schedule priority alert "+e.id+" to "+e.scheduledState),this._priorityAlertsChangeWorker.put([e])},e.prototype._updateMarksClasses=function(e){var t=e.filter(function(e){return e.pending}),n=t[0],r=t.slice(1);n&&n.applyWith(r)},e.prototype._moveCursorToHighlight=function(e,t){var n=this;e.fold(function(){n._log.warn("[mark-alert-get-mark] Cannot move cursor to highlight, because mark.range is None",{to:t})},function(e){n._ded.getCursor(!0).forAll(function(t){var n=t.index;return 0===t.length&&(n<e.start||n>e.end)})&&n._ded.setCursor(e[t],0)})},e.prototype._listenMarksState=function(){var e=this,t=function(t,n){void 0!==t&&p.notEmpty(t)&&(e._log.trace("Schedule alerts "+t.map(function(e){return e.id})+" to "+n),e._alertsChangeWorker.put(t.map(function(e){return e.scheduleApply(n)})))},n=function(e){return r.__assign({activeAlerts:[],removedAlerts:[],hiddenMarkAlerts:[]},e)},o=function(e){return e.is(u.MarkAlertVisualState.initial)||e.isOrWillBe(u.MarkAlertVisualState.hidden)||e.isOrWillBe(u.MarkAlertVisualState.active)||e.isOrWillBe(u.MarkAlertVisualState.faded)},a=function(e){return"alert_added"===e.kind||"alert_removed"===e.kind};return i.Observable.merge(this._filteredAlerts.map(function(t){var r=t.alerts;return n({hiddenMarkAlerts:Array.from(e._marksMap.values()).filter(function(e){return void 0===r[e.alert.id]&&e.not(u.MarkAlertVisualState.applied)}),activeAlerts:p.ObjectUtils.toArray(r)})}),this._alertList.alertEvents.filter(a).withLatestFrom(this._filteredAlerts).map(function(t){var r=t[0],i=t[1].filter;switch(r.kind){case"alert_added":return n({activeAlerts:i.map(function(e){return r.alerts.filter(e)}).getOrElse(r.alerts)});case"alert_removed":var o=r.alerts.filter(function(t){var n=e._marksMap.has(t.id);return n||t.dispose(),n});return n({removedAlerts:o});default:return p.assertNever(r)}})).do(function(n){var r=n.activeAlerts,i=n.removedAlerts,a=n.hiddenMarkAlerts;if(p.notEmpty(i)){var s=i.map(function(t){var n=t.id,r=e._marksMap.get(n);return e._marksMap.delete(n),r});t(s,u.MarkAlertVisualState.disposed)}if(p.notEmpty(r)){var s=r.map(function(t){if(e._marksMap.has(t.id))return e._marksMap.get(t.id);var n=new l.MarkAlertII(t,e._updateMarks,e._useHighHighlights);return e._marksMap.set(t.id,n),n}).filter(o);t(s,u.MarkAlertVisualState.active)}return t(a,u.MarkAlertVisualState.hidden),function(){e._alertsChangeWorker.shutdown()}}).catch(this._log.handler("_listenMarksState exception").error).retry().subscribe()},e.prototype._listenHighlightState=function(){var e=this;return this.highlightedAlert.scan(function(e,t){return{next:t,prev:e.next}},{next:o.Option.empty()}).withLatestFrom(this._pageVM.stateHolder.focusedAlert).map(function(t){var n=t[0],r=n.prev,i=n.next,o=t[1];return{prev:r.flatMap(e._getMarkAlert).filter(function(e){return o.forAll(function(t){return t.id!==e.alert.id})}),next:i.flatMap(e._getMarkAlert)}}).withLatestFrom(this._focusedLens).subscribe(function(t){var n=t[0],r=n.prev;n.next.filter(function(e){return e.canBeChanged()}).forEach(function(t){return e._priorityApply(t.scheduleApply(u.MarkAlertVisualState.highlighted))}),r.filter(function(e){return e.canBeChanged()&&!e.isOrWillBe(u.MarkAlertVisualState.hidden)}).forEach(function(t){return e._priorityApply(t.scheduleApply(u.MarkAlertVisualState.active))})})},e.prototype._listenAppliedAlerts=function(){var e=this,t=function(e){return"alert_applied"===e.kind};return this._alertList.alertEvents.filter(t).map(function(t){var n=t.alert;return o.Option.of(e._marksMap.get(n.id))}).switchMap(p.RxUtils.toOptionValueOnly).do(function(t){e._moveCursorToHighlight(t.mark.map(function(e){return e.range}),"end"),t.apply(u.MarkAlertVisualState.applied)}).catch(this._log.handler("_listenAppliedAlerts exception").error).retry().subscribe()},e.prototype._listenScrollUpdate=function(){var e=this._pageVM.stateHolder.state.view(function(e){return e.currentLens.id});return i.Observable.combineLatest(p.RxUtils.toBooleanWithDebounce(this._ded.scrollPosition,150),p.RxUtils.toBooleanWithDebounce(e,150)).combineLatest(function(e){return e.some(function(e){return!0===e})}).subscribe(p.RxUtils.toAtom(this._lockMarkUpdate))},e}();t.MarksViewModelImpl=m;!function(e){var t=function(){function e(){this.isActiveMarkInvisible=function(){return a.Atom.create(!1)},this.alertHovered=a.Atom.create(o.None),this.alertClicked=a.Atom.create(o.None),this.highlightedAlertBuffered=new i.Subject}return e.prototype.ensureAlertMarksInViewport=function(){throw new Error("Method not implemented.")},e.prototype.getVisibleMarkAlert=function(e){throw new Error("Method not implemented.")},e.prototype.getMarkAlert=function(e){throw new Error("Method not implemented.")},e.prototype.getFirstMark=function(){throw new Error("Method not implemented.")},e.prototype.focusMark=function(e,t){throw new Error("Method not implemented.")},e.prototype.unfocusMark=function(e,t){throw new Error("Method not implemented.")},e.prototype.dispose=function(){throw new Error("Method not implemented.")},e}();e.Mock=t}(t.MarksViewModel||(t.MarksViewModel={}))},1462:function(e,t){e.exports={root:"_aa79d879-denali-editor-page-root",body:"_3b0625a4-denali-editor-page-body",editorContainer:"_b95dd5a7-denali-editor-page-editorContainer _1cd6b501-typography-paper",withPlaceholder:"_9b8b3370-denali-editor-page-withPlaceholder",placeholder:"_795342d3-denali-editor-page-placeholder",spinner:"_6a83d09b-denali-editor-page-spinner",wrapper:"_16010cba-denali-editor-page-wrapper",preload:"_f7a4a0c3-denali-editor-page-preload"}},1463:function(e,t){e.exports={header:"_20bf506a-sidebar-header",lensWrapper:"_68477d1f-sidebar-lensWrapper",contentWrapper:"_4fce944e-sidebar-contentWrapper",lensviewContentWrapper:"_c10530d1-sidebar-lensviewContentWrapper _4fce944e-sidebar-contentWrapper",scrollWrapper:"_c4a1551c-sidebar-scrollWrapper",scroll:"_fa711b63-sidebar-scroll",counter:"_820bbd78-sidebar-counter",lensCounter:"_86327b7f-sidebar-lensCounter",headerBtn:"_d335f4a4-sidebar-headerBtn",importantLabel:"_78b7875f-sidebar-importantLabel",info:"_9774c814-sidebar-info",label:"_c6063ae9-sidebar-label",accuracy:"_02f67184-sidebar-accuracy _c6063ae9-sidebar-label",advanced:"_d8bfbf62-sidebar-advanced _c6063ae9-sidebar-label",labelGray:"_2f329197-sidebar-labelGray _c6063ae9-sidebar-label",rechecking:"_6b058340-sidebar-rechecking",headerWrapper:"_4c838c0b-sidebar-headerWrapper",viewport:"_9a3392c7-sidebar-viewport",leftArrow:"_5a4f410b-sidebar-leftArrow"}},1464:function(e,t){e.exports={wrapper:"_464ea80b-new_toggler-wrapper",counters:"_5782081d-new_toggler-counters",fadeOutCounters:"_75e9045e-new_toggler-fadeOutCounters _5782081d-new_toggler-counters",onboardingSpot:"_2ff210b8-new_toggler-onboardingSpot"}},1465:function(e,t){},1466:function(e,t){},1471:function(e,t,n){n(1466),e.exports=n(1494)},1482:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(105),a=n(515),s=n(1471),c=function(e){return"safari"===e?a.Documents.ACCEPTED_UPLOAD_MIME_TYPES.join(","):a.Documents.ACCEPTED_UPLOAD_EXTENSIONS.join(",")},l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._renderInput=function(e,n){return i.createElement("input",{ref:function(e){return t._inputElement=e},"data-name":"upload-element",type:"file",accept:c(t.context.environment.info.browser),title:t.context.textResources.base.tooltipUploadElementInput,multiple:!1,className:e?s.upload:s.uploadContainer,onChange:function(e){var r="dataTransfer"in e?e.dataTransfer.files:e.target.files,i=t.props.documentUpload.upload(r,n);void 0!==t.props.onUpload&&t.props.onUpload(i)}})},t}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this.props.documentUpload.navigated()},t.prototype.render=function(){var e=this,t=this.props,n=t.hideTooltip,r=t.showNotification;return n?i.createElement("div",{className:s.uploadContainer,onClick:function(){return e._inputElement&&e._inputElement.click()}},this._renderInput(!0,r)):this._renderInput(!1,r)},t}(o.BaseComponent);t.UploadElement=l},1483:function(e,t,n){"use strict";function r(e,t){return void 0===t&&(t=""),a[e+t]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(6),a=n(1415),s=n(8),c=n(513),l=n(1381),u=n(1378),d=n(1448);t.OnboardingNotificationBase=function(e){var t=e.alignment,n=e.onClose,l=e.themes,d=e.triangleCustomStyle,p=e.customStyle,m=e.children,f=e.hideCloseButton;return s.createElement(o.F.div,i.__assign({},o.classes(r(t),a.stepWrapper,l&&l.className),{style:p}),s.createElement(o.F.span,i.__assign({},o.classes(r(t,"Triangle"),a.triangle,l&&l.triangleClassName),{style:d})),s.createElement(c.Icon.Grammarly,{className:a.alertIcon}),m,!f&&s.createElement(u.Button,{name:"onboard-close",className:a.closeIconWrapper,onClick:function(){return n&&n()}},s.createElement(c.Icon.Close,{className:a.closeIcon,width:12})))},t.OnboardingNotification=function(e){var n=e.title,r=e.description,o=i.__rest(e,["title","description"]);return s.createElement(t.OnboardingNotificationBase,i.__assign({},o),s.createElement("span",{className:a.content},s.createElement(l.P1,{className:a.header},n),s.createElement(l.P2,{className:a.description},r)))},t.DiscoverabilityOnExit=function(e){var n=e.onExitClick,r=e.onReviewClick,i=e.unreviewedAlertsCount,c=e.themes,p=void 0===c?{className:a.discoverabilityOnExit,triangleClassName:a.discoverabilityOnExitTriangle}:c,m=o.Atom.create(!1);return s.createElement(t.OnboardingNotificationBase,{hideCloseButton:!0,alignment:"bottomFlexible",themes:p},s.createElement("span",{className:a.dicsoverabiltyContent},s.createElement(l.P2,{className:a.description},"This document has ",i," unviewed"," ",i.view(function(e){return e>1?"alerts":"alert"}),"."),s.createElement("div",{className:a.buttonsList},s.createElement(u.Button,{name:"onboard-exit",className:a.button,onClick:function(){return n(!m.get())}},"Exit anyway"),s.createElement(u.Button,{name:"onboard-review",className:a.button,onClick:function(){return r(!m.get())}},"Review now")),s.createElement(d.Checkbox,{checked:m,className:a.checkbox,name:"on-exit"},s.createElement(l.P2,{className:a.checkboxText},"Don’t warn me again"))))}},1484:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(513),a=n(1462),s=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(n,e),n.prototype.render=function(){return i.createElement(t.PreloadWrapper,null,i.createElement(o.DefaultSVGLinearGradient,null))},n}(i.Component);t.PreloadComponent=s,t.PreloadWrapper=function(e){var t=e.children;return i.createElement("div",{className:a.preload},t)}},1485:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(16),o=n(7),a=n(6),s=n(268),c=n(2);!function(e){!function(e){e.initial="initial",e.hovered="hovered",e.unhovered="unhovered",e.disabled="disabled"}(e.Type||(e.Type={}))}(r=t.HoveredAlert||(t.HoveredAlert={}));var l=300,u=function(){function e(e,t,n,u){var d=this;this._marksVM=e,this._closeEvent=t,this._alertsList=n,this._synonymsViewModel=u,this._hoveredAlertState=a.Atom.create({type:r.Type.initial}),this._subs=[],this._alertHovered=a.Atom.create(o.None),this._delayedAlert=function(e){return c.RxUtils.delay(e,l)},this._toMarkAndAlert=function(e){return e.filter(function(e){return void 0!==d._alertsList.getAllAlerts()[e.alert.id]}).flatMap(function(e){return c.invariant(!s.Alert.isPlagiarism(e.alert),"Can't hover plagiarism alert"),e.mark.map(function(t){return{mark:t,alert:e.alert}})})},this.state=this._hoveredAlertState.switchMap(function(e){switch(e.type){case r.Type.initial:return d._alertHovered.switchMap(function(e){return e.fold(function(){return i.Observable.of(o.None)},function(e){return d._delayedAlert(o.Some(e))})});case r.Type.hovered:return d._alertsList.alertEvents.filter(function(t){return"alert_removed"===t.kind&&t.alerts.some(function(t){return t.id===e.ma.alert.id})}).mapTo(o.None);case r.Type.unhovered:return d._alertHovered.switchMap(function(t){return t.fold(function(){return d._delayedAlert(o.Option.empty())},function(t){return t.alert.id===e.ma.alert.id?i.Observable.empty():i.Observable.of(o.None)})}).first().do(function(){requestAnimationFrame(function(){d._hoveredAlertState.set({type:r.Type.initial})})});case r.Type.disabled:return i.Observable.of(o.Option.empty());default:return c.assertNever(e)}}).distinctUntilChanged().map(this._toMarkAndAlert).do(function(e){return e.forEach(function(){return d._synonymsViewModel.close()})}).share(),this._subs.push(this._marksVM.alertHovered.subscribe(c.RxUtils.toAtom(this._alertHovered)),i.Observable.combineLatest(this._alertHovered,this._hoveredAlertState).subscribe(function(e){var t=e[0],n=e[1];t.fold(function(){switch(n.type){case r.Type.hovered:case r.Type.unhovered:break;case r.Type.initial:case r.Type.disabled:d._marksVM.highlightedAlert.set(o.None);break;default:c.assertNever(n)}},function(e){return d._marksVM.highlightedAlert.set("disabled"===n.type?o.None:o.Some(e.alert))})}),this._closeEvent.subscribe(function(){d._hoveredAlertState.modify(function(e){return e.type!==r.Type.disabled?{type:r.Type.initial,startWith:o.None}:e})}),this._synonymsViewModel.popupShown.skip(1).subscribe(function(e){return e?d._hoveredAlertState.set({type:r.Type.disabled}):d._hoveredAlertState.set({type:r.Type.initial})}))}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype.setAlertHoveredState=function(e){this._hoveredAlertState.set(e)},e}();t.InlineCardViewModelImpl=u;!function(e){e.DATA_NAME="inline-card",e.isInlineCard=function(t){return!!t&&t.getAttribute("data-name")===e.DATA_NAME}}(t.InlineCardVM||(t.InlineCardVM={}))},1486:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(6),s=n(18),c=n(2),l=n(268),u=n(178),d=n(1421),p=n(517),m=n(105),f=n(513),h=n(1378),g=n(1401),_=n(1406),v=n(91),b=n(1506),y=n(1428),w=n(1535),E=["b","i","br"],M=function(e){return v.ReactUtils.setInnerHTML(e,{allowedTags:E})},C=function(e){return function(){return e(),new Promise(c.noop)}};t.Full=m.withContext(function(e,t){var n=e.card,c=e.lensId,m=e.cardsViewModel,g=e.marksViewModel,v=e.alignmentViewModel,E=m.getState(n).view(function(e){var t=e.transition,n=e.from;return"expanded"===t.type||n.exists(function(e){return"expanded"===e&&"rendered"===t.type})}),A=E.view(function(e){return e?t.textResources.denali.card.less:t.textResources.denali.card.more}),L=n.activeAlert;return i.createElement(a.F.div,{className:w.wrapper},c===u.Lens.SpecialId.AllAlerts&&i.createElement("div",{className:w.lens},n.activeAlert.lensId),i.createElement(a.F.div,{className:w.main},L.replacementsLabels.map(function(e){return i.createElement(_.Onboarding,{key:"onboarding",alignment:"bottomFlexible",eventType:"onclick",stepId:p.OnboardingStep.Id.Step4,title:"Accept a correction",message:"Click on a suggestion to apply it to your text.",findFirstButton:{dotPosition:"rightTop"},themes:{notificationClassName:w.onboardingNotification}},i.createElement(y.ReplacementsLabelsComponent,{key:"replacementsLabels",replacementsLabels:e,onClick:function(e){return C(function(){return L.apply(e,l.AlertActionSource.sidebar)})}}))}).getOrElseL(function(){return i.createElement(S,{text:L.title})}),i.createElement("div",r.__assign({className:w.description},M(L.explanation))),i.createElement(k,{alert:n.activeAlert})),i.createElement(h.Button,{key:"align-button",name:"align",onClick:function(){return v.alignMarkToCard(n,d.AlignmentAnimation.ANIMATE_ALL)},className:g.isActiveMarkInvisible(L.id).debounce(function(e){return e?o.Observable.timer(350):o.Observable.empty()}).map(function(e){return e?w.alignButtonVisible:w.alignButtonHidden}).startWith(w.alignButtonHidden)},"Show in text"),!L.extraProperties.hasAddToDictionary&&(L.examples.nonEmpty()||L.details.nonEmpty())&&[i.createElement(h.Button.Round,{name:A,title:A,className:w.expandBtn,onClick:C(function(){m.startTransitionTo(n,{type:E.get()?"focused":"expanded",clockwise:!0}),E.get()&&L.sendFeedback(s.CAPI.FeedbackType.EXPANDED,l.AlertActionSource.sidebar)}),key:"toggle-more"},E.view(function(e){return e?i.createElement(f.Icon.More,{key:"more",className:w.lessIcon}):i.createElement(f.Icon.Expand,{key:"expand"})})),i.createElement(a.F.div,{className:E.view(function(e){return e?w.more:w.moreHidden}),key:"block-more"},L.details.map(function(e){return i.createElement("div",r.__assign({key:"details",className:w.description},M(e)))}).orNull(),L.examples.map(function(e){return i.createElement(b.Examples,{key:"examples",examples:e})}).orNull())],L.replacementsLabels.isEmpty()&&i.createElement(x,{alert:L}))});var S=function(e){var t=e.text;return i.createElement("div",r.__assign({className:w.title},M(t)))},k=m.withContext(function(e,t){var n=e.alert;return i.createElement(a.F.div,{className:w.buttons},i.createElement(h.Button.Round,{name:"ignore",title:t.textResources.denali.card.dismiss,onClick:C(function(){return n.sendFeedback(s.CAPI.FeedbackType.IGNORE,l.AlertActionSource.sidebar)})},i.createElement(f.Icon.Ignore,null)),n.replacementsLabels.nonEmpty()&&i.createElement(g.Dropdown,{label:i.createElement(h.Button.Round,{name:"report"},i.createElement(f.Icon.Report,null)),align:"right",key:"report",theme:w,name:"report"},i.createElement(h.Button.Flat,{name:"report-incorrect",onClick:C(function(){return n.sendFeedback(s.CAPI.FeedbackType.WRONG_SUGGESTION,l.AlertActionSource.sidebar)})},t.textResources.denali.card.wrong),i.createElement(h.Button.Flat,{name:"report-offensive",onClick:C(function(){return n.sendFeedback(s.CAPI.FeedbackType.OFFENSIVE_CONTENT,l.AlertActionSource.sidebar)})},t.textResources.denali.card.offensive)),n.extraProperties.hasAddToDictionary&&i.createElement(h.Button.Round,{name:"add-to-dict",title:t.textResources.denali.card.addToDict,className:w.dictBtn,onClick:C(function(){return n.sendFeedback(s.CAPI.FeedbackType.ADD_TO_DICTIONARY,l.AlertActionSource.sidebar)})},i.createElement(f.Icon.Dict,null)))}),x=m.withContext(function(e,t){var n=e.alert;return i.createElement("div",{className:w.feedback},i.createElement(h.Button.Caps,{name:"like",className:w.feedbackButton,key:"feedback-yes",onClick:function(){n.sendFeedback(s.CAPI.FeedbackType.LIKE,l.AlertActionSource.sidebar)}},t.textResources.denali.card.like,i.createElement(f.Icon.Yes,{className:w.feedbackIcon})),i.createElement(h.Button.Caps,{name:"unlike",className:w.feedbackButton,key:"feedback-no",onClick:function(){n.sendFeedback(s.CAPI.FeedbackType.DISLIKE,l.AlertActionSource.sidebar)}},t.textResources.denali.card.dislike,i.createElement(f.Icon.Close,{className:w.feedbackIcon})))})},1487:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(1381),s=n(1754);t.SidebarHeader=function(e){var t=e.title,n=e.theme,c=void 0===n?{}:n,l=e.children;return i.createElement(o.F.div,{className:c.wrapper},i.createElement(o.F.header,r.__assign({},o.classes(s.header,c.header)),i.createElement(a.H1,{className:c.title},t),l))}},1488:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(105);t.subscriptionRoutes={summary:r.Router.page({path:"/subscription",exact:!0}),manage:r.Router.page({path:"/subscription/manage"}),billing:r.Router.page({path:"/subscription/billing"}),notFound:r.Router.page({path:"*"})}},1492:function(e,t,n){t=e.exports=n(1391)(),t.push([e.i,"._14edec33-sections-section{border-top:1px solid #e4e6f2;page-break-inside:avoid}._423c293e-sections-sectionHeader{margin-top:40.8px;color:#2b2d38;letter-spacing:0;font-weight:700;font-size:30.6px;line-height:54.4px}._857168c9-sections-genericTable{width:100%;table-layout:fixed;text-align:left}._264a0c93-sections-text{color:#8189a9;letter-spacing:.187px;font-size:22.1px;line-height:34px}",""]),t.locals={section:"_14edec33-sections-section",sectionHeader:"_423c293e-sections-sectionHeader",genericTable:"_857168c9-sections-genericTable",text:"_264a0c93-sections-text"}},1493:function(e,t){e.exports={clearfix:"_c52c18-clearfix",notification:"_c52c18-notification",show:"_c52c18-show",hide:"_c52c18-hide",content:"_c52c18-content",link:"_c52c18-link",close:"_c52c18-close",header:"_c52c18-header",notificationComponent:"_c52c18-notificationComponent"}},1494:function(e,t){e.exports={uploadContainer:"_da9eb0-uploadContainer",upload:"_da9eb0-upload"}},1497:function(e,t){e.exports={notificationWrapper:"_c456df82-notification-notificationWrapper",topNotification:"_b3e5371c-notification-topNotification",overContent:"_0e756bc4-notification-overContent",bottomNotification:"_a38bac11-notification-bottomNotification",notification:"_c4fc0bd9-notification-notification",fixedNotification:"_fd33176c-notification-fixedNotification",flexibleNotification:"_2ab8ba06-notification-flexibleNotification",contentWrapper:"_15edd01d-notification-contentWrapper",miniContentWrapper:"_8b826d2f-notification-miniContentWrapper",content:"_b9ba39c4-notification-content",miniContent:"_86fec6cb-notification-miniContent",link:"_6eb0ba2d-notification-link",header:"_4bfe2f39-notification-header _e635cd19-typography-p1",alertIcon:"_cabfea3f-notification-alertIcon",alertIconMini:"_ccbac4db-notification-alertIconMini",alertUndoBtn:"_ce1f259c-notification-alertUndoBtn",alertUndoIcon:"_47ea2b65-notification-alertUndoIcon",alertUndoContent:"_20a974cf-notification-alertUndoContent",alertUndoWrapper:"_bfe4d5a0-notification-alertUndoWrapper",closeIconWrapper:"_0038d2a2-notification-closeIconWrapper",closeIconWrapperMini:"_645a53fa-notification-closeIconWrapperMini",closeIcon:"_b2dcace0-notification-closeIcon",replaceDeleted:"_dcd41bb3-notification-replaceDeleted",replaceMargin:"_66775c65-notification-replaceMargin",description:"_4e648da0-notification-description",overlayContentBase:"_f5047578-notification-overlayContentBase",overlayContent:"_fc35ae3d-notification-overlayContent _f5047578-notification-overlayContentBase",overlayContentFaded:"_b7e1efe3-notification-overlayContentFaded _f5047578-notification-overlayContentBase"}},1498:function(e,t){e.exports={header1:"_f0b953d7-typography-header1",header2:"_d8f62229-typography-header2",header3:"_44f85ed9-typography-header3",paper:"_1cd6b501-typography-paper",p1:"_e635cd19-typography-p1",p2:"_8d8a7136-typography-p2",small:"_fb866abb-typography-small"}},1499:function(e,t,n){var r=n(1897);"string"==typeof r&&(r=[[e.i,r,""]]);n(1394)(r,{});r.locals&&(e.exports=r.locals)},1500:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(7),s=n(6),c=n(18),l=n(2),u=n(91),d=n(105),p=n(268),m=n(1485),f=n(1428),h=n(513),g=n(1378),_=n(1530),v=function(e){var t=e.title,n=e.className;return i.createElement("div",r.__assign({className:n},u.ReactUtils.setInnerHTML(t.toLowerCase(),{allowedTags:["i","b"]})))},b=function(e){var t=e.title,n=e.explanation;return i.createElement("div",null,i.createElement(v,{className:_.bigTitle,title:t}),i.createElement("div",r.__assign({className:_.explanation},u.ReactUtils.setInnerHTML(n,{allowedTags:["i","b"]}))))};t.CardCommon=function(e){var t=e.alert,n=e.onApply,r=e.onAddToDictionary,o=e.onIgnore,a=e.openAlert,s=function(e){return/Unknown/.test(e.patternName)},c=function(e,t){return/Unknown/.test(e.patternName)?"Unknown word":/Misspelled\/General/.test(e.patternName)?"":e.extraProperties.didYouMean||e.extraProperties.showTitle?"Check word usage":t};return i.createElement("div",{className:_.card},t.replacementsLabels.isEmpty()?!s(t)&&i.createElement(b,{title:t.title,explanation:t.explanation}):t.replacementsLabels.map(function(e){return i.createElement(f.InlineReplacementsLabelsComponent,{key:"replacementsLabels",replacementsLabels:e,onClick:n,header:c(t,e.tooltipText.replace("Click to","")),customStyle:_})}).orNull(),t.extraProperties.hasAddToDictionary&&i.createElement(g.Button.Flat,{name:"add-to-dictionary",className:s(t)?_.footerButtonBig:_.footerButtonShort,onClick:r},s(t)&&i.createElement(v,{className:_.unknownWordTitle,title:t.title}),i.createElement(h.Icon.Dict,{className:_.addToDictIcon})," Add to dictionary"),i.createElement(g.Button.Flat,{name:"dismiss",className:_.footerButtonShort,onClick:function(){return o()}},i.createElement(h.Icon.Ignore,{className:_.dismissIcon})," Dismiss"),i.createElement(g.Button.Flat,{name:"see_more",className:_.footerButtonShort,onClick:a},i.createElement(h.Icon.Expand,null)," See more"))};var y=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={isMaxWidth:!1},t}return r.__extends(n,e),n.prototype.componentDidMount=function(){this.el&&this.el.firstElementChild&&this.el.firstElementChild.clientWidth>=288&&this.setState({isMaxWidth:!0})},n.prototype.render=function(){var e=this,n=this.props,o=n.alert,a=n.onApply,c=n.onIgnore,l=n.onAddToDictionary,u=n.openAlert;return i.createElement("div",r.__assign({onClick:function(e){return e.stopPropagation()},key:o.id,ref:function(t){return e.el=t}},s.classes(this.state.isMaxWidth&&_.maxWidthReached)),i.createElement(t.CardCommon,{alert:o,onApply:a,onIgnore:c,onAddToDictionary:l,openAlert:u}))},n}(i.Component);t.Card=y;var w=8,E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._state=s.Atom.create({visibility:"visible",position:{top:0,left:0},direction:"down"}),t._updatePosition=function(e){var n=t.props.getPosition(),i=n.abs,o=n.relative,a=t._el.offsetHeight,s=i.height+i.top+a,c=s>e.height+e.top&&o.height<e.height?"up":"down";t._state.modify(function(e){return r.__assign({},e,{direction:c,position:{top:"up"===c?o.top-a-w:o.top+o.height,left:o.left}})})},t._getClass=function(e,n){return l.DOM.classes(t._getMainClass(e),"up"===n&&_.directionUp)},t._withOnClose=function(e){return function(){e(),t.props.onClose()}},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this.props,t=e.viewport;(0,e.onMount)(),this._subs.push(o.Observable.combineLatest(t,this._state.filter(function(e){return"visible"===e.visibility}),function(e){return e}).subscribe(this._updatePosition))},t.prototype.componentWillReceiveProps=function(e){var t=this;if(this.props.mode!==e.mode)switch(e.mode){case"removed":this._state.modify(function(e){return r.__assign({},e,{visibility:"invisible"})});break;case"added":requestAnimationFrame(function(){return t._state.modify(function(e){return r.__assign({},e,{visibility:"visible"})})}),e.onMount();break;default:l.assertNever(e.mode)}},t.prototype.componentWillUnmount=function(){this._resetSubs()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype._resetSubs=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype._getMainClass=function(e){switch(e){case"invisible":return _.invisible;case"visible":return _.visible;default:return l.assertNever(e)}},t.prototype.render=function(){var e=this,t=this.props,n=t.alert,o=t.onMouseLeave,a=t.onMouseEnter,l=t.openAlert;return i.createElement(s.F.div,r.__assign({key:n.id,tabIndex:-1,"data-name":m.InlineCardVM.DATA_NAME,mount:function(t){return e._el=t},style:this._state.view("position")},s.classes(_.container,this._state.view(function(t){var n=t.visibility,r=t.direction;return e._getClass(n,r)})),{onMouseEnter:a,onMouseLeave:o}),i.createElement(y,{alert:n,onAddToDictionary:this._withOnClose(function(){n.sendFeedback(c.CAPI.FeedbackType.ADD_TO_DICTIONARY,p.AlertActionSource.text)}),onApply:function(t){return e._withOnClose(function(){return n.apply(t,p.AlertActionSource.text)})},onIgnore:this._withOnClose(function(){return n.sendFeedback(c.CAPI.FeedbackType.IGNORE,p.AlertActionSource.text)}),openAlert:this._withOnClose(function(){return l()})}))},t}(i.Component);t.InlineCard=E;var M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this.props.inlineCardVM.dispose()},t.prototype._toMarkAlert=function(e){var t=e.alert,n=e.mark;return{alert:t,mark:a.Some(n)}},t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.inlineCardVM,o=t.openAlert,c=t.viewport,u=t.onboardingViewModel;return i.createElement(s.F.div,{className:n},r.state.startWith(a.None).pairwise().map(function(t){var n=t[0],a=t[1];return[n.map(function(e){var t=e.alert;return i.createElement(E,{key:t.id,alert:t,viewport:c,onMouseEnter:l.noop,onMouseLeave:l.noop,onClose:l.noop,onMount:l.noop,getPosition:function(){return{abs:l.DOM.Rect.empty,relative:l.DOM.Rect.empty}},openAlert:l.noop,mode:"removed"})}).orNull(),a.map(function(t){return i.createElement(E,{key:t.alert.id,alert:t.alert,getPosition:function(){return{abs:t.mark.viewportRect[0],relative:t.mark.firstClientRect}},viewport:c,onMouseEnter:function(){r.setAlertHoveredState({type:m.HoveredAlert.Type.hovered,ma:e._toMarkAlert(t)})},onMouseLeave:function(){r.setAlertHoveredState({type:m.HoveredAlert.Type.unhovered,ma:e._toMarkAlert(t)})},onClose:function(){r.setAlertHoveredState({type:m.HoveredAlert.Type.disabled})},onMount:function(){r.setAlertHoveredState({type:m.HoveredAlert.Type.unhovered,ma:e._toMarkAlert(t)}),u.step2Taken(),e.context.gnarSpec.alertUnderlineHover(e.context.pageId,"assistantOff",e.context.pageSessionId)},openAlert:function(){return o(t.alert)},mode:"added"})}).orNull()]}).startWith(null))},t}(d.BaseComponent);t.InlineCardView=M},1501:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(1743),a=2*Math.PI*32,s=function(e,t,n){return e<t?t:e>n?n:e},c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e,n=this.props,c=n.percentage,l=n.aimValue,u=void 0===l?100:l,d=n.color,p=n.description,m=n.theme,f=void 0===m?o:m,h=[i.createElement("circle",{key:"circle",id:"circle",cx:36,cy:36,r:32,fill:"none"})],g=s(c,0,100),_=s(u,g,100);return"string"==typeof d?e=d:(this._gradientId=this._gradientId||"pb-gradient-"+t._nextGradientId++,h.push(i.createElement("linearGradient",r.__assign({id:this._gradientId,key:this._gradientId,gradientTransform:"rotate(90 36 36)",gradientUnits:"userSpaceOnUse"},d.coordinates),i.createElement("stop",{stopColor:d.start,offset:"0%"}),i.createElement("stop",{stopColor:d.end,offset:"100%"}))),e="url(#"+this._gradientId+")"),i.createElement("svg",{className:f.radialProgressBar,viewBox:"0 0 72 72"},i.createElement("defs",null,h),i.createElement("use",{className:f.circle,stroke:g>=94?"#fff":"#f1f2fa",strokeWidth:"5",strokeDasharray:a,strokeDashoffset:a*(100-_)/100,strokeLinecap:"round",xlinkHref:"#circle",transform:"rotate(-90 36 36)"}),i.createElement("g",{className:f.valueCircle,strokeDasharray:a,strokeDashoffset:a*(100-g)/100,strokeLinecap:"round",transform:"rotate(-90 36 36)"},i.createElement("use",{stroke:"#fff",strokeWidth:"10",xlinkHref:"#circle"}),i.createElement("use",{stroke:e,fill:e,strokeWidth:"5",xlinkHref:"#circle"})),i.createElement("text",{className:f.progress,y:"60%",x:"50%",textAnchor:"middle"},g),p&&i.createElement("text",{className:f.description,y:"80%",x:"50%",textAnchor:"middle"},p))},t._nextGradientId=0,t}(i.Component);t.RadialProgressBar=c},1502:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(6),s=n(1402),c=n(2),l=n(1744),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this.props,t=e.onMount,n=e.children;return i.createElement("div",r.__assign({key:"regularCard"},a.classes(l.card,l.fakeCard),{style:{transform:"translate3d(0px, 0px, 0px)"},ref:t}),n)},t}(i.Component),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._setEl=function(e){t._el=e},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._sub=this.props.active.switchMap(function(t){return t?e.props.card.view(function(e){return e.activeAlert.id}):o.Observable.empty()}).subscribe(function(t){e.props.onMount(e._el,{type:"active",id:t})})},t.prototype.componentWillUnmount=function(){this._sub&&this._sub.unsubscribe()},t.prototype.render=function(){var e=this.props,t=e.cardId,n=e.card,o=e.children,s=e.active,c=n.view("position"),u=c.view("absTop");return i.createElement(a.F.div,r.__assign({key:t,"data-id":t,"data-top":u},a.classes(l.card,c.view(function(e){return e.animate&&l.cardAnimate}),c.view(function(e){return!e.visible&&l.cardHidden})),{style:{transform:u.view(function(e){return"translate3d(0px, "+e+"px, 0px)"}),zIndex:s.view(function(e){return e?1:0})},mount:this._setEl}),o)},t}(i.Component),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onBaseComponentMount=function(e,n){"active"===n.type?t.props.setActive(e,n.id):t.props.setRegular(e)},t._scrolling=a.Atom.create(!1),t._onScroll=new o.Subject,t}return r.__extends(t,e),t.prototype.componentDidMount=function(){o.Observable.merge(this._onScroll.debounceTime(100).mapTo(!1),this._onScroll.mapTo(!0)).subscribe(c.RxUtils.toAtom(this._scrolling))},t.prototype.render=function(){var e=this,t=this.props,n=t.renderFake,c=t.className,p=t.lensedVM,m=t.children,f=t.onMount,h=t.onTitleMount,g=p.viewState.view("cardsMap");return i.createElement(s.ScrollBarY,r.__assign({name:"cards"},a.classes(c,l.scroller),{update:o.Observable.merge(p.totalHeight,p.scrollUpdated),allowHover:!0,onMount:f,onScroll:this._onScroll}),i.createElement(a.F.div,r.__assign({},a.classes(this._scrolling.view(function(e){return e&&l.scrolling}),l.scrollContent),{style:p.totalHeight.map(function(e){return{height:e+"px"}})}),i.createElement(u,{onMount:function(t){return t&&e._onBaseComponentMount(t,{type:"regular"})}},n()),i.createElement("div",{ref:h,className:l.basicCard},m),a.reactiveList(g.view(function(e){return Array.from(e.keys())}),function(t){var n=g.view(function(e){return e.get(t)});return i.createElement(d,{key:t,cardId:t,card:n,active:p.viewState.view("active").view(function(e){return e.exists(function(e){return t===e.cardId})}),onMount:e._onBaseComponentMount},n.view(function(t){return e.props.renderCard(t)}))})))},t}(i.Component);t.Scroller=p},1503:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),o=n(7),a=n(16),s=n(2),c=n(516),l=n(64),u=n(1747),d=n(4);!function(e){function t(t){return t&&t.name===e.SEARCH_INPUT_NAME}function n(e,t){return(e.metaKey||e.ctrlKey)&&e.which===t&&!(e.shiftKey||e.altKey)}function a(e,t){return(e.metaKey||e.ctrlKey)&&e.shiftKey&&e.which===t&&!e.altKey}e.KEY_F=70,e.KEY_G=71,e.KEY_Esc=27,e.KEY_Enter=13,e.SEARCH_INPUT_NAME="search-input",e.isSearchInput=t,e.isCmdKeyPressed=n,e.isCmdShiftKeyPressed=a;var c=function(){function e(e){this.visible=i.Atom.create(!1),this.term=i.Atom.create(""),this.dispose=s.noop,this.result=i.Atom.create(o.Option.of(e).map(function(e){return r.__assign({},e,{next:s.noop,prev:s.noop})}))}return e.prototype.select=function(){throw new Error("Method not implemented.")},e}();e.Mock=c}(t.SearchViewModel||(t.SearchViewModel={}));var p=function(){function e(e,t,n){this._ops=e,this._term=t,this.count=n.ranges.length,this.current=n.selected.getOrElse(0)+1,this._ops._highlightSelectedRange()}return e.prototype.next=function(){var e=this;this._ops._forceSearch(),this._ops._selectedPos.modify(function(t){return t.map(function(e){return e+1}).map(function(t){return t>e.count-1?0:t}).orElse(o.Some(0))}),this._ops._highlightSelectedRange(1===this.count)},e.prototype.prev=function(){var e=this;this._ops._forceSearch(),this._ops._selectedPos.modify(function(t){return t.map(function(e){return e-1}).map(function(t){return t<0?e.count-1:t}).orElse(o.Some(e.count-1))}),this._ops._highlightSelectedRange()},e.prototype.equals=function(e){return void 0!==e&&null!==e&&this.count===e.count&&this.current===e.current&&this._term===e._term},e.prototype.hashCode=function(){return o.hashCodeOfString(this._term)+this.count+(this.current<<4)},e}(),m=function(){function e(t,n,r){var c=this;this._ded=t,this._rangeManager=n,this._editorViewport=r,this._log=d.Monitoring.Logging.getLogger("SearchViewModel"),this._subs=[],this._forceSearchSubject=new a.Subject,this._rangesState=i.Atom.create({ranges:[],selected:o.Option.empty()}),this._selectedRange=this._rangesState.view(function(e){return e.selected.map(function(t){return e.ranges[t]})}),this._activeMark=i.Atom.create(o.Option.empty()),this.visible=i.Atom.create(!1),this.term=i.Atom.create(""),this.result=i.Atom.create(o.Option.empty()),this.select=function(){c._forceSearch(),c._rangesState.modify(function(e){var t=e.ranges,n=e.selected;return{ranges:t,selected:n.orElse(o.Some(0)).filter(function(){return s.notEmpty(t)})}}),c._highlightSelectedRange()},this.dispose=function(){c.term.set(""),c._subs.forEach(function(e){return e.unsubscribe()}),c._subs=[]},this._selectedPos=this._rangesState.lens("selected"),this._forceSearch=function(){return c._forceSearchSubject.next()},this._highlightSelectedRange=function(e){void 0===e&&(e=!1);var t=c._selectedRange.get();e&&s.isOptionsEq(c._activeMark.get(),t,function(e,t){return e.rangeId===t.rangeId})&&c._ensureMarkInViewport(c._currentMark),c._activeMark.set(t)},this._removeRanges=function(e){c._activeMark.get().filter(function(t){return e.has(t.rangeId)}).forEach(function(){return c._activeMark.set(o.None)}),c._rangesState.modify(function(t){var n=t.ranges.filter(function(t){var n=t.rangeId;return!e.has(n)||(c._rangeManager.deregisterRange(n),!1)});return{ranges:n,selected:t.selected.filter(function(e){return e<n.length})}})},this._findRanges=function(e){return s.notEmpty(e)?c._searchTerm(c._ded.getText().toLowerCase(),e.toLowerCase()):[]},this._changeActiveMark=function(e){var t=e.prev,n=e.next;c._currentMark=null,t.forEach(function(e){c._ded.changeMarks([l.Mark.getRemoveAction({id:e.rangeId,range:function(){return e}})])}),n.forEach(function(e){c._currentMark=c._ded.changeMarks([l.Mark.getCreateAction({id:e.rangeId,range:function(){return e},order:0,classes:[u.mark]})])[0],c._ensureMarkInViewport(c._currentMark)})},this._subs.push(a.Observable.merge(this.term.filter(function(e){return e.length>3}).debounceTime(300),this.term.filter(function(e){return e.length<=3}).mapTo(""),this._forceSearchSubject.withLatestFrom(this.term,function(e,t){return t})).distinctUntilChanged().map(this._findRanges).subscribe(function(e){c._activeMark.set(o.None),c._replaceRanges(e)}),this._rangesState.map(function(e){return o.Some(e).filter(function(e){return s.notEmpty(e.ranges)}).map(function(e){return new p(c,c.term.get(),e)})}).subscribe(function(e){return c.result.set(e)}),this._rangesState.switchMap(function(e){var t=e.ranges;return s.notEmpty(t)?c._rangeManager.rangeChanged:a.Observable.empty()}).map(function(t){return t.filter(function(t){return t.type===e.SearchRange})}).map(function(e){return new Set(e.map(function(e){return e.rangeId}))}).subscribe(this._removeRanges),this._activeMark.scan(function(e,t){return{prev:e.next,next:t}},{prev:o.Option.empty(),next:o.Option.empty()}).subscribe(this._changeActiveMark)),this._subs.push(this._ded.dontFreezeWhen(this.visible,"search"),this.visible.skip(1).filter(function(e){return!e}).subscribe(function(){c.term.set("")})),s.registerDebugHelper("searchVM",this)}return e.prototype._searchTerm=function(t,n){for(var r=-1,i=[];;){if(!((r=t.indexOf(n,r+1))>-1))break;i.push(new c.Range(r,r+n.length,e.SearchRange))}return i},e.prototype._replaceRanges=function(t){var n=this;this._rangesState.modify(function(r){return r.ranges.forEach(function(e){return n._rangeManager.deregisterRange(e.rangeId)}),{ranges:t.map(function(t){return n._rangeManager.registerRange("search_"+n.term.get().replace(/\s*/g,"_")+"_"+e.searchMarkCount++,t)}),selected:t.length>0?o.Some(0):o.None}})},e.prototype._ensureMarkInViewport=function(e){if(e)try{var t=this._editorViewport.get(),n=t.top,r=t.bottom,i=e.viewportRect[0].top;(i<n+50||i>r-50)&&this._ded.scrollToMark(e,{paddingTop:500,animate:"fast"})}catch(e){this._log.error("Cannot scroll to mark",e)}},e.SearchRange="searchRange",e.searchMarkCount=0,e}();t.SearchViewModelImpl=m},1504:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(16),o=n(6),a=n(18),s=n(178),c=n(514),l=n(2),u=function(){function e(e,t,n){var c=this;this._stateHolder=e,this._denaliEditorModel=t,this._documentModel=n,this._getTextAmount=function(){var e=c._denaliEditorModel.getText().trim().length;return 0===e?d.TextAmount.zero:e<=a.CAPI.BIG_TEXT_SIZE?d.TextAmount.small:d.TextAmount.large},this._subs=[],this.successState=o.Atom.create(d.SuccessType.zero),this.textAmount=o.Atom.create(this._getTextAmount()),this._currentLens=this._stateHolder.state.view("currentLens").view(function(e){return{id:e.id,type:e.type}}),this._listenTextSize=function(){return c._currentLens.map(function(e){return e.id===s.Lens.SpecialId.Success}).switchMap(function(e){return e?c._denaliEditorModel.contentUpdated.startWith(void 0):i.Observable.empty()}).map(function(){return c._getTextAmount()}).subscribe(l.RxUtils.toAtom(c.textAmount))},this._prevLensType=this._currentLens.startWith(this._currentLens.get()).pairwise().map(function(e){var t=e[0];return e[1].id===s.Lens.SpecialId.Success?r.Some(t.type):r.None}),this._textAmountToSuccessType=function(e){return e===d.TextAmount.zero?d.SuccessType.zero:e===d.TextAmount.large?d.SuccessType.large:d.SuccessType.small},this._subs.push(this._listenTextSize(),this._listenSuccessStateChange())}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._listenSuccessStateChange=function(){var e=this,t=function(t){return t===d.SuccessType.applied||t===d.SuccessType.zero?i.Observable.of(t):e._documentModel.checkingState.filter(function(e){return"checking"!==e}).first().mapTo(t)};return this._prevLensType.switchMap(function(n){return n.fold(function(){return i.Observable.empty()},function(n){return e.textAmount.map(e._textAmountToSuccessType).startWith(n===c.LensViewType.lensview?d.SuccessType.applied:e._textAmountToSuccessType(e.textAmount.get())).pairwise().map(function(e){var t=e[0],n=e[1];return t===d.SuccessType.applied&&n!==d.SuccessType.zero?t:n}).switchMap(function(e,n){return 0===n?i.Observable.of(e):t(e)})})}).subscribe(l.RxUtils.toAtom(this.successState))},e}();t.SuccessLensViewModelImpl=u;var d;!function(e){!function(e){e.zero="zero",e.small="small",e.large="large"}(e.TextAmount||(e.TextAmount={}));!function(e){e.zero="zero",e.small="small",e.large="large",e.applied="applied"}(e.SuccessType||(e.SuccessType={}))}(d=t.SuccessLensViewModel||(t.SuccessLensViewModel={}))},1505:function(e,t,n){"use strict";function r(e,t,n,r,s){void 0===r&&(r=[]),void 0===s&&(s=function(){});var c=new i.Subject,l=t.create.denaliAlertUndo(function(){return c.next(!1)},function(){return c.next(!0)},function(){switch(n.action){case o.CAPI.FeedbackType.IGNORE:return{kind:"ignore"};case o.CAPI.FeedbackType.ADD_TO_DICTIONARY:return{kind:"addToDictionary",word:n.replacement};case o.CAPI.FeedbackType.WRONG_SUGGESTION:case o.CAPI.FeedbackType.OFFENSIVE_CONTENT:return{kind:"report"};case o.CAPI.FeedbackType.ACCEPTED:return{kind:"replace",word:n.replacement};case o.CAPI.FeedbackType.SYNONYM_ACCEPTED:return{kind:"replaceSynonym"};case o.CAPI.FeedbackType.DISMISS_BY_LENS:return{kind:"ignoreAll",alerts:r.length};case o.CAPI.FeedbackType.LIKE:return{kind:"markAsHelpful"};case o.CAPI.FeedbackType.DISLIKE:return{kind:"markAsNotHelpful"};default:throw new Error("Invalid undoable action "+n.action)}}()),u=t.show(l);e.flushChanges(),c.merge(i.Observable.timer(a).merge(e.contentUpdated).first().map(function(){return!0})).first().subscribe(function(e){t.hide(u),e?n.commit():s(n.undo())})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(16),o=n(18),a=2e4;t.createUndoNotification=r},1506:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(91),a=n(521),s=n(1534),c=function(e){return e.split("/").reduce(function(e,t,n){return 0!==n&&e.push(i.createElement("br",{key:n})),e.push(t),e},[])};t.Examples=function(e){var t=e.examples;return i.createElement("table",{className:s.wrapper},t.map(function(e,t){return i.createElement("tbody",{key:t,className:s.group},e.map(function(e,t){var n=e.text,l=e.title,u=e.color;return i.createElement("tr",{key:t,className:s.item},l.map(function(e){return i.createElement("td",{className:a.AlertExample.colorMatch(u)(s)},c(e))}).orNull(),i.createElement("td",r.__assign({colSpan:l.isEmpty()?2:void 0,className:s.content},o.ReactUtils.setInnerHTML(n))))}))}))}},1525:function(e,t){e.exports={wrapper:"_6fedd6f4-checkbox-wrapper",rectangle:"_7669c54d-checkbox-rectangle",rectangleFilledBlue:"_84079770-checkbox-rectangleFilledBlue _7669c54d-checkbox-rectangle",inputCheckbox:"_6d79043a-checkbox-inputCheckbox",svg:"_d769f305-checkbox-svg",svg2:"_b3c9a0d3-checkbox-svg2"}},1526:function(e,t){e.exports={rippleContainer:"_a0a51b41-ripple-rippleContainer",ripple:"_818a1a0e-ripple-ripple",rippleFromCenter:"_ee6ca4fe-ripple-rippleFromCenter _818a1a0e-ripple-ripple",rippleSmall:"_6d3c3244-ripple-rippleSmall"}},1527:function(e,t){e.exports={wrapper:"_cd37be10-card-wrapper",animationWrapper:"_964f7677-card-animationWrapper",shade:"_162f340d-card-shade",focused2renderedMain:"_ee86c1f2-card-focused2renderedMain",fade:"_82ede6ed-card-fade",focused2renderedShade:"_99eaee2c-card-focused2renderedShade _162f340d-card-shade",focused2renderedShadeClockwise:"_659a7bd4-card-focused2renderedShadeClockwise _162f340d-card-shade",rendered2focusedMainBase:"_759b9df5-card-rendered2focusedMainBase",rendered2focusedMain:"_0f6d5ed6-card-rendered2focusedMain _759b9df5-card-rendered2focusedMainBase",rendered2focusedMainClockwise:"_c6568ed8-card-rendered2focusedMainClockwise _759b9df5-card-rendered2focusedMainBase",addedMain:"_5ea1523c-card-addedMain",rendered2removedShade:"_1214798e-card-rendered2removedShade _162f340d-card-shade",openedMain:"_284406e2-card-openedMain",closedMain:"_2247072b-card-closedMain"}},1528:function(e,t){e.exports={wrapper:"_408de300-card-wrapper _8d8a7136-typography-p2",activateBtn:"_277f2d80-card-activateBtn",contentWrapper:"_268be38b-card-contentWrapper",activeTopIcon:"_660d2189-card-activeTopIcon",activeBottomIcon:"_7022caee-card-activeBottomIcon",notRead:"_2de88599-card-notRead"}},1529:function(e,t){e.exports={wrapper:"_83cf92d4-dropdown-wrapper",list:"_26f4a41a-dropdown-list",transparent:"_71c5d680-dropdown-transparent",hidden:"_8baf22d7-dropdown-hidden",delimiter:"_25a2ffa0-dropdown-delimiter"}},1530:function(e,t){e.exports={container:"_c6bebaa8-inline-card-container",directionUp:"_dcfe7853-inline-card-directionUp",invisible:"_81b06f15-inline-card-invisible",invisibleAnimation:"_b1fe3b8f-inline-card-invisibleAnimation",visible:"_db0b3b30-inline-card-visible",visibleAnimation:"_c8ca5974-inline-card-visibleAnimation",card:"_bbcaab3e-inline-card-card",bigTitle:"_1914723c-inline-card-bigTitle",unknownWordTitle:"_3298fa05-inline-card-unknownWordTitle",inlineHeader:"_93593614-inline-card-inlineHeader",explanation:"_88886808-inline-card-explanation",footerButton:"_e0880657-inline-card-footerButton",footerButtonBig:"_5f0b4d01-inline-card-footerButtonBig _e0880657-inline-card-footerButton",footerButtonShort:"_d4933259-inline-card-footerButtonShort _e0880657-inline-card-footerButton",addToDictIcon:"_08f806d7-inline-card-addToDictIcon",dismissIcon:"_a86b0341-inline-card-dismissIcon",inlineWrappedList:"_dbfdd9e1-inline-card-inlineWrappedList",inlineHeaderOne:"_6043161b-inline-card-inlineHeaderOne _93593614-inline-card-inlineHeader",itemInsert:"_32837333-inline-card-itemInsert",itemRemove:"_b04c7fbd-inline-card-itemRemove",diff:"_1412e448-inline-card-diff",strike:"_c80effdf-inline-card-strike",maxWidthReached:"_52687f0b-inline-card-maxWidthReached"}},1531:function(e,t){e.exports={wrapper:"_57095d70-modal-wrapper",wrapperTopCenter:"_9ec0c273-modal-wrapperTopCenter",wrapperBottomRight:"_1920feaa-modal-wrapperBottomRight",wrapperCenter:"_a88cfac7-modal-wrapperCenter",wrapperLight:"_de655ea3-modal-wrapperLight _57095d70-modal-wrapper",wrapperDark:"_e35bbb9c-modal-wrapperDark _57095d70-modal-wrapper",wrapperTransparent:"_07894e4b-modal-wrapperTransparent _57095d70-modal-wrapper",modal:"_f0e0cdc1-modal-modal",header:"_0ba1bc92-modal-header",closeBtn:"_dc3e269c-modal-closeBtn",body:"_372e3284-modal-body",footer:"_238ba3c3-modal-footer",contentBase:"_0c354132-modal-contentBase",contentFaded:"_ce4a684f-modal-contentFaded _0c354132-modal-contentBase",content:"_07b61855-modal-content _0c354132-modal-contentBase",scroll:"_7ef25f50-modal-scroll"}},1532:function(e,t){},1533:function(e,t){e.exports={wrapper:"_f634ad72-navigation-wrapper",emptyWrapper:"_de242a71-navigation-emptyWrapper _f634ad72-navigation-wrapper",itemList:"_7d322556-navigation-itemList",lensBtnAnimate:"_437c38dc-navigation-lensBtnAnimate",growIn:"_7bfb80b5-navigation-growIn",counterWrapper:"_ac8b2ba3-navigation-counterWrapper",flowPosition:"_ec48f2a1-navigation-flowPosition",flowPositionAnimate:"_380a3908-navigation-flowPositionAnimate",lensesZero:"_0729fe6f-navigation-lensesZero",advancedBtn:"_cd94a72b-navigation-advancedBtn",fadeIn:"_c8fdcde9-navigation-fadeIn",advancedDelimiter:"_26e22e8d-navigation-advancedDelimiter _8462003f-navigation-delimiter",onboardingContainer:"_f8e98946-navigation-onboardingContainer",onboardingNotification:"_6f7b736e-navigation-onboardingNotification",triangleClassName:"_42a6dbdd-navigation-triangleClassName",bold:"_0f50e0d6-navigation-bold"}},1534:function(e,t){e.exports={wrapper:"_f784004c-examples-wrapper _8d8a7136-typography-p2",group:"_24267ef7-examples-group",item:"_3e77c65d-examples-item",baseBlock:"_c66b13e8-examples-baseBlock",title:"_06f6405c-examples-title _c66b13e8-examples-baseBlock",content:"_247c03a1-examples-content _c66b13e8-examples-baseBlock",red:"_7d31a719-examples-red _06f6405c-examples-title _c66b13e8-examples-baseBlock",green:"_5dc5917c-examples-green _06f6405c-examples-title _c66b13e8-examples-baseBlock",yellow:"_1d2dde5e-examples-yellow _06f6405c-examples-title _c66b13e8-examples-baseBlock",fallback:"_565b6c31-examples-fallback _06f6405c-examples-title _c66b13e8-examples-baseBlock"}},1535:function(e,t){e.exports={wrapper:"_97cabf1a-card-wrapper _98b130ea-card-fullCard",main:"_8d27c13e-card-main",description:"_87d01b5a-card-description _8d8a7136-typography-p2",buttons:"_6f8eb32f-card-buttons",dropdownContainer:"_4f5b8614-card-dropdownContainer",dictBtn:"_446ca4db-card-dictBtn",expandBtn:"_29193c84-card-expandBtn",lessIcon:"_51314209-card-lessIcon",more:"_6d605474-card-more",moreHidden:"_8370a536-card-moreHidden _6d605474-card-more",feedback:"_6fcd865d-card-feedback",feedbackLabel:"_d7d039f4-card-feedbackLabel",feedbackIcon:"_9349bc5b-card-feedbackIcon",feedbackButton:"_788543ea-card-feedbackButton",feedbackButtonInactive:"_48abbc9d-card-feedbackButtonInactive _788543ea-card-feedbackButton",onboardingNotification:"_6718b7dd-card-onboardingNotification",alignButtonHidden:"_e643170f-card-alignButtonHidden",alignButtonVisible:"_dabfd8f1-card-alignButtonVisible _e643170f-card-alignButtonHidden",title:"_ac5e6cb2-card-title _e635cd19-typography-p1",lens:"_c5b31891-card-lens"}},1536:function(e,t){e.exports={wrapper:"_549e6a9c-card-wrapper",highlightText:"_171f68e8-card-highlightText _014d72bc-card-text",text:"_014d72bc-card-text",critical:"_8857ed39-card-critical _171f68e8-card-highlightText _014d72bc-card-text",advanced:"_b7a46ff9-card-advanced _171f68e8-card-highlightText _014d72bc-card-text",dotCritical:"_c5d33786-card-dotCritical",dotAdvanced:"_6c34de61-card-dotAdvanced"}},1537:function(e,t){e.exports={button:"_08cb20d8-replacements_labels-button",text:"_375a3671-replacements_labels-text",caps:"_44ec605d-replacements_labels-caps _08cb20d8-replacements_labels-button _375a3671-replacements_labels-text",round:"_8ac7c956-replacements_labels-round _08cb20d8-replacements_labels-button",blue:"_21413eb1-replacements_labels-blue _375a3671-replacements_labels-text _08cb20d8-replacements_labels-button",white:"_cb0eb79b-replacements_labels-white _08cb20d8-replacements_labels-button",groupSticky:"_ecef7e12-replacements_labels-groupSticky",grey:"_96e2ff4d-replacements_labels-grey _375a3671-replacements_labels-text _08cb20d8-replacements_labels-button",flat:"_ed2ef32d-replacements_labels-flat _08cb20d8-replacements_labels-button",sidebarFlat:"_181259c4-replacements_labels-sidebarFlat _44f85ed9-typography-header3 _08cb20d8-replacements_labels-button",linkBtn:"_3d82df25-replacements_labels-linkBtn",group:"_bc2bce1b-replacements_labels-group",list:"_920bb3c5-replacements_labels-list _1cd6b501-typography-paper",item:"_e93f5adc-replacements_labels-item",itemInsert:"_a5ecbb35-replacements_labels-itemInsert _e93f5adc-replacements_labels-item",diff:"_49a4a75e-replacements_labels-diff",itemRemove:"_f351a295-replacements_labels-itemRemove _e93f5adc-replacements_labels-item",deleteAll:"_9f952615-replacements_labels-deleteAll",crossed:"_d34cf47d-replacements_labels-crossed",deleteQuote:"_55b26aa3-replacements_labels-deleteQuote _d34cf47d-replacements_labels-crossed",deletePunctuation:"_eb5e8059-replacements_labels-deletePunctuation _d34cf47d-replacements_labels-crossed",deleteDoubleComma:"_85550cb6-replacements_labels-deleteDoubleComma",deleteApostrophe:"_261a33b0-replacements_labels-deleteApostrophe _d34cf47d-replacements_labels-crossed",deleteLetter:"_314bb99e-replacements_labels-deleteLetter",deletePunctuationBeforeLetter:"_b32369e7-replacements_labels-deletePunctuationBeforeLetter",itemOriginal:"_bece753d-replacements_labels-itemOriginal",itemOriginalContent:"_25a58297-replacements_labels-itemOriginalContent",or:"_2d4a575a-replacements_labels-or",arrowInsertsList:"_d7e14a20-replacements_labels-arrowInsertsList",inlineHeader:"_4a30cfec-replacements_labels-inlineHeader"}},1541:function(e,t){},1563:function(e,t,n){n(1541),e.exports=n(1641)},1579:function(e,t,n){"use strict";e.exports=n(1582)},1580:function(e,t,n){"use strict";var r=function(e){this.element=e,this.events={}};r.prototype.bind=function(e,t,n){void 0===this.events[e]&&(this.events[e]=[]);var r={capture:!1};this.events[e].push(t),this.element.addEventListener(e,t,n?Object.assign({},r,n):r)},r.prototype.unbind=function(e,t){var n=void 0!==t;this.events[e]=this.events[e].filter(function(r){return!(!n||r===t)||(this.element.removeEventListener(e,r,!1),!1)},this)},r.prototype.unbindAll=function(){for(var e in this.events)this.unbind(e)};var i=function(){this.eventElements=[]};i.prototype.eventElement=function(e){var t=this.eventElements.filter(function(t){return t.element===e})[0];return void 0===t&&(t=new r(e),this.eventElements.push(t)),t},i.prototype.bind=function(e,t,n,r){this.eventElement(e).bind(t,n,r)},i.prototype.unbind=function(e,t,n){this.eventElement(e).unbind(t,n)},i.prototype.unbindAll=function(){for(var e=0;e<this.eventElements.length;e++)this.eventElements[e].unbindAll()},i.prototype.once=function(e,t,n){var r=this.eventElement(e),i=function(e){r.unbind(t,i),n(e)};r.bind(t,i)},e.exports=i},1581:function(e,t,n){"use strict";e.exports=function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return function(){return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()}}()},1582:function(e,t,n){"use strict";var r=n(1584),i=n(1593),o=n(1594);e.exports={initialize:i,update:o,destroy:r}},1583:function(e,t,n){"use strict";e.exports=function(){return{handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipePropagation:!0,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!1,wheelSpeed:1,theme:"default"}}},1584:function(e,t,n){"use strict";var r=n(1388),i=n(1390),o=n(1383);e.exports=function(e){var t=o.get(e);t&&(t.event.unbindAll(),i.remove(t.scrollbarX),i.remove(t.scrollbarY),i.remove(t.scrollbarXRail),i.remove(t.scrollbarYRail),r.removePsClasses(e),o.remove(e))}},1585:function(e,t,n){"use strict";function r(e,t){function n(e){return e.getBoundingClientRect()}var r=function(e){e.stopPropagation()};t.event.bind(t.scrollbarY,"click",r),t.event.bind(t.scrollbarYRail,"click",function(r){var i=r.pageY-window.pageYOffset-n(t.scrollbarYRail).top,s=i>t.scrollbarYTop?1:-1;a(e,"top",e.scrollTop+s*t.containerHeight),o(e),r.stopPropagation()}),t.event.bind(t.scrollbarX,"click",r),t.event.bind(t.scrollbarXRail,"click",function(r){var i=r.pageX-window.pageXOffset-n(t.scrollbarXRail).left,s=i>t.scrollbarXLeft?1:-1;a(e,"left",e.scrollLeft+s*t.containerWidth),o(e),r.stopPropagation()})}var i=n(1383),o=n(1385),a=n(1387);e.exports=function(e){r(e,i.get(e))}},1586:function(e,t,n){"use strict";function r(e,t){function n(n){var i=r+n*t.railXRatio,a=Math.max(0,t.scrollbarXRail.getBoundingClientRect().left)+t.railXRatio*(t.railXWidth-t.scrollbarXWidth);t.scrollbarXLeft=i<0?0:i>a?a:i;var s=o.toInt(t.scrollbarXLeft*(t.contentWidth-t.containerWidth)/(t.containerWidth-t.railXRatio*t.scrollbarXWidth))-t.negativeScrollAdjustment;l(e,"left",s)}var r=null,i=null,s=function(t){n(t.pageX-i),c(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"x"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarX,"mousedown",function(n){i=n.pageX,r=o.toInt(a.css(t.scrollbarX,"left"))*t.railXRatio,o.startScrolling(e,"x"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}function i(e,t){function n(n){var i=r+n*t.railYRatio,a=Math.max(0,t.scrollbarYRail.getBoundingClientRect().top)+t.railYRatio*(t.railYHeight-t.scrollbarYHeight);t.scrollbarYTop=i<0?0:i>a?a:i;var s=o.toInt(t.scrollbarYTop*(t.contentHeight-t.containerHeight)/(t.containerHeight-t.railYRatio*t.scrollbarYHeight));l(e,"top",s)}var r=null,i=null,s=function(t){n(t.pageY-i),c(e),t.stopPropagation(),t.preventDefault()},u=function(){o.stopScrolling(e,"y"),t.event.unbind(t.ownerDocument,"mousemove",s)};t.event.bind(t.scrollbarY,"mousedown",function(n){i=n.pageY,r=o.toInt(a.css(t.scrollbarY,"top"))*t.railYRatio,o.startScrolling(e,"y"),t.event.bind(t.ownerDocument,"mousemove",s),t.event.once(t.ownerDocument,"mouseup",u),n.stopPropagation(),n.preventDefault()})}var o=n(1388),a=n(1390),s=n(1383),c=n(1385),l=n(1387);e.exports=function(e){var t=s.get(e);r(e,t),i(e,t)}},1587:function(e,t,n){"use strict";function r(e,t){function n(n,r){var i=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}var r=!1;t.event.bind(e,"mouseenter",function(){r=!0}),t.event.bind(e,"mouseleave",function(){r=!1});var a=!1;t.event.bind(t.ownerDocument,"keydown",function(l){if(!(l.isDefaultPrevented&&l.isDefaultPrevented()||l.defaultPrevented)){var u=o.matches(t.scrollbarX,":focus")||o.matches(t.scrollbarY,":focus");if(r||u){var d=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(d){if("IFRAME"===d.tagName)d=d.contentDocument.activeElement;else for(;d.shadowRoot;)d=d.shadowRoot.activeElement;if(i.isEditable(d))return}var p=0,m=0;switch(l.which){case 37:p=l.metaKey?-t.contentWidth:l.altKey?-t.containerWidth:-30;break;case 38:m=l.metaKey?t.contentHeight:l.altKey?t.containerHeight:30;break;case 39:p=l.metaKey?t.contentWidth:l.altKey?t.containerWidth:30;break;case 40:m=l.metaKey?-t.contentHeight:l.altKey?-t.containerHeight:-30;break;case 33:m=90;break;case 32:m=l.shiftKey?90:-90;break;case 34:m=-90;break;case 35:m=l.ctrlKey?-t.contentHeight:-t.containerHeight;break;case 36:m=l.ctrlKey?e.scrollTop:t.containerHeight;break;default:return}c(e,"top",e.scrollTop-m),c(e,"left",e.scrollLeft+p),s(e),a=n(p,m),a&&l.preventDefault()}}})}var i=n(1388),o=n(1390),a=n(1383),s=n(1385),c=n(1387);e.exports=function(e){r(e,a.get(e))}},1588:function(e,t,n){"use strict";function r(e,t){function n(n,r){var i=e.scrollTop;if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}function r(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}function i(t,n){var r=e.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(r){var i=window.getComputedStyle(r);if(![i.overflow,i.overflowX,i.overflowY].join("").match(/(scroll|auto)/))return!1;var o=r.scrollHeight-r.clientHeight;if(o>0&&!(0===r.scrollTop&&n>0||r.scrollTop===o&&n<0))return!0;var a=r.scrollLeft-r.clientWidth;if(a>0&&!(0===r.scrollLeft&&t<0||r.scrollLeft===a&&t>0))return!0}return!1}function s(s){var l=r(s),u=l[0],d=l[1];i(u,d)||(c=!1,t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(d?a(e,"top",e.scrollTop-d*t.settings.wheelSpeed):a(e,"top",e.scrollTop+u*t.settings.wheelSpeed),c=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(u?a(e,"left",e.scrollLeft+u*t.settings.wheelSpeed):a(e,"left",e.scrollLeft-d*t.settings.wheelSpeed),c=!0):(a(e,"top",e.scrollTop-d*t.settings.wheelSpeed),a(e,"left",e.scrollLeft+u*t.settings.wheelSpeed)),o(e),(c=c||n(u,d))&&(s.stopPropagation(),s.preventDefault()))}var c=!1;void 0!==window.onwheel?t.event.bind(e,"wheel",s):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",s)}var i=n(1383),o=n(1385),a=n(1387);e.exports=function(e){r(e,i.get(e))}},1589:function(e,t,n){"use strict";function r(e,t){t.event.bind(e,"scroll",function(){o(e)})}var i=n(1383),o=n(1385);e.exports=function(e){r(e,i.get(e))}},1590:function(e,t,n){"use strict";function r(e,t){function n(e){var t=e.deltaX,n=-1*e.deltaY;return void 0!==t&&void 0!==n||(t=-1*e.wheelDeltaX/6,n=e.wheelDeltaY/6),e.deltaMode&&1===e.deltaMode&&(t*=10,n*=10),t!==t&&n!==n&&(t=0,n=e.wheelDelta),e.shiftKey?[-n,-t]:[t,n]}function r(r){var i=n(r),s=i[0],c=i[1];t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?c?a(e,"top",e.scrollTop-c*t.settings.wheelSpeed):a(e,"top",e.scrollTop+s*t.settings.wheelSpeed):t.scrollbarXActive&&!t.scrollbarYActive&&(s?a(e,"left",e.scrollLeft+s*t.settings.wheelSpeed):a(e,"left",e.scrollLeft-c*t.settings.wheelSpeed)):(a(e,"top",e.scrollTop-c*t.settings.wheelSpeed),a(e,"left",e.scrollLeft+s*t.settings.wheelSpeed)),o(e)}void 0!==window.onwheel?t.event.bind(e,"wheel",r,{passive:!0}):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",r,{passive:!0})}var i=n(1383),o=n(1385),a=n(1387);e.exports=function(e){r(e,i.get(e))}},1591:function(e,t,n){"use strict";function r(e,t){function n(){var e=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";return 0===e.toString().length?null:e.getRangeAt(0).commonAncestorContainer}function r(){l||(l=setInterval(function(){if(!o.get(e))return void clearInterval(l);s(e,"top",e.scrollTop+u.top),s(e,"left",e.scrollLeft+u.left),a(e)},50))}function c(){l&&(clearInterval(l),l=null),i.stopScrolling(e)}var l=null,u={top:0,left:0},d=!1;t.event.bind(t.ownerDocument,"selectionchange",function(){e.contains(n())?d=!0:(d=!1,c())}),t.event.bind(window,"mouseup",function(){d&&(d=!1,c())}),t.event.bind(window,"keyup",function(){d&&(d=!1,c())}),t.event.bind(window,"mousemove",function(t){if(d){var n={x:t.pageX,y:t.pageY},o={left:e.offsetLeft,right:e.offsetLeft+e.offsetWidth,top:e.offsetTop,bottom:e.offsetTop+e.offsetHeight};n.x<o.left+3?(u.left=-5,i.startScrolling(e,"x")):n.x>o.right-3?(u.left=5,i.startScrolling(e,"x")):u.left=0,n.y<o.top+3?(u.top=o.top+3-n.y<5?-5:-20,i.startScrolling(e,"y")):n.y>o.bottom-3?(u.top=n.y-o.bottom+3<5?5:20,i.startScrolling(e,"y")):u.top=0,0===u.top&&0===u.left?c():r()}})}var i=n(1388),o=n(1383),a=n(1385),s=n(1387);e.exports=function(e){r(e,o.get(e))}},1592:function(e,t,n){"use strict";function r(e,t,n,r){function i(n,r){var i=e.scrollTop,o=e.scrollLeft,a=Math.abs(n),s=Math.abs(r);if(s>a){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return!t.settings.swipePropagation}else if(a>s&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!t.settings.swipePropagation;return!0}function c(t,n){s(e,"top",e.scrollTop-n),s(e,"left",e.scrollLeft-t),a(e)}function l(){y=!0}function u(){y=!1}function d(e){return e.targetTouches?e.targetTouches[0]:e}function p(e){return!(!e.targetTouches||1!==e.targetTouches.length)||!(!e.pointerType||"mouse"===e.pointerType||e.pointerType===e.MSPOINTER_TYPE_MOUSE)}function m(e){if(p(e)){w=!0;var t=d(e);g.pageX=t.pageX,g.pageY=t.pageY,_=(new Date).getTime(),null!==b&&clearInterval(b),e.stopPropagation()}}function f(e){if(!w&&t.settings.swipePropagation&&m(e),!y&&w&&p(e)){var n=d(e),r={pageX:n.pageX,pageY:n.pageY},o=r.pageX-g.pageX,a=r.pageY-g.pageY;c(o,a),g=r;var s=(new Date).getTime(),l=s-_;l>0&&(v.x=o/l,v.y=a/l,_=s),i(o,a)&&(e.stopPropagation(),e.preventDefault())}}function h(){!y&&w&&(w=!1,t.settings.swipeEasing&&(clearInterval(b),b=setInterval(function(){return o.get(e)&&(v.x||v.y)?Math.abs(v.x)<.01&&Math.abs(v.y)<.01?void clearInterval(b):(c(30*v.x,30*v.y),v.x*=.8,void(v.y*=.8)):void clearInterval(b)},10)))}var g={},_=0,v={},b=null,y=!1,w=!1;n?(t.event.bind(window,"touchstart",l),t.event.bind(window,"touchend",u),t.event.bind(e,"touchstart",m),t.event.bind(e,"touchmove",f),t.event.bind(e,"touchend",h)):r&&(window.PointerEvent?(t.event.bind(window,"pointerdown",l),t.event.bind(window,"pointerup",u),t.event.bind(e,"pointerdown",m),t.event.bind(e,"pointermove",f),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(window,"MSPointerDown",l),t.event.bind(window,"MSPointerUp",u),t.event.bind(e,"MSPointerDown",m),t.event.bind(e,"MSPointerMove",f),t.event.bind(e,"MSPointerUp",h)))}var i=n(1388),o=n(1383),a=n(1385),s=n(1387);e.exports=function(e){if(i.env.supportsTouch||i.env.supportsIePointer){r(e,o.get(e),i.env.supportsTouch,i.env.supportsIePointer)}}},1593:function(e,t,n){"use strict";var r=n(1383),i=n(1385),o={"click-rail":n(1585),"drag-scrollbar":n(1586),keyboard:n(1587),wheel:n(1588),passiveWheel:n(1590),touch:n(1592),selection:n(1591)},a=n(1589);e.exports=function(e,t){e.classList.add("ps");var n=r.add(e,"object"==typeof t?t:{});e.classList.add("ps--theme_"+n.settings.theme),n.settings.handlers.forEach(function(t){o[t](e)}),a(e),i(e)}},1594:function(e,t,n){"use strict";var r=n(1388),i=n(1390),o=n(1383),a=n(1385),s=n(1387);e.exports=function(e){var t=o.get(e);t&&(t.negativeScrollAdjustment=t.isNegativeScroll?e.scrollWidth-e.clientWidth:0,i.css(t.scrollbarXRail,"display","block"),i.css(t.scrollbarYRail,"display","block"),t.railXMarginWidth=r.toInt(i.css(t.scrollbarXRail,"marginLeft"))+r.toInt(i.css(t.scrollbarXRail,"marginRight")),t.railYMarginHeight=r.toInt(i.css(t.scrollbarYRail,"marginTop"))+r.toInt(i.css(t.scrollbarYRail,"marginBottom")),i.css(t.scrollbarXRail,"display","none"),i.css(t.scrollbarYRail,"display","none"),a(e),s(e,"top",e.scrollTop),s(e,"left",e.scrollLeft),i.css(t.scrollbarXRail,"display",""),i.css(t.scrollbarYRail,"display",""))}},1605:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(16),s=n(105),c=n(2),l=n(270),u=n(1563),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDropZoneVisible=o.Atom.create(!1),t.isDropZoneHovered=o.Atom.create(!1),t.timeout=void 0,t.isDocumentUploading=o.Atom.create(!1),t.onLeave=function(){t.isDropZoneVisible.set(!1),t.isDropZoneHovered.set(!1)},t.onDragOver=function(e){return t.isDropZoneVisible.set(!0),t.isDropZoneHovered.set(t.props.canDrop(e)),t.timeout&&clearTimeout(t.timeout),t.timeout=setTimeout(function(){return t.onLeave()},100),e.stopPropagation(),e.preventDefault(),!1},t.onDrop=function(e){e.preventDefault(),e.stopPropagation(),t.onLeave(),t.props.canDrop(e)&&(t.isDocumentUploading.set(!0),t.props.documentUpload.upload(e.dataTransfer.files,t.props.showNotification).then(function(){return t.isDocumentUploading.set(!1)}))},t._subs=[],t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._subs=[a.Observable.fromEvent(document,"dragover").subscribe(this.onDragOver),a.Observable.fromEvent(document,"drop").subscribe(this.onDrop)]},t.prototype.componentWillUnmount=function(){this._unsubscribe(),this.props.documentUpload.navigated()},t.prototype.render=function(){return this.props.render(this.isDropZoneVisible,this.isDropZoneHovered,this.isDocumentUploading)},t.prototype._unsubscribe=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t}(s.BaseComponent);t.DropZoneBase=d;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement(d,r.__assign({},this.props,{canDrop:function(e){return c.DOM.hasParentWithClassName(e.target,u.dropzone)},render:function(t,n,a){return i.createElement(o.F.div,r.__assign({},o.classes(u.dropZoneElement,t.map(function(e){return e&&u.active}),n.map(function(e){return e&&u.hovered}),a.map(function(e){return e&&o.classes(u.active,u.hovered).className}))),i.createElement(o.F.div,{className:u.dropzone},a.map(function(t){return t?i.createElement("div",{className:u.progressContainer,key:"uploading"},i.createElement("div",{className:u.message},e.context.textResources.base.modalUploadingDocumentText),i.createElement(l.Spinner,{size:18})):i.createElement("div",{className:u.dropzoneMiddleblock,key:"dropAFile"},"Drop a text file here")})))}}))},t}(s.BaseComponent);t.DropZone=p},1611:function(e,t,n){"use strict";function r(){return void 0===f&&(f=p.Monitoring.Logging.getLogger("Button")),f}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(8),a=n(16),s=n(6),c=n(1384),l=n(32),u=n(2),d=n(1445),p=n(4),m=n(1449),f=void 0,h=function(e){function t(t,n){var r=e.call(this,t)||this;return r._hovered=s.Atom.create(!1),r.mouseDownEvents=new a.Subject,r._setInternals(t),r._isHovered=void 0!==n.hovered?s.Atom.combine(n.hovered,r._hovered,u.or):r._hovered,r}return i.__extends(t,e),t.prototype.getChildContext=function(){return{hovered:this._isHovered,disabled:"boolean"==typeof this._isDisabled?s.Atom.create(this._isDisabled):this._isDisabled,active:"boolean"==typeof this._isActive?s.Atom.create(this._isActive):this._isActive}},t.prototype.componentWillReceiveProps=function(e){this._setInternals(e)},t.prototype.render=function(){var e=void 0!==this.props.href?this._genLinkEl():this._genDivEl();return this.props.title?o.createElement(c.Tooltip,{title:this.props.title,align:this.props.titleAlign||"auto"},e):e},Object.defineProperty(t.prototype,"_name",{get:function(){var e=this.props.name,t="string"==typeof e?e:e.get();return void 0!==this.context.name?this.context.name+"-"+t:t},enumerable:!0,configurable:!0}),t.prototype._setInternals=function(e){var t=this,n=e.onClick?this._getGenericButtonInternals(e.onClick,e.disabled):{onClick:void 0,isDisabled:void 0!==e.disabled&&e.disabled},i=n.onClick,o=n.isDisabled;this._onClick=function(e){return r().info("Button clicked: "+t._name),i&&i(e)},this._isDisabled=o,this._isActive=void 0!==e.active&&e.active},t.prototype._genLinkEl=function(){var e=this;return o.createElement(s.F.a,i.__assign({href:this.props.href,target:this.props.target,onClick:this._onClick,onMouseEnter:function(){return e._hovered.set(!0)},onMouseLeave:function(){return e._hovered.set(!1)},onMouseDown:function(t){var n=t.pageX,r=t.pageY;return e.mouseDownEvents.next({pageX:n,pageY:r})},"data-name":this._name,"data-disabled":this._isDisabled,"data-hovered":this._isHovered},s.classes(d.linkBtn,this.props.className),{style:this.props.style}),this._renderChildren())},t.prototype._genDivEl=function(){var e=this;return o.createElement(s.F.div,{role:"button",onClick:this._onClick,onMouseEnter:function(){return e._hovered.set(!0)},onMouseLeave:function(){return e._hovered.set(!1)},onMouseDown:function(t){var n=t.pageX,r=t.pageY;return e.mouseDownEvents.next({pageX:n,pageY:r})},"data-name":this._name,"data-disabled":this._isDisabled,"data-active":this._isActive,"data-hovered":this._isHovered,className:this.props.className,style:this.props.style},this._renderChildren())},t.prototype._renderChildren=function(){return this.props.animationMode&&this.props.animationMode!==m.AnimationMode.None?this._renderChildrenAsArray().concat(this._renderRippleAnimation()):this.props.children},t.prototype._renderChildrenAsArray=function(){return Array.isArray(this.props.children)?[].concat.apply([],this.props.children):[this.props.children]},t.prototype._renderRippleAnimation=function(){return o.createElement(m.Ripple,{key:"ripple",animationMode:this.props.animationMode||m.AnimationMode.FromClickPoint,mouseDownEvents:this.mouseDownEvents})},t.prototype._getGenericButtonInternals=function(e,t){void 0===t&&(t=!1);var n=s.Atom.create(!1),r="boolean"==typeof t?n.view(function(e){return t||e}):s.Atom.combine(t,n,u.or);return{onClick:this._decorateOnClickWithStateManager(e,function(e){return n.set(e)},function(){return r.get()}),isDisabled:r}},t.prototype._decorateOnClickWithStateManager=function(e,t,n){var r=this;return function(o){return i.__awaiter(r,void 0,void 0,function(){return i.__generator(this,function(r){switch(r.label){case 0:if(o.stopPropagation(),n())return[2];t(!0),r.label=1;case 1:return r.trys.push([1,,3,4]),this._hovered.set(!1),[4,e()];case 2:return[2,r.sent()];case 3:return t(!1),[7];case 4:return[2]}})})}},t.displayName="BaseButton",t.contextTypes=i.__assign({},l.ElementState.HoveredContextTypes,l.ElementState.GroupedContextTypes),t.childContextTypes=l.ElementState.contextTypes,t}(o.Component);t.BaseButton=h},1612:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(7),s=n(105),c=n(1527);t.CardWrapper=function(e){var t=e.children;return i.createElement(o.F.div,{className:c.wrapper},t)};var l=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._isFocused=o.Atom.create(!1),t}return r.__extends(n,e),n.prototype.shouldComponentUpdate=function(){return!1},n.prototype.componentDidMount=function(){var e=this;this._subs.push(this.props.cardState.subscribe(function(t){var n=(t[0],t[1]);return e._isFocused.set("focused"===n.transition.type||"expanded"===n.transition.type)}))},n.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},n.prototype._transitionClassMapper=function(e){var t=e.from,n=e.transition;return e.incomplete?t.map(function(e){switch(e){case"added":case"rendered":switch(n.type){case"added":return{main:c.addedMain};case"focused":return{main:n.clockwise?c.rendered2focusedMainClockwise:c.rendered2focusedMain};case"removed":return{shade:c.rendered2removedShade};default:return{}}case"expanded":case"focused":switch(n.type){case"rendered":return{main:c.focused2renderedMain,shade:n.clockwise?c.focused2renderedShadeClockwise:c.focused2renderedShade};case"fadeOut":return{main:c.closedMain};case"removed":return{main:"",shade:n.clockwise?c.focused2renderedShadeClockwise:c.focused2renderedShade};default:return{}}case"removed":switch(n.type){case"added":return{main:c.addedMain};default:return{}}default:return{}}}).getOrElseL(function(){switch(n.type){case"added":return{main:c.addedMain};case"focused":return{main:c.openedMain};default:return{}}}):{}},n.prototype._stateToElement=function(e){switch(e){case"added":case"rendered":return this.props.renderMiniCard();case"focused":case"expanded":case"fadeOut":return this.props.renderFullCard();default:return null}},n.prototype.render=function(){var e=this,n=this.props,r=n.cardsViewModel,s=n.cardState;return i.createElement(t.CardWrapper,null,s.distinctUntilChanged(function(e,t){var n=e[0],r=e[1],i=t[0],o=t[1];return n.cardId===i.cardId&&r.transition===o.transition}).map(function(t){var n=t[0],s=t[1];if(!s.incomplete)return i.createElement("div",{key:"main"},e._stateToElement(s.transition.type));var l=e._transitionClassMapper(s),u=l.main,d=l.shade,p=o.Atom.create(s.from.filter(function(){return void 0!==d}));return!u&&p.get().isEmpty()&&requestAnimationFrame(function(){return r.completeTransitionTo.next({card:n,transitionId:s.transitionId})}),i.createElement(o.F.div,{role:"animation-wrapper",className:c.animationWrapper},p.view(function(t){return t.map(function(t){return i.createElement("div",{className:d,key:"shade",onAnimationEnd:function(){r.completeTransitionTo.next({card:n,transitionId:s.transitionId}),e.context.appRouter.query.get("debug").contains("animation")||requestAnimationFrame(function(){return p.set(a.None)})}},e._stateToElement(t))}).orNull()}),i.createElement("div",{className:u,key:"main",onAnimationEnd:function(){return r.completeTransitionTo.next({card:n,transitionId:s.transitionId})}},e._stateToElement(s.transition.type)))}))},n}(s.BaseComponent);t.BaseCard=l},1613:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(7),a=n(6),s=n(105),c=n(268),l=n(513),u=n(1528),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isHighlighted=!1,t._highlightAlert=function(e){t._isHighlighted=e.nonEmpty(),t.props.marksVM.highlightedAlertBuffered.next(e)},t}return r.__extends(t,e),t.prototype.componentWillUnmount=function(){this._isHighlighted&&this._highlightAlert(o.None)},t.prototype.render=function(){var e=this,t=this.props,n=t.getActiveAlert,s=t.cardId,d=t.pageViewModel,p=t.children,m=t.className;return i.createElement(a.F.div,r.__assign({"data-aid":s,onClick:function(){e.context.gnarSpec.alertMinicardButtonClick(e.context.pageId,e.context.pageSessionId),d.switchToAlert(n(),c.AlertActionSource.sidebar,"lensOrder")},onMouseEnter:function(){return e._highlightAlert(o.Some(n()))},onMouseLeave:function(){return e._highlightAlert(o.None)}},a.classes(m,u.wrapper,u.notRead)),i.createElement("div",{className:u.contentWrapper},p),i.createElement("div",{className:u.activateBtn},i.createElement(l.Icon.More,{className:u.activeTopIcon}),i.createElement(l.Icon.More,{className:u.activeBottomIcon})))},t}(s.BaseComponent);t.BaseMiniCard=d},1614:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(1740),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._rendered=o.Atom.create(!1),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;requestAnimationFrame(function(){return e._rendered.set(!0)})},t.prototype.render=function(){var e=this.props.offset,t=this.props.theme||a,n=t.flowPosition,s=t.flowPositionAnimate;return i.createElement(o.F.div,r.__assign({style:{transform:"translate3d(0, "+e+", 0)"}},o.classes(n,this._rendered.view(function(e){return e&&s}))),this.props.children)},t}(i.Component);t.FlowPosition=s},1616:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(49),a=n(7),s=n(16),c=n(6),l=n(2),u=n(18),d=n(105),p=n(1397),m=n(1450),f=n(1415),h=function(e){function t(t,n){var r=e.call(this,t)||this;return r._customStyles=c.Atom.create({display:"none",pointerEvents:"none"}),r._subs=[],r._visibilityOverlay=c.Atom.create(!1),r._onboardingStepSubscription=null,r._onboardingViewModel=t.onboardingViewModel||n.onboardingViewModel,u.invariant(Boolean(r._onboardingViewModel),"onboardingViewModel should be set either in context or in props"),r}return r.__extends(t,e),t.prototype.getChildContext=function(){return this.context},t.prototype.componentDidMount=function(){var e=this;if(this._onboardingViewModel.isStepEnabled(this.props.stepId)){this._onboardingStepSubscription=this._onboardingViewModel.subscribeForStep(this.props.stepId);var t=c.Atom.create(a.None);this._subs.push(this._onboardingStepSubscription.state.view(function(e){return"dot"===e||"popup"===e}).switchMap(l.RxUtils.orEmpty(this.props.getFirstTarget())).subscribe(l.RxUtils.toAtom(t)),this._onboardingStepSubscription.state.do(function(t){"popup"===t&&e.props.showOverlayWhenOpen&&e._visibilityOverlay.set(!0),e._customStyles.modify(function(e){return r.__assign({},e,{pointerEvents:"dot"===t?"all":"none"})})}).merge(this.props.denaliEditorModel.contentUpdated,this.props.viewport).combineLatest(this.context.screen.remSize,t.skip(1)).subscribe(function(t){var n=(t[0],t[1]),r=t[2];return e._updatePosition(n,r)}),s.Observable.merge(this.props.showOverlayWhenOpen?this._visibilityOverlay.skip(1).filter(function(e){return!e}):s.Observable.empty(),this.props.completionTrigger.skip(1)).subscribe(function(){return e.props.onCompletedStep()}))}},t.prototype._updatePosition=function(e,t){var n=this;requestAnimationFrame(function(){n.props.denaliEditorModel.flushChanges(),a.Try.of(function(){return t.map(function(e){return e.firstClientRect})}).toOption().flatMap(function(e){return e}).fold(function(){return n._customStyles.set({display:"none"})},function(t){var i=t.top,o=t.left,a=t.width,s=t.height;n._customStyles.modify(function(t){return r.__assign({},t,{position:"absolute",left:o/e+"rem",top:i/e+"rem",width:a/e+"rem",height:s/e+"rem",display:"block"})})})})},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){return this._onboardingViewModel.isStepEnabled(this.props.stepId)&&i.createElement("div",{className:f.editor},i.createElement(p.Overlay,{visible:this._visibilityOverlay,alignment:"none",overlayType:"transparent"}),i.createElement(c.F.div,{style:this._customStyles,className:f.onboardingPopup},i.createElement(m.Onboarding,r.__assign({},this.props,{eventType:"none"}),i.createElement(c.F.div,{style:this._customStyles.view(function(e){return{width:e.width,height:e.height}})}))))},t.contextTypes=r.__assign({},d.BaseComponent.contextTypes,{onboardingViewModel:o.object}),t.childContextTypes=m.Onboarding.contextTypes,t}(d.BaseComponent);t.OnboardingWrapper=h},1617:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(1501),o=n(1825),a=n(1826),s=n(1501);t.Gradient=s.Gradient,t.CheckMark=function(){return r.createElement("svg",{className:o.checkMark,viewBox:"0 0 16 16"},r.createElement("path",{fill:"#3DDAB9",transform:"translate(0,-3)",d:"M14.1722359,5.90997604 L6.89276218,13.2076121 L4.93382142,11.2437838 C4.61892893,10.9281056 4.10641463,10.9261431 3.78908868,11.2394005 C3.47176274,11.5526578 3.46979003,12.0625107 3.78468251,12.3781889 L6.31819272,14.9180202 C6.63480066,15.2354181 7.15072369,15.2354181 7.46733163,14.9180202 L15.085059,7.28128652 C15.6693569,8.39227408 16,9.65750796 16,11 C16,15.418087 12.4184348,19 8,19 C3.58191304,19 0,15.418087 0,11 C0,6.58156522 3.58191304,3 8,3 C10.4848029,3 12.7049358,4.13271295 14.1722359,5.90997604 Z"}))},t.RadialProgress=function(e){var t=e.percentage,n=e.color,o=e.description;return r.createElement(i.RadialProgressBar,{percentage:t,color:n,description:o,theme:a})}},1618:function(e,t,n){"use strict";function r(e,t){var n=e.state,r=e.lensType,c=e.animate,l=e.useHighHighlights;void 0===t&&(t=a);var u=[o.Lens.fullTypeMatch(r)(t)];switch(n){case i.MarkAlertVisualState.faded:c&&u.push(t.markAnimated);break;case i.MarkAlertVisualState.active:u.push(t.markActive),c&&u.push(t.markAnimated);break;case i.MarkAlertVisualState.highlighted:u.push(l?t.markSelectedHigh:t.markSelected,t.markActive),c||u.push(t.noAnimation);break;case i.MarkAlertVisualState.hidden:u.push(t.markHidden);break;case i.MarkAlertVisualState.applied:u.push(t.markApplied);break;case i.MarkAlertVisualState.initial:case i.MarkAlertVisualState.disposed:break;default:s.assertNever(n)}return u}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1420),o=n(178),a=n(1424),s=n(2);t.getMarkClasses=r},1619:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(64),o=n(268),a=n(2),s=n(178),c=n(16),l=n(4),u=n(1420),d=n(1618),p=n(7),m=function(){function e(e,t,n){void 0===n&&(n=!1);var r=this;this.alert=e,this._bulkFactory=t,this._useHighHighlights=n,this._log=l.Monitoring.Logging.getLogger("markAlert"),this._currentState=u.MarkAlertState.from(u.MarkAlertVisualState.initial),this._scheduledState=u.MarkAlertState.from(u.MarkAlertVisualState.active),this._marksMap=new Map,this._shouldInitMark=!0,this._dispose=function(){r._marksMap.clear(),r.alert.dispose()},this._disposeIfEmpty=function(){0===r._marksMap.size&&r._dispose()}}return Object.defineProperty(e.prototype,"_mark",{get:function(){return this._marksMap.size>0?this._marksMap.values().next().value:p.None},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scheduledState",{get:function(){return this._scheduledState},enumerable:!0,configurable:!0}),e.prototype.scheduleApply=function(e){return this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),a.invariant(e!==u.MarkAlertVisualState.initial,"Cannot schedule change "+this.alert.id+" from "+this._currentState.visualState+" to initial state"),this._currentState.visualState!==u.MarkAlertVisualState.initial||e!==u.MarkAlertVisualState.disposed&&e!==u.MarkAlertVisualState.applied?this._currentState.visualState!==e||this._currentState.updateRanges?this._scheduledState=u.MarkAlertState.updateVisualState(this._currentState,e):this._scheduledState=null:(this._scheduledState=null,this._currentState=u.MarkAlertState.from(u.MarkAlertVisualState.disposed),this._dispose()),this},e.prototype.scheduleUpdate=function(){this._scheduledState=u.MarkAlertState.updateRanges(this._scheduledState||this._currentState,!0)},e.prototype.apply=function(e){var t=this;return this._throwWhenNotAllowedState(e),this._throwWhenInFinaleState(e),e&&this.scheduleApply(e),this.pending?(this.rangeChange().forEach(function(e){t._handleBasicEvent(e.rawMark)}),this.change().filter(function(e){return e.rawMark.length>0}).forEach(function(e){"apply"===e.action?t._handleApplyEvent(e.rawMark):t._handleBasicEvent(e.rawMark)}),this._mark):(a.invariant(this.is(u.MarkAlertVisualState.disposed)||this.not(u.MarkAlertVisualState.disposed)&&!this._shouldInitMark,"Mark "+this.alert.id+" is in invalid state "+this._currentState.visualState),this._mark)},e.prototype._iterateOverMarkAlerts=function(e,t){var n=0;e.forEach(function(e){var r=e.rawMark,i=e.ma;r.forEach(function(e){"create"===e.action?i._setMarkAndCheckFinaleState(e.id,p.Option.of(t[n])):"remove"===e.action&&i._removeMark(e.id),n++}),i._disposeIfEmpty()})},e.prototype._handleMultipleHighlights=function(e,t){var n=this,r=e.map(function(e){return[e,t(e)]}).filter(function(e){e[0];return e[1].filter(function(e){return 0!==e.rawMark.length||(n._log.warn("rawAction must have rawMark array",{rawAction:e.action}),!1)}).nonEmpty()}).map(function(e){return{ma:e[0],rawMark:e[1].map(function(e){return e.rawMark}).get()}});if(0!==r.length){var i=a.ArrayUtils.flatMap(r.map(function(e){return e.rawMark})),o=this._bulkFactory(i);this._iterateOverMarkAlerts(r,o)}},e.prototype.applyWith=function(e){var t=e.concat([this]);this._handleMultipleHighlights(t,function(e){return e.rangeChange()}),this._handleMultipleHighlights(t,function(e){return e.change().map(function(e){if("apply"===e.action)throw new a.InvariantError("'Apply' action cannot be applied in bulk");return e})})},Object.defineProperty(e.prototype,"id",{get:function(){return this.alert.id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mark",{get:function(){try{return this._throwWhenInFinaleState(),this._shouldInitMark?(this._shouldInitMark=!1,this.apply()):this._mark}catch(e){return p.None}},enumerable:!0,configurable:!0}),e.prototype._setMarkAndCheckFinaleState=function(e,t){this._throwWhenInFinaleState(),this._setMark(e,t)},e.prototype._setMark=function(e,t){this._shouldInitMark=!1,this._marksMap.set(e,t)},e.prototype._removeMark=function(e){this._marksMap.delete(e)},Object.defineProperty(e.prototype,"pending",{get:function(){return null!==this._scheduledState&&(this._scheduledState.visualState!==this._currentState.visualState||this._scheduledState.updateRanges)},enumerable:!0,configurable:!0}),e.prototype.is=function(e){return this._currentState.visualState===e},e.prototype.not=function(e){return this._currentState.visualState!==e},e.prototype.canBeChanged=function(e){return e&&this._currentState.visualState===u.MarkAlertVisualState.applied?e===u.MarkAlertVisualState.disposed:this.not(u.MarkAlertVisualState.applied)&&this.not(u.MarkAlertVisualState.disposed)},e.prototype.isOrWillBe=function(e){return null===this._scheduledState?this._currentState.visualState===e:this._scheduledState.visualState===e},e.prototype.willBe=function(e){return this._scheduledState&&this._scheduledState.visualState===e},e.prototype.change=function(){a.invariant(this.pending,"Next state should be scheduled to change it from "+this._currentState+" for "+this.alert.id);var e=this._transition();return e.from.visualState===e.to.visualState?p.None:p.Some(this._raw(e))},e.prototype.rangeChange=function(){return this._rawRangeUpdate(this._getTransition())},e.prototype._handleBasicEvent=function(e){var t=this,n=this._bulkFactory(e);e.forEach(function(e,r){if("remove"===e.action)t._removeMark(e.id);else{var i=p.Option.of(t._marksMap.get(e.id)).flatMap(function(e){return e}).orElseL(function(){return p.Option.of(n[r])});t._setMark(e.id,i)}}),this._disposeIfEmpty()},e.prototype._handleApplyEvent=function(e){var t=this,n=function(){return t.alert.hideApplied()};this._handleBasicEvent(e),requestAnimationFrame(function(){t.mark.fold(function(){c.Observable.timer(150).subscribe(n)},function(e){try{c.Observable.merge(c.Observable.timer(300),e.fromEvent("animationend"),e.fromEvent("animationcancel")).first().subscribe(n)}catch(e){t._log.error("Cannot animate applied alert",e,{alertId:t.alert.id,currentState:t._currentState}),n()}})})},e.prototype._getTransition=function(){return a.invariant(this.pending,"Next state should be scheduled to change it from "+this._currentState+" for "+this.alert.id),{from:this._currentState,to:this._scheduledState}},e.prototype._transition=function(){var e=this._getTransition();return this._currentState=r.__assign({},e.to,{updateRanges:!1}),this._scheduledState=null,e},e.prototype._rawRangeUpdate=function(e){var t=this;return e.to.updateRanges&&this.alert.hasNewRangeForUpdate?e.from.visualState===u.MarkAlertVisualState.initial||e.to.visualState===u.MarkAlertVisualState.disposed&&e.from.visualState===u.MarkAlertVisualState.applied?(this.alert.applyPendingRangesUpdate(),p.None):this.alert.applyPendingRangesUpdate().filter(function(e){var t=e.addedHighlightedRanges,n=e.removedHighlightedRanges;return t.length>0||n.length>0}).map(function(n){var r=n.addedHighlightedRanges,o=n.removedHighlightedRanges,a=s.Lens.getSortOrder(t.alert.alertType);return{action:"updateRanges",rawMark:o.map(function(e){return i.Mark.getRemoveAction({id:e.rangeId,range:function(){return e}},i.Mark.RemoveType.partial)}).concat(r.map(function(n){return i.Mark.getCreateAction({id:n.rangeId,range:function(){return n},classes:d.getMarkClasses({state:e.from.visualState,lensType:t.alert.alertType,animate:!1,useHighHighlights:t._useHighHighlights}),order:a})}))}}):p.None},e.prototype._raw=function(e){var t=this,n=this._classes(e),o=s.Lens.getSortOrder(this.alert.alertType),a=[this.alert.highlightRange].map(function(e){return{id:e.rangeId,range:function(){return e},order:o}});if(e.from.visualState===u.MarkAlertVisualState.initial)return{action:"create",rawMark:a.map(function(e){return i.Mark.getCreateAction(r.__assign({},e,{classes:n}))})};if(e.to.visualState===u.MarkAlertVisualState.disposed){return{action:"remove",rawMark:(e.from.visualState===u.MarkAlertVisualState.applied?[{id:this.alert.id+"_applied",range:function(){return t.alert.appliedRange.get()}}]:a).map(function(e){return i.Mark.getRemoveAction(e)})}}return e.to.visualState===u.MarkAlertVisualState.applied?{action:"apply",rawMark:a.map(function(e){return i.Mark.getRemoveAction(e)}).concat([i.Mark.getCreateAction({id:this.alert.id+"_applied",range:function(){return t.alert.appliedRange.get()},classes:n,order:o})])}:{action:"update",rawMark:a.map(function(e){return i.Mark.getUpdateAction(e,n)})}},e.prototype._classes=function(e){var t=e.from,n=e.to;return d.getMarkClasses({state:n.visualState,lensType:this.alert.alertType,animate:t.visualState===u.MarkAlertVisualState.initial||t.visualState===u.MarkAlertVisualState.hidden||n.visualState===u.MarkAlertVisualState.highlighted,useHighHighlights:this._useHighHighlights})},e.prototype._throwWhenNotAllowedState=function(e){a.invariant(this.alert instanceof o.AlertImpl||(!e||e!==u.MarkAlertVisualState.applied),"Applied state isn't allowed for "+this.alert.id)},e.prototype._throwWhenInFinaleState=function(e){a.invariant(e&&this.is(u.MarkAlertVisualState.applied)?e===u.MarkAlertVisualState.disposed:this.not(u.MarkAlertVisualState.disposed),"'"+this._currentState.visualState+"' MarkAlert '"+this.alert.id+"' cannot be changed"+(e?" to '"+e+"' ":""))},e.prototype.toJSON=function(){return{current:this._currentState,scheduled:this._scheduledState,mark:{id:this._mark.map(function(e){return e.id}).getOrElse(void 0),range:this._mark.map(function(e){return e.range}).getOrElse(void 0)},alert:this.alert}},e.prototype.equals=function(e){return this.alert.id===e.alert.id},e.prototype.hashCode=function(){return p.hashCodeOfString(this.alert.id)},e}();t.MarkAlertII=m},1620:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(514),o=n(268),a=n(178),s=n(2),c=function(){function e(e,t,n){this.meta=e,this.cardIndex=t,this.visibleCards=n,this.type=i.LensViewType.lensview,this.kind=i.LensViewKind.active,this.id=this.meta.id,s.invariant(this.cardIndex.forAll(function(e){return e>-1}),"card index shoud be positive number"),s.invariant(void 0!==this.card,"focused lens can not leave with undefined card")}return e._createCards=function(e,t){return t.map(function(t){return i.Card.create(e.id+"_"+t.id,[t],0)})},e.create=function(t,n,i){return new e(t,r.Some(i),this._createCards(t,n))},Object.defineProperty(e.prototype,"card",{get:function(){var e=this;return this.cardIndex.map(function(t){return e.visibleCards[t]})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCardScheduledToDispose",{get:function(){return this.card.exists(function(e){return e.scheduledToDispose})},enumerable:!0,configurable:!0}),e.prototype.add=function(t){var n=e._createCards(this.meta,t),r=this.visibleCards.concat(n).sort(i.Card.comparator),o=this.card.map(function(e){return r.findIndex(function(t){return e.cardId===t.cardId})});return{currentLens:new e(this.meta,o,r),cardsToAdd:n}},e.prototype.remove=function(t){var n=new Set(t.map(function(e){return e.id})),r=this.visibleCards.map(function(e){return n.has(e.activeAlert.id)?e.remove([e.activeAlert]):e}),i=r.filter(function(e){return n.has(e.activeAlert.id)&&e.scheduledToDispose});return{currentLens:new e(this.meta,this.cardIndex,r),cardsToRemove:i}},e.prototype.dispose=function(t){var n=t.cardId,r=this.visibleCards.findIndex(function(e){return e.cardId===n}),i=this.visibleCards[r];return s.invariant(i.scheduledToDispose,"Unexpected dispose. Card does not ready to dispose."),s.invariant(this.card.exists(function(e){return e.cardId!==n})&&this.cardIndex.exists(function(e){return r!==e}),"Should not dispose focused alert"),new e(this.meta,this.cardIndex.map(function(e){return e-(r<e?1:0)}),this.visibleCards.filter(function(e){return e.cardId!==n}))},e.prototype.select=function(t){var n=r.Some(this.visibleCards.findIndex(function(e){return e.activeAlert.id===t.id}));return new e(this.meta,n,this.visibleCards)},e.prototype.findNextAlert=function(){var e=this;return this.cardIndex.flatMap(function(t){return s.ArrayUtils.lookAround(e.visibleCards,t,function(e){return!e.scheduledToDispose})}).map(function(e){return e.value.activeAlert})},e.prototype.updateMeta=function(t){return new e(t,this.cardIndex,this.visibleCards)},e.prototype.hashCode=function(){var e=7;return e=31*e+r.hashCodeOfString(this.id),31*(e=31*e+this.card.hashCode())+this.meta.count},e.prototype.equals=function(e){return this.id===e.id&&this.card.equals(e.card)&&this.meta.count===e.meta.count&&s.ArrayUtils.equals(this.visibleCards,e.visibleCards)},e}();t.FocusedLensViewImpl=c;var l=function(){function e(e,t){this.meta=e,this.visibleCards=t,this.kind=i.LensViewKind.active,this.type=i.LensViewType.advanced,this.id=this.meta.id,this.cardIndex=r.Some(0),s.invariant(this.visibleCards.length>0,"AdvancedLensViewImpl should have at least one card")}return e.create=function(t,n){return new e(t,n.map(i.Card.createFromAlert))},Object.defineProperty(e.prototype,"card",{get:function(){var e=this;return this.cardIndex.map(function(t){return e.visibleCards[t]})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeCardScheduledToDispose",{get:function(){return this.findNextAlert().isEmpty()},enumerable:!0,configurable:!0}),e.prototype.add=function(t){var n=t.map(i.Card.createFromAlert);return{currentLens:new e(this.meta,this.visibleCards.concat(n).sort(function(e,t){return o.Alert.comparator(e.activeAlert,t.activeAlert)})),cardsToAdd:[]}},e.prototype.remove=function(t){var n=new Set(t.map(function(e){return e.id})),r=this.visibleCards.map(function(e){return n.has(e.activeAlert.id)?e.remove([e.activeAlert]):e});return{currentLens:new e(this.meta,r),cardsToRemove:[]}},e.prototype.dispose=function(t){var n=t.cardId,r=this.visibleCards.find(function(e){return e.cardId===n});return s.invariant(void 0!==r,"Unexpected dispose. Unknown card or it is already disposed."),s.invariant(r.scheduledToDispose,"Unexpected dispose. Card does not ready to dispose."),new e(this.meta,this.visibleCards.filter(function(e){return e.cardId!==n}))},e.prototype.select=function(e){return this},e.prototype.findNextAlert=function(){return r.Option.of(this.visibleCards.find(function(e){return!e.scheduledToDispose})).map(function(e){return e.activeAlert})},e.prototype.hashCode=function(){var e=7;return e=31*e+r.hashCodeOfString(this.id),31*(e=31*e+this.card.hashCode())+this.meta.count},e.prototype.equals=function(e){return this.id===e.id&&this.card.equals(e.card)&&this.meta.count===e.meta.count&&s.ArrayUtils.equals(this.visibleCards,e.visibleCards)},e}();t.PremiumLensViewImpl=l;var u=function(){function e(e,t,n,r){void 0===r&&(r=Array.from(t.values()).sort(i.Card.comparator)),this.meta=e,this._cardsHashMap=t,this.cardIndex=n,this.visibleCards=r,this.kind=i.LensViewKind.persistent,this.type=i.LensViewType.plagiarism,this.id=this.meta.id}return e.create=function(t,n,i){var o=s.ImmutableMap.groupBy("cardId",n),a=s.ImmutableMap.patch(new Map,o,e._addAlertsToCard).newMap,c=new e(t,a,r.None);return r.Option.of(n[i]).map(function(e){return c.select(e)}).getOrElse(c)},Object.defineProperty(e.prototype,"activeCardScheduledToDispose",{get:function(){return this.card.exists(function(e){return e.scheduledToDispose})},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"card",{get:function(){var e=this;return this.cardIndex.map(function(t){return e.visibleCards[t]})},enumerable:!0,configurable:!0}),e.prototype.add=function(t){var n=s.ImmutableMap.groupBy("cardId",t),r=s.ImmutableMap.patch(this._cardsHashMap,n,e._addAlertsToCard),o=r.newMap,a=r.addedItems,c=Array.from(o.values()).sort(i.Card.comparator);return{currentLens:new e(this.meta,o,this.card.map(function(e){var t=e.cardId;return c.findIndex(function(e){return e.cardId===t})}),c),cardsToAdd:a}},e.prototype.remove=function(t){var n=s.ImmutableMap.groupBy("cardId",t),r=s.ImmutableMap.patch(this._cardsHashMap,n,e._removeAlertsFromCard).newMap,o=Array.from(r.values()).sort(i.Card.comparator),a=o.filter(function(e){return e.scheduledToDispose});return{currentLens:new e(this.meta,r,this.cardIndex,o),cardsToRemove:a}},e.prototype.dispose=function(t){var n=t.cardId,r=this._cardsHashMap.get(n);s.invariant(void 0!==r,"Unexpected dispose. Unknown card or it is already disposed."),s.invariant(r.scheduledToDispose,"Unexpected dispose. Card does not ready to dispose.");var i=this.visibleCards.findIndex(function(e){return e.cardId===n});s.invariant(-1!==i,"Cannot dispose unknown alert");var o=s.ImmutableMap.remove(n,this._cardsHashMap);return new e(this.meta,o,this.cardIndex.filter(function(){return o.size>0}).map(function(e){return e-(i<e?1:0)}))},e.prototype.select=function(t){var n=this.visibleCards.findIndex(function(e){return e.cardId===t.cardId});s.invariant(-1!==n,"Cannot select unknown alert");var i=this.visibleCards[n].select(t),o=s.ImmutableMap.update(t.cardId,this._cardsHashMap,i);return new e(this.meta,o,r.Some(n))},e.prototype.findNextAlert=function(){var e=this;return s.invariant(this.card.nonEmpty()===this.cardIndex.nonEmpty(),"Lens is in wrong state"),r.Option.map2(this.card,this.cardIndex,function(t,n){return t.nextAlert().orElseL(function(){return t.prevAlert()}).orElseL(function(){return s.ArrayUtils.lookAround(e.visibleCards,n,function(e){return!e.scheduledToDispose}).map(function(e){return e.value.activeAlert})})}).flatMap(function(e){return e}).orElseL(function(){return r.Option.of(e.visibleCards.find(function(e){return!e.scheduledToDispose})).map(function(e){return e.activeAlert})})},e.prototype.hashCode=function(){var e=7;return e=31*e+r.hashCodeOfString(this.id),31*(e=31*e+this.card.hashCode())+this.meta.count},e.prototype.equals=function(e){return this.id===e.id&&this.card.equals(e.card)&&this.meta.count===e.meta.count&&s.ArrayUtils.equals(this.visibleCards,e.visibleCards)},e._addAlertsToCard=function(e,t,n){return n.map(function(e){return e.add(t)}).orElseL(function(){return r.Some(i.Card.create(e,t,0))})},e._removeAlertsFromCard=function(e,t,n){return n.flatMap(function(e){var n=e.remove(t);return n.activeAlertRemoved?n.nextAlert().orElseL(function(){return n.prevAlert()}).map(function(e){return n.select(e)}).orElse(r.Some(n)):r.Some(n)})},e}();t.PlagiarismLensViewImpl=u;var d=function(){function e(e,t,n){this.meta=e,this.visibleCards=t,this.cardIndex=n,this.type=i.LensViewType.lensview,this.kind=i.LensViewKind.persistent,this.id=this.meta.id}return e.create=function(t,n,r){return s.invariant(r.exists(function(e){return!!n[e]}),"Cannot find alert corresponding to the index"),new e(t,r.map(function(t){return i.Card.create(e.ID,n,t)}).fold(function(){return[]},function(e){return[e]}),r.map(function(){return 0}))},Object.defineProperty(e.prototype,"activeCardScheduledToDispose",{get:function(){return!1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"card",{get:function(){var e=this;return this.cardIndex.map(function(t){return e.visibleCards[t]})},enumerable:!0,configurable:!0}),e.prototype.add=function(t){var n=this;return this.card.fold(function(){var o=[i.Card.create(e.ID,t,0)];return{currentLens:new e(n.meta,o,r.Some(0)),cardsToAdd:o}},function(r){return{currentLens:new e(n.meta,[r.add(t)],n.cardIndex),cardsToAdd:[]}})},e.prototype.remove=function(t){var n=this.card.get(),i=n.remove(t),o=i.scheduledToDispose?[i]:[];return{currentLens:new e(this.meta,[i],r.Some(0)),cardsToRemove:o}},e.prototype.dispose=function(){return s.invariant(this.card.exists(function(e){return e.scheduledToDispose}),"Unexpected dispose. Card was not removed or is already disposed."),new e(this.meta,[],r.None)},e.prototype.select=function(t){var n=this.card.get();s.invariant(n.alerts.some(function(e){return e.id===t.id}),"Cannot select unknown alert");var i=n.select(t);return new e(this.meta,[i],r.Some(0))},e.prototype.findNextAlert=function(){return this.card.flatMap(function(e){return e.nextAlert().orElseL(function(){return e.prevAlert()})})},e.prototype.updateMeta=function(t){return new e(t,this.visibleCards,this.cardIndex)},e.prototype.hashCode=function(){var e=7;return e=31*e+r.hashCodeOfString(this.id),31*(e=31*e+this.card.hashCode())+this.meta.count},e.prototype.equals=function(e){return this.id===e.id&&this.card.equals(e.card)&&this.meta.count===e.meta.count},e.ID="readability-card",e}();t.ReadabilityLensViewImpl=d;var p=function(){function e(){this.kind=i.LensViewKind.abstract,this.type=i.LensViewType.proofit,this.meta=a.Lens.createStaticLens({id:a.Lens.SpecialId.Proofit,title:"Proofit"}),this.id=a.Lens.SpecialId.Proofit}return e.create=function(){return e.value},e.prototype.hashCode=function(){return r.hashCodeOfString(this.id)},e.prototype.equals=function(e){return this.id===e.id},e.value=new e,e}();t.ProofitLensViewImpl=p;var m=function(){function e(){this.kind=i.LensViewKind.abstract,this.type=i.LensViewType.success,this.meta=a.Lens.createStaticLens({id:a.Lens.SpecialId.Success,title:"Success"}),this.id=a.Lens.SpecialId.Success}return e.create=function(){return e.value},e.prototype.hashCode=function(){return r.hashCodeOfString(this.id)},e.prototype.equals=function(e){return this.id===e.id},e.value=new e,e}();t.SuccessLensViewImpl=m;var f=function(){function e(){this.kind=i.LensViewKind.abstract,this.type=i.LensViewType.closed,this.meta=a.Lens.createStaticLens({id:a.Lens.SpecialId.Closed,title:"Closed"}),this.id=a.Lens.SpecialId.Closed}return e.create=function(){return e.value},e.prototype.hashCode=function(){return r.hashCodeOfString(this.id)},e.prototype.equals=function(e){return this.id===e.id},e.value=new e,e}();t.ClosedLensViewImpl=f},1621:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(4),o=n(268),a=n(1638),s=function(){function e(e,t,n,r){var a=this;this._alertList=e,this.docId=t,this._environment=n,this._upgradeHook=r,this._log=i.Monitoring.Logging.getLogger("UpgradeViewModel"),this.getAdvancedGroupedLiteAlerts=function(){return a._getGroupedLiteAlerts(o.Alert.isPremium)}}return e.prototype.getAllGroupedLiteAlerts=function(){return this._getGroupedLiteAlerts(function(e){return!o.Alert.isPlagiarism(e)})},e.prototype.openUpgradeUrl=function(e){var t=this;r.Try.of(function(){return t._upgradeHook.fromDenaliDocument(e,t.docId,t.getAllGroupedLiteAlerts())}).flatMap(function(e){return t._environment.actions.openUrl(e)}).recover(function(e){t._log.fatal("unexpected error on open upgrade page",e)})},e.prototype._getGroupedLiteAlerts=function(e){return a.LiteAlert.group(this._alertList.getAllAlertsAsArray().filter(e).map(function(e){return e.toLiteAlert()}))},e}();t.UpgradeViewModelImpl=s;!function(e){var t=function(){function e(){this.getAllAlertsLike=function(){return[]},this.getAdvancedGroupedLiteAlerts=function(){return[]},this.docId="1"}return e.prototype.openUpgradeUrl=function(){},e}();e.Mock=t}(t.UpgradeViewModel||(t.UpgradeViewModel={}))},1622:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(6),s=n(1749),c=n(7),l=n(105),u=n(2),d=40,p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._linesCount=t.props.defaultLinesCount||d,t._wrapper=a.Atom.create(c.None),t._title=a.Atom.create(c.None),t._linesHeight=a.Atom.create(t._linesCount),t._subs=[],t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._subs.push(o.Observable.combineLatest(this.context.screen.remSize,this.context.screen.resize.startWith(u.RxUtils.voidValue),function(e){return e}).switchMap(function(t){return a.Atom.combine(e._wrapper,e._title,function(e,n){return{wrapper:e,title:n,remSize:t}})}).filter(function(e){var t=e.wrapper,n=e.title;return t.nonEmpty()&&n.nonEmpty()}).switchMap(u.RxUtils.Scheduler.rafScheduler).switchMap(u.RxUtils.Scheduler.rafScheduler).subscribe(function(t){var n=t.wrapper,r=t.title,i=t.remSize,o=Math.floor((n.get().offsetHeight-r.get().offsetHeight)/i);e._linesHeight.set(o)}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this,t=this.props.wrapperClass;return i.createElement("div",r.__assign({ref:function(t){return e._wrapper.set(c.Option.of(t))}},a.classes(s.wrapper,t)),i.createElement("div",{className:s.loaderInitial}),i.createElement("div",{className:s.loader1}),i.createElement("div",{className:s.loader2}),i.createElement("div",{className:s.titleWrap,ref:function(t){return e._title.set(c.Option.of(t))}},this.props.children),i.createElement(a.F.div,r.__assign({style:this._linesHeight.view(function(e){return{height:e+"rem"}})},a.classes(s.lines,this.props.linesClass))),i.createElement("div",{className:s.empty}))},t}(l.BaseComponent);t.LinesLoader=p;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return i.createElement(p,{linesClass:s.documentLines},i.createElement("div",{className:s.documentTitleWrap},i.createElement("div",{className:s.documentTitle})))},t}(l.BaseComponent);t.TextLoader=m;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return i.createElement(p,{linesClass:s.lensviewLines,wrapperClass:s.lensviewWrapper},i.createElement("div",{className:s.lensviewTitle}),i.createElement("div",{className:s.lensviewDescr}),i.createElement("div",{className:s.lensviewOpenCard}))},t}(l.BaseComponent);t.LensviewLoader=f},1623:function(e,t,n){"use strict";function r(e,t){if(e.length<=4)return null;var n=i.textdiff(e,t),r=n.from,o=n.to,a=n.oldFragment,s=n.newFragment;if(void 0===s)return null;var c=1===s.length&&r>0&&e[r-1]===s,l=1===a.length&&0===s.length&&t[r-1]===a,u=r,d=s;return(c||l)&&(u=r-1),c&&(d=s+s),l&&(d=a),d.length>3?null:[e.substring(0,u),d,e.substring(o)]}Object.defineProperty(t,"__esModule",{value:!0});var i=n(179);!function(e){function t(e){return null!==e&&null!==e.match(/["'”][.,;]/)}function n(e){return null!==e&&e.replace(/\s/g,"").length<3&&null!==e.match(/[.,;:!?\\\/-]/)}function r(e){return null!==e&&null!==e.match(/,,/)}function i(e){return null!==e&&1===e.length&&/["'”’]/.test(e)}function o(e){return null!==e&&1===e.length&&null!==e.match(/[a-z]/i)}function a(e){return null!==e&&e.match(/[.,;:!?\\\/-]\s*[a-z]/i)}function s(e,s){return i(s)?e.deleteApostrophe:t(s)?e.deleteQuote:n(s)?e.deletePunctuation:r(s)?e.deleteDoubleComma:o(s)?e.deleteLetter:a(s)?e.deletePunctuationBeforeLetter:e.deleteAll}e.getClass=s}(t.Strike||(t.Strike={})),t.calcDiff=r},1624:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(268),o=n(532),a=n(1408),s=n(1442),c=n(1398),l=o.Card.createFromAlert(new i.AlertImpl(i.Alert.generate(1),i.InternalAlertOps.mock,c.RangeManager.mock));t.FakeCard=function(e){var t=e.cardsVM,n=e.marksVM,i=e.pageVM;return r.createElement(a.BaseCard.Wrapper,null,r.createElement(s.Mini,{card:l,context:t.getContext(l.activeAlert),marksVM:n,pageViewModel:i}))}},1638:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3);!function(e){function t(e){return Object.values(e.reduce(function(e,t){var n=t.category;return void 0===e[n]&&(e[n]=r.__assign({},t,{count:0})),e[n].count+=1,e},{})).sort(function(e,t){return t.count-e.count})}e.group=t}(t.LiteAlert||(t.LiteAlert={}))},1641:function(e,t){e.exports={clearfix:"_de91e2-clearfix",dropZoneElement:"_de91e2-dropZoneElement",active:"_de91e2-active",dropzone:"_de91e2-dropzone",progressContainer:"_de91e2-progressContainer",message:"_de91e2-message",dropzoneMiddleblock:"_de91e2-dropzoneMiddleblock",hovered:"_de91e2-hovered"}},1654:function(e,t){e.exports={wrapper:"_0a2856a7-proofit-wrapper",proofitWrapper:"_5abade03-proofit-proofitWrapper",proofitDetailsWrapper:"_28465730-proofit-proofitDetailsWrapper",plansContainer:"_43c6f132-proofit-plansContainer",planTitle:"_244c1c4d-proofit-planTitle",price:"_118b3180-proofit-price",mostPopular:"_d3308475-proofit-mostPopular",planWrapper:"_a97573f5-proofit-planWrapper",planWrapperActive:"_a4258e1c-proofit-planWrapperActive _a97573f5-proofit-planWrapper",planWrapperDisabled:"_b3db8c03-proofit-planWrapperDisabled _a97573f5-proofit-planWrapper",plans:"_f5683d44-proofit-plans",planContainer:"_bd1c5b4b-proofit-planContainer",button:"_5253e156-proofit-button",paymentWarning:"_58123434-proofit-paymentWarning",fadeIn:"_d942aef3-proofit-fadeIn",loader:"_cfcbfed8-proofit-loader",iconContainer:"_12b32125-proofit-iconContainer",jetIcon:"_34b9acc0-proofit-jetIcon",rocketIcon:"_6649cfbb-proofit-rocketIcon",planLoading:"_7a498fec-proofit-planLoading",orderButton:"_4a3ca41f-proofit-orderButton _5253e156-proofit-button",descriptionDisabled:"_83c9f8fd-proofit-descriptionDisabled"}},1655:function(e,t){e.exports={successLens:"_741af8f4-success_lens-successLens",successContainer:"_76e2808c-success_lens-successContainer",successIcon:"_821fcb71-success_lens-successIcon",successTitle:"_12bdcf41-success_lens-successTitle",successContent:"_204b92e6-success_lens-successContent",animationWrapper:"_1baff2f2-success_lens-animationWrapper",textWrapper:"_660094fb-success_lens-textWrapper",fadeOutStart:"_e51bfd48-success_lens-fadeOutStart",fadeOutEnd:"_1fe47883-success_lens-fadeOutEnd _e51bfd48-success_lens-fadeOutStart",fadeInStart:"_c0597604-success_lens-fadeInStart",fadeInEnd:"_839a04ec-success_lens-fadeInEnd _c0597604-success_lens-fadeInStart",visible:"_a74c9355-success_lens-visible",transitionDelay:"_fa87dcb6-success_lens-transitionDelay"}},1656:function(e,t){e.exports={infoButton:"_1a4e38a4-stats-infoButton",infoIcon:"_21d2fd17-stats-infoIcon",wrapper:"_57192845-stats-wrapper",statisticsWrapper:"_d0017550-stats-statisticsWrapper",blockWrapper:"_62bd17a0-stats-blockWrapper",headerBlock:"_23b27535-stats-headerBlock",bodyBlock:"_68fa4340-stats-bodyBlock",sectionHeaderFont:"_54326cfc-stats-sectionHeaderFont",sectionHeaderUnderline:"_418f4725-stats-sectionHeaderUnderline",sectionHeaderWrapper:"_3f20a55c-stats-sectionHeaderWrapper _418f4725-stats-sectionHeaderUnderline",modalHeader:"_4fafcb89-stats-modalHeader",row:"_18d9754b-stats-row",halfRow:"_7afe3df5-stats-halfRow _18d9754b-stats-row",number:"_706a39d4-stats-number",time:"_a42ae385-stats-time",numberTitle:"_4661ab06-stats-numberTitle",timeTitle:"_92763578-stats-timeTitle",numberTitleWrapper:"_7483ae81-stats-numberTitleWrapper",progress:"_8401b7de-stats-progress",progressLabel:"_03031159-stats-progressLabel",progressStatistics:"_1c17536b-stats-progressStatistics",readabilityDescr:"_93797973-stats-readabilityDescr",loaderHolder:"_448f72c9-stats-loaderHolder",loaderHeader:"_3402f79e-stats-loaderHeader",loader:"_c8e3c6a7-stats-loader",emptyBodySvgPath:"_41d794a8-stats-emptyBodySvgPath",emptyBodyContainer:"_d25324e3-stats-emptyBodyContainer",emptyBodyText:"_34ba5413-stats-emptyBodyText",descriptionTooltip:"_1f054130-stats-descriptionTooltip",downloadPdfReportButton:"_ebc4eb7a-stats-downloadPdfReportButton",preparingForReportLabel:"_f796d300-stats-preparingForReportLabel",downloadPdfSpinner:"_c8bae786-stats-downloadPdfSpinner",loaderContainer:"_618ed19b-stats-loaderContainer",downloadIcon:"_b32c896e-stats-downloadIcon"}},1657:function(e,t,n){e.exports=n.p+"files/6a838499830b0c29490541ffdb6154b7/bg.jpg"},1658:function(e,t,n){"use strict";function r(e){switch(e.type){case"alertUndoDenali":return o.createElement(p.Notification.Undo,{action:e.undoHandler,content:h.getUndoNotificationContent(e.args),classes:{button:_.alertUndoBtn,icon:_.alertUndoIcon,content:_.alertUndoContent,wrapper:_.alertUndoWrapper}});case"error":return o.createElement(p.Notification.Error,i.__assign({},{theme:v}));case"unauthorizedError":return o.createElement(p.Notification.UnauthorizedError,i.__assign({},{theme:v}));case"offline":var t=e.args.reconnectTime;return o.createElement(p.Notification.Offline,i.__assign({},{reconnect:u.noop,reconnectTime:t,theme:v}));case"unknownConnectionError":case"serverError":return o.createElement(p.Notification.ServerError,i.__assign({},{theme:v}));case"connectionWSError":return o.createElement(p.Notification.ConnectionWSError,i.__assign({},{theme:v}));case"clientConnectionError":return o.createElement(p.Notification.ClientConnectionError,i.__assign({},{theme:v}));case"slowNetwork":return o.createElement(p.Notification.SlowNetworkError,i.__assign({},{theme:v}));case"checkingIsDown":return o.createElement(p.Notification.CheckingIsDownError,i.__assign({},{theme:v}));case"copyToClipboardFailed":return o.createElement(p.Notification.CopyToClipboardError,i.__assign({},{theme:v}));case"proofitPaymentDeclinedError":var n=e.args,r=n.paymentMethod,a=n.creditCardSuffix;return o.createElement(p.Notification.ProofitPaymentDeclinedError,i.__assign({},{errorMessage:g.getPaymentErrorText(r,a),theme:v}));case"proofitEmptyDocumentError":return o.createElement(p.Notification.ProofitEmptyDocumentError,i.__assign({},{theme:v}));case"proofitDocumentProofreadError":return o.createElement(p.Notification.ProofitDocumentProofreadError,i.__assign({},{theme:v},{navigateToDocuments:e.args.navigateToDocuments}));case"proofitCancelled":return o.createElement(p.Notification.ProofitCancelled,i.__assign({},{theme:v}));case"proofitCompleted":var c=e.args,l=c.email,d=c.documentTitle,f=c.documentDownloadUrl;return o.createElement(p.Notification.ProofitCompleted,i.__assign({},{theme:v,documentTitle:d,documentDownloadUrl:f,email:l}));case"alertsNothingFound":return o.createElement(p.Notification.AlertsNothingFound,null);case"generic":var b=e.args,y=b.message,w=b.description;return o.createElement(p.Notification,i.__assign({},{title:y,children:w,theme:v}));case"documentUploaded":return o.createElement(m.DocumentUploadedNotification,{navigateToDocument:e.args.navigateToDocument,linkClassName:_.link});case"denaliDocumentUploaded":return o.createElement(p.Notification.DenaliDocumentUploadedNotification,{theme:v,navigateToDocuments:e.args.navigateToDocuments});case"documentSizeExceeded":return o.createElement(m.DocumentSizeExceededNotification,{headerClassName:_.header});case"documentTypeUnsupported":return o.createElement(m.DocumentTypeUnsupportedNotification,null);case"trackedChangesIsUnsupported":return o.createElement(m.DocumentWithTrackedChangesIsUnsupported,{linkClassName:_.link});case"documentIsEmpty":return o.createElement(m.DocumentIsEmptyNotification,null);case"documentUploadGeneralError":return o.createElement(m.DocumentUploadErrorGeneralNotification,null);case"isTemporaryDownloadError":return o.createElement(m.IsTemporaryDownloadErrorNotification,null);case"downloadDocumentNotFoundError":return o.createElement(m.DownloadDocumentNotFoundNotification,null);case"documentNotFoundError":return o.createElement(p.Notification.DocumentNotFoundError,i.__assign({navigateToDocuments:e.args.navigateToDocuments},{theme:v}));case"blobDownloadUnsupported":return o.createElement(p.Notification.BlobDownloadUnsupportedNotification,i.__assign({},{theme:v}));case"selfUpdateBlocker":return o.createElement(p.Notification.SelfUpdateNotification,i.__assign({},{theme:v}));default:return s.Monitoring.Logging.getLogger("denali.notifications").error("Unrecognized notification type "+e.type),o.createElement(p.Notification.Error,i.__assign({},{theme:v}))}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(8),a=n(6),s=n(4),c=n(105),l=n(513),u=n(2),d=n(1378),p=n(1843),m=n(1426),f=n(1397),h=n(1841),g=n(1844),_=n(1497),v={header:_.header,link:_.link};t.defaultDenaliRenderNotification=r;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return i.__extends(t,e),t.prototype._getNotificationClass=function(){var e=this.props.notification.size;switch(e){case"flexible":return _.flexibleNotification;case void 0:return _.fixedNotification;default:return u.assertNever(e)}},t.prototype._isClosable=function(){var e=this.props.notification;return!e.important&&!e.dontCloseOnClick||e.denaliCloseOnClick},t.prototype._getNotificationIcon=function(){var e=this.props.notification.severity,t="flexible"===this.props.notification.size;switch(e){case void 0:case"warn":return o.createElement(l.Icon.NotificationWarning,{className:t?_.alertIconMini:_.alertIcon});case"info":return o.createElement(l.Icon.NotificationInfo,{className:t?_.alertIconMini:_.alertIcon});case"error":return o.createElement(l.Icon.NotificationError,{className:t?_.alertIconMini:_.alertIcon});default:return u.assertNever(e)}},t.prototype.render=function(){var e=this.props,t=e.notification,n=e.hide,r=e.render,s="flexible"===t.size;return o.createElement("div",null,o.createElement("div",i.__assign({key:t.id},a.classes(_.notification,this._getNotificationClass())),o.createElement("div",{className:s?_.miniContentWrapper:_.contentWrapper,key:t.id},this._getNotificationIcon(),o.createElement("span",{className:s?_.miniContent:_.content},r(t)),this._isClosable()&&o.createElement(d.Button,{name:"closeNotification",className:s?_.closeIconWrapperMini:_.closeIconWrapper,onClick:function(){return n(t.id)}},o.createElement(l.Icon.Close,{className:_.closeIcon,width:12})))))},t}(o.Component);t.NotificationView=b;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subscriptions=[],t._renderNotification=function(e){return r(e)},t._hide=function(e){t.props.notifications.hide(e)},t._bottom=t.props.wootricViewModel.map(function(e){return t.props.notifications.items.switchMap(function(t){if(0===t.length)return a.Atom.create({});var n=t[0].severity;return void 0===n||"info"===n||"warn"===n?e.height.view(function(e){return e>0?{bottom:e+"px"}:{}}):a.Atom.create({})})}).getOrElse(void 0),t}return i.__extends(t,e),t.prototype.componentDidMount=function(){this._subscriptions.push(this.props.denaliEditorModel.dontFreezeWhen(this.props.notifications.items.view(function(e){return e.some(function(e){return"error"===e.severity})}),"notificationCenter"))},t.prototype.componentWillUnmount=function(){this._subscriptions.forEach(function(e){return e.unsubscribe()}),this._subscriptions=[]},t.prototype._getNotificationClass=function(e){var t=e.severity;switch(t){case void 0:case"info":case"warn":return _.bottomNotification;case"error":return a.classes(_.topNotification,_.overContent).className;default:return u.assertNever(t)}},t.prototype.render=function(){var e=this;return o.createElement(a.F.div,i.__assign({},a.classes(_.notificationWrapper,this.props.notifications.items.map(function(t){return t.length>0?e._getNotificationClass(t[0]):""})),{style:this._bottom}),this.props.notifications.items.map(function(t){return t.map(function(t){var n=o.createElement(b,{key:t.id,notification:t,hide:e._hide,render:e._renderNotification});return"error"===t.severity?o.createElement(f.Overlay,{key:t.id,preventClose:!0,overlayType:"light",alignment:"top-center",animate:!0,theme:{content:_.overlayContent,contentFaded:_.overlayContentFaded}},n):n})}))},t}(c.BaseComponent);t.DenaliNotificationCenter=y},1659:function(e,t,n){"use strict";function r(e){var t=e.value,n=e.className,r=e.progressClass,l=s.Atom.create(!1);requestAnimationFrame(function(){return requestAnimationFrame(function(){return l.set(!0)})});var d=a.Observable.combineLatest(c.RxUtils.toObservable(t),l,function(e,t){return t?e+"%":0});return o.createElement(s.F.div,i.__assign({},s.classes(u.wrapper,n)),o.createElement(s.F.div,i.__assign({},s.classes(u.progress,r),{style:{width:d}})))}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(8),a=n(16),s=n(6),c=n(2),l=n(1381),u=n(1742);t.Progress=r,function(e){e.Label=function(e){var t=e.value,n=e.className,r=t>66?"Good":t>50?"Average":"Below average";return o.createElement(l.Small,{className:n},r)}}(r=t.Progress||(t.Progress={}))},1660:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(6),o=n(268),a=n(178),s=n(2),c=n(1440),l=function(){function e(){}return e.get=function(e){return{create:function(t){return new u(e,t)}}},e}();t.LensManagerFactory=l;var u=function(){function e(e,t){var n=this;this._counters=e,this._ops=t,this.lenses=i.Atom.create({}),this.createLens=function(e,t,r){return void 0===t&&(t=a.Lens.Meta.empty),new a.Lens.LensImpl(e,t,n._ops,r)},this._addLensMeta=function(e,t){return function(n){return n.map(function(t){return t.appendMeta(e)}).getOrElseL(t)}},this._subtractLensMeta=function(e){return function(t){return t.map(function(t){return t.appendMeta(a.Lens.Meta.reverse(e))}).filter(function(e){return e.count>0})}}}return e.prototype.addAlerts=function(e){var t=this,n=c.DocumentCounters.empty;this.lenses.modify(function(i){var o=e.reduce(function(e,r){n=c.DocumentCounters.join(n,r.counters);var i=a.Lens.Meta.fromAlert(r.counters);return s.ObjectUtils.immutableUpdate(e,r.lensId,t._addLensMeta(i,function(){return t._createLensImpl(r)}))},i),l=r.__assign({},a.Lens.Meta.empty,{count:e.filter(function(e){return e.belongsToAllAlerts}).length,unreadCount:0});return s.ObjectUtils.immutableUpdate(o,a.Lens.SpecialId.AllAlerts,t._addLensMeta(l,function(){return t.createLens(a.Lens.Info.allAlerts,l,function(e){return e.belongsToAllAlerts})}))}),this._counters.modify(function(e){var t=c.DocumentCounters.join(e,n);return s.invariant(c.DocumentCounters.isValid(t),"counters, after add, can not be below zero"),t})},e.prototype.removeAlerts=function(e){var t=this,n=c.DocumentCounters.empty;this.lenses.modify(function(i){var o=e.reduce(function(e,r){n=c.DocumentCounters.join(n,r.counters);var i=a.Lens.Meta.fromAlert(r.counters);return s.ObjectUtils.immutableUpdateOption(e,r.lensId,t._subtractLensMeta(i))},i),l=r.__assign({},a.Lens.Meta.empty,{count:e.filter(function(e){return e.belongsToAllAlerts}).length,unreadCount:n.unread});return s.ObjectUtils.immutableUpdateOption(o,a.Lens.SpecialId.AllAlerts,t._subtractLensMeta(l))}),this._counters.modify(function(e){var t=c.DocumentCounters.join(e,c.DocumentCounters.reverse(n));return s.invariant(c.DocumentCounters.isValid(t),"counters, after subtract, can not be below zero"),t})},e.prototype.readAlerts=function(e){this.lenses.modify(s.ObjectUtils.immutableModifyOption(e.lensId,this._readAlerts)),e.isRead||this._counters.lens("unread").modify(function(e){return e-1})},e.prototype.toString=function(){return JSON.stringify(this,void 0,2)},e.prototype.toJSON=function(){return this.lenses.get()},e.prototype._createLensImpl=function(e){return this.createLens(o.Alert.toLens(e),a.Lens.Meta.fromAlert(e.counters))},e.prototype._readAlerts=function(e){return e.map(function(e){return e.appendMeta(s.ObjectUtils.update(a.Lens.Meta.empty,{unreadCount:e.unreadCount>0?e.unreadCount-1:0}))})},e}();t.LensManager=u},1661:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),i=n(16),o=n(26),a=n(7),s=n(18),c=n(2),l=n(268),u=n(1398),d=function(){function e(e,t,n){var d=this;this._positionManager=e,this._capiClient=t,this._log=r.Monitoring.Logging.getLogger("AlertManager",r.Logging.LogLevel.DEBUG),this._addAlerts=new o.Subject,this._removeAlerts=new o.Subject,this._flush=new o.Subject,this._alertsPerRevision=0,this._queue={},this._queuedAlerts={},this._appliedAlerts=new Map,this._allAlerts={},this._capiAlertsIdMapping={},this.alertEvents=new o.Subject,this.changes=new o.Subject,this._onCapiEvent=function(e){try{switch("alert_received"===e.kind&&d._alertsPerRevision++,e.kind){case"alert_received":case"plagiarism_alert_received":if(!1===e.alert.hidden&&void 0===e.alert.cardLayout)return void d._log.warn("got alert with empty mapping",{pname:e.alert.pname});d._addAlert(l.Alert.create(e.alert,d,d._positionManager));break;case"alert_removed":d._removeAlert(a.Left(e.alertId));break;case"finish":d._log.trace("Alerts per revision (#"+e.revision+"): "+d._alertsPerRevision),d._alertsPerRevision=0;break;case"async_check_finished":d.flushAlerts()}}catch(t){d._log.warn("Cannot handle alert event "+e.kind,t)}},this._validateAlert=function(e){try{var t=!l.Alert.isPremium(e)||void 0!==e.categoryHuman;return t||(d._log.error("Alert without categoryHuman",e),e.dispose()),t}catch(t){d._log.error("Cannot validate alert",t);try{e.dispose()}catch(e){d._log.warn("Cannot dispose invalid alert",e)}return!1}},this._hideAlert=function(e){d._log.debug("_hideAlert(#"+e);var t=d._appliedAlerts.get(e),n=t.undoable,r=t.source;c.invariant(void 0!==n,"Undoable should be registered for alert "+e),d._appliedAlerts.delete(e),d._removeAlertsUnbuffered([e],r,n)},this._dismissAll=function(e){var t=d.getAllAlertsAsArray().filter(function(t){return t.lensId===e.id}),n=function(){d._capiClient.capi.dismissAll(e.category+"/"+e.id)};return d._dismissBatch(t,s.CAPI.FeedbackType.DISMISS_BY_LENS,n)},this._dismissBatch=function(e,t,n){void 0===t&&(t=s.CAPI.FeedbackType.IGNORE),d.flushChanges();var r=e.map(function(e){return e.copy().invalidate()}),i={action:t,commit:function(){r.forEach(function(e){return e.dispose()}),n?n():e.forEach(function(e){return d._commitToCapi(e._raw,t)})},undo:function(){return d._addAlertsUnbuffered(r),r}},o=e.map(function(e){return e.id});return o.filter(function(e){return void 0!==d._queue[e]}).forEach(function(e){return d._queue[e].forEach(function(e){return d._removeQueuedAlert(e)})}),d._removeAlertsUnbuffered(o,l.AlertActionSource.sidebar,i),i},this._applyAlert=function(e,t,n){d._log.debug("_applyAlert(#"+e.id+", rrange: "+e.replaceRange+")"),d.flushChanges(),e.registerAppliedRange();var r=e.replaceRange,i=r.start,o=r.end-r.start,a=d._positionManager.getTextLength(),c=e.copy().invalidate().deregisterRanges(),l=!1,u={action:s.CAPI.FeedbackType.ACCEPTED,replacement:t,commit:function(){l||(d._log.debug("_applyAlert(#"+e.id+"):commit()"),d._removeQueuedAlert(e.id))},undo:function(){l=!0,d._log.debug("_applyAlert(#"+e.id+"):undo()");var n=d._positionManager.getTextLength();n!==a&&d._log.error("Text has changed while uncommitted apply is present. Expected: "+a+", actual: "+n);var r=s.Change.delta((new s.Delta).retain(i).delete(t.length).insert(e.replaceText),n);return d.changes.next(r),d.flushChanges(),c.registerRanges(),d._addAlertsUnbuffered([c]),[c]}};return d._appliedAlerts.set(e.id,{undoable:u,source:n}),d._capiClient.capi.accept(e._raw.id,e._raw.begin,t),o>0&&d.changes.next(s.Change.del(i,o,a)),d.changes.next(s.Change.ins(i,t,a-o)),a=d._positionManager.getTextLength(),d.alertEvents.next({kind:"alert_applied",alert:e}),u},this._alertFeedback=function(e,t,n){if(d._log.debug("_alertFeedback(#"+e.id+", feedbackType: "+t+", source: "+n+")"),t!==s.CAPI.FeedbackType.LOOKED||e.isRead||(d._lensManager.readAlerts(e),e.isRead=!0),t===s.CAPI.FeedbackType.IGNORE||t===s.CAPI.FeedbackType.OFFENSIVE_CONTENT||t===s.CAPI.FeedbackType.WRONG_SUGGESTION||t===s.CAPI.FeedbackType.ADD_TO_DICTIONARY||t===s.CAPI.FeedbackType.LIKE||t===s.CAPI.FeedbackType.DISLIKE){d.flushChanges();var r=e.copy().invalidate(),i={action:t,replacement:e.replaceText,commit:function(){r.dispose(),d._commitToCapi(e._raw,t)},undo:function(){return d._addAlertsUnbuffered([r]),[r]}};return d._removeAlertsUnbuffered([e.id],n,i),i}return d._commitToCapi(e._raw,t),{action:t,commit:c.noop,undo:function(){return[]}}},this._onRangeChanged=function(e){var t=e.filter(u.RangeWithId.hasAlertId).filter(function(e){return(e.type===l.Alert.RangeType.HIGHLIGHT||e.type===l.Alert.RangeType.HIGHLIGHT_IGNORE&&0===e.length)&&!d._appliedAlerts.has(e.alertId)}).map(function(e){return e.alertId});t.length>0&&(d._log.debug("Range[s] changed "+t),t.forEach(function(e){return d._removeAlert(a.Right(e))}),d.flushAlerts())},this._lensManager=n.create(this),this.createLens=this._lensManager.createLens,this.lenses=this._lensManager.lenses,t.events.filter(function(e){return"before_finish"===e.kind}).subscribe(function(){return d.flushAlerts()}),t.events.filter(function(e){return"session_started"===e.kind}).do(function(){return d._invalidateAlerts()}).switchMap(function(){return i.Observable.merge(t.events.filter(function(e){return"finish"===e.kind}).first().mapTo("alert"),t.events.filter(function(e){return"async_check_finished"===e.kind}).first().mapTo("plagiarism"))}).subscribe(function(e){return d._removeInvalidAlerts(e)}),t.events.subscribe(this._onCapiEvent),e.rangeChanged.subscribe(this._onRangeChanged);var p=i.Observable.interval(250).startWith(0).merge(this._flush);this._addAlerts.merge(this._removeAlerts).buffer(p).filter(function(e){return e.length>0}).subscribe(function(e){return d._addRemoveAlertsBatch(e)}),c.registerDebugHelper("alerts",function(){return d.toString()}),c.registerDebugHelper("triggerRemove",function(e){d._removeAlert(a.Right(e))})}return e.prototype.flushAlerts=function(){this._flush.next()},e.prototype.flushChanges=function(){this.changes.next(s.Change.flush())},e.prototype.getAllAlerts=function(){return this._allAlerts},e.prototype.getAllAlertsAsArray=function(){return c.ObjectUtils.toArray(this._allAlerts)},e.prototype.getAllAlertsAsSortedArray=function(e){var t=this.getAllAlertsAsArray();return(e?t.filter(e):t).sort(l.Alert.comparator)},e.prototype._invalidateAlerts=function(){this._log.debug("Invalidate alerts..."),this.flushAlerts(),this.getAllAlertsAsArray().forEach(function(e){return e.invalidate()})},e.prototype._getTypeFilter=function(e){switch(e){case"alert":return function(e){return!l.Alert.isPlagiarism(e)};case"plagiarism":return function(e){return l.Alert.isPlagiarism(e)};default:return c.assertNever(e)}},e.prototype._removeInvalidAlerts=function(e){var t=this;this._log.debug("Removing invalid alerts by type '"+e+"'..."),this.flushAlerts();var n=this._getTypeFilter(e),i=this.getAllAlertsAsArray().filter(function(e){return!e.isValid&&!t._appliedAlerts.has(e.id)&&n(e)});i.forEach(function(e){return t._removeAlert(a.Right(e.id))}),this._log.debug(i.length+" alerts removed"),this._log.isEnabled(r.Logging.LogLevel.TRACE)&&this._log.trace("Removed alerts",i)},e.prototype._tryToMatchDuplicate=function(e,t){var n=this;return a.Option.of(t.find(function(t){return!t.isValid&&t.isDuplicate(e)})).fold(function(){return n._capiAlertsIdMapping[e._raw.id]=e.id,!1},function(t){return n._log.debug("Merged alert "+e.id+" into "+t.id),delete n._capiAlertsIdMapping[t._raw.id],t.updateRawAlert(e._raw),n._capiAlertsIdMapping[e._raw.id]=t.id,e.dispose(),!0})},e.prototype._addAlert=function(e){this._log.trace("_addAlert(#"+e.id+")"),this._addAlerts.next(e)},e.prototype._addAlertsUnbuffered=function(e){var t=this;this._log.debug("_addAlertsUnbuffered, count = "+e.length);var n=e.filter(this._validateAlert).sort(function(e,t){return t.priority-e.priority}).map(function(e){t._log.trace("Adding alert "+e.id);var n=t._getAlertsWithEqualRanges(e);if(t._tryToMatchDuplicate(e,n));else if(c.invariant(e.allowDuplicates||l.Alert.isAlert(e),"BaseAlertImpl must allow duplicates or be an Alert type"),e.allowDuplicates||!t._tryEnqueueAlert(e,n))return t._allAlerts[e.id]=e}).filter(Boolean);n.length&&(this.alertEvents.next({kind:"alert_added",alerts:n}),this._lensManager.addAlerts(n))},e.prototype._removeAlertInternal=function(e,t){var n=this;this._log.debug("_removeAlertInt(#"+e),a.Option.of(this._allAlerts[e]).fold(function(){return n._removeQueuedAlert(e)},function(r){delete n._allAlerts[e],delete n._capiAlertsIdMapping[r._raw.id],n.alertEvents.next({kind:"alert_removed",alerts:[r],undoable:t,source:l.AlertActionSource.api}),n._lensManager.removeAlerts([r])})},e.prototype._removeAlert=function(e){this._log.trace("_removeAlert(#"+e.fold(function(e){return e},function(e){return e})+")"),this._removeAlerts.next(e)},e.prototype._removeAlertsUnbuffered=function(e,t,n){var r=this;this._log.debug("_removeAlertsUnbuffered "+e);var i=e.filter(function(e){return!r._appliedAlerts.has(e)}).map(function(t){var n=r._allAlerts[t];return void 0!==n?(r._log.trace("_removeAlertsUnbuffered: Remove from alerts list "+t),delete r._allAlerts[t],delete r._capiAlertsIdMapping[n._raw.id],r._nextQueuedAlert(n.id,e).forEach(function(e){return r._addAlertsUnbuffered([e])})):r._removeQueuedAlert(t),n}).filter(Boolean);i.length&&(this.alertEvents.next({kind:"alert_removed",alerts:i,source:t,undoable:n}),this._lensManager.removeAlerts(i))},e.prototype._addRemoveAlertsBatch=function(e){var t=this,n=new Set,r=new Set;e.forEach(function(e){if(e instanceof l.BaseAlertImpl)n.add(e);else{var i=e.fold(function(e){return t._capiAlertsIdMapping[e]},function(e){return e});void 0!==i?r.add(i):t._log.trace("Remove from CAPI: Cannot find internal AlertId. capiId: "+e.swap().get())}});var i=[];n.forEach(function(e){r.has(e.id)&&i.push(e)}),i.forEach(function(e){n.delete(e),r.delete(e.id)}),n.size>0&&this._addAlertsUnbuffered(Array.from(n)),r.size>0&&this._removeAlertsUnbuffered(Array.from(r),l.AlertActionSource.api)},e.prototype._getAlertsWithEqualRanges=function(e){var t=this;return this._positionManager.findByRange(e.highlightRange).filter(u.RangeWithId.hasAlertId).map(function(e){return t._allAlerts[e.alertId]}).filter(Boolean)},e.prototype._tryEnqueueAlert=function(e,t){var n=this,r=t.filter(function(t){return!t.allowDuplicates&&t.lensId===e.lensId&&void 0!==n._allAlerts[t.id]}),i=e;if(r.length>0){c.invariant(1===r.length,"Only one visible alert to one range is expected, got "+r.map(function(e){return e.id})+" while _tryEnqueueAlert("+e.rawId+")");var o=r[0],a=this._queue[o.id]||[],s=void 0;o.extraProperties.priority<e.extraProperties.priority?(s=o.copy(),this._removeAlertInternal(o.id),delete this._queue[o.id]):(i=o,s=e),this._log.debug("Queueing alert "+s.id+" after "+i.id),this._queuedAlerts[s.id]=s,a.push(s.id);var l=a.filter(function(e){return n._queuedAlerts[e]});l.sort(function(e,t){return n._queuedAlerts[e].priority-n._queuedAlerts[t].priority}),this._queue[i.id]=l,l.length!==a.length&&this._log.error("this._queuedAlerts[a] is undefined, sizes: "+l.length+", "+a.length)}return i!==e},e.prototype._nextQueuedAlert=function(e,t){var n=this,r=this._queue[e];if(void 0!==r){delete this._queue[e];var i=r.filter(function(e){return void 0!==n._queuedAlerts[e]&&!t.some(function(t){return t===e})}),o=i.shift();if(void 0!==o){i.length>0?this._queue[o]=i:delete this._queue[o];var s=this._queuedAlerts[o];return delete this._queuedAlerts[o],a.Some(s)}}return a.None},e.prototype._removeQueuedAlert=function(e){this._log.debug("_removeQueuedAlert "+e),a.Option.of(this._queuedAlerts[e]).forEach(function(e){return e.dispose()}),delete this._queue[e],delete this._queuedAlerts[e],delete this._capiAlertsIdMapping[e]},e.prototype._commitToCapi=function(e,t){this._capiClient.capi.reportUserFeedback(e,t)},e.prototype.toString=function(){return JSON.stringify(this,void 0,2)},e.prototype.toJSON=function(){return{lenses:this._lensManager,allAlerts:this._allAlerts,queue:this._queue,queuedAlerts:this._queuedAlerts,idMapping:this._capiAlertsIdMapping}},e}();t.AlertManager=d},1662:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n(26),o=n(0),a=n(7),s=n(4),c=n(107),l=n(2),u=function(){function e(e,t,n,r,l,u,d){var p=this;this.capi=e,this.events=t,this._documentModel=n,this._dialectSettings=r,this._log=s.Monitoring.Logging.getLogger("ObservableCAPIClientImpl"),this._subs=[],this._checkingStateInt=new i.Subject,this._log.debug("Constructing client with _hasAlertsCache = "+u),this._subs.push(this._documentModel.context.skip(1).subscribe(function(t){e.setContext(t),n.score.set(a.None),p._checkingStateInt.next(p.capi.checkingState)})),this._subs.push(this.events.subscribe(function(t){"finish"===t.kind?(p._dialectSettings.dialect.get().isEmpty()&&c.isDialectString(t.dialect)&&p._dialectSettings.setDialectWeak(t.dialect),p._checkingStateInt.next(p.capi.checkingState)):"session_started"===t.kind&&l.getContainerId().then(function(t){e.setOption("gnar_containerId",t)}).catch(function(e){p._log.warn("Can not send user container id",e)})}),this.events.filter(function(e){return"session_started"===e.kind||"queue_msgs_dropped"===e.kind}).switchMap(function(e){return"session_started"===e.kind?o.Observable.empty():o.Observable.of(void 0).delay(1e3)}).subscribe(function(){p._checkingStateInt.next(p.capi.checkingState)}));var m=t.filter(function(e){return"session_started"===e.kind}).skip(1).switchMap(function(){return t.filter(function(e){return"finish"===e.kind}).first().mapTo(!1).startWith(!0)}).startWith(!1),f=this._checkingStateInt.withLatestFrom(m,function(e,t){return t&&"full"===e?"checking":e}).share(),h=f.takeWhile(function(e){return"full"!==e}),g=f.filter(function(e){return"full"===e}).switchMap(function(){return h.combineLatest(o.Observable.timer(5e3),function(e){return e}).startWith("full")});this._subs.push(t.subscribe(function(e){"text_info"===e.kind?n.textInfo.set(a.Some(e.data)):"finish"===e.kind?n.score.set(e.score):"async_check_finished"===e.kind&&p._updateAsyncChecksState()})),this._subs.push(o.Observable.merge(h,g).skipWhile(function(e){return u&&"idle"!==e}).distinctUntilChanged().startWith(d>1?u?"checking":"full":"idle").subscribe(function(e){p._log.debug("Switching checking state to "+e),n.checkingState.set(e)}))}return e.prototype.pushChanges=function(e){this.capi.pushChanges(e),this._checkingStateInt.next(this.capi.checkingState),this._updateAsyncChecksState();r.Change.isDelta(e)&&e.prevLen>200&&e.prevLen+e.length<200&&(this._log.debug("Reseting score to None, not enough text remained"),this._documentModel.score.set(a.None))},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()})},e.prototype._updateAsyncChecksState=function(){this._documentModel.asyncChecksState.set(this.capi.asyncChecksState)},e}();t.ObservableCAPIClientImpl=u;!function(e){function t(e,t){var n=r.Reconnect.getDefaultReconnect(s.Monitoring.Logging.getLogger("CapiHandler"),r.Reconnect.ClientType.capi),a=function(t){return e.next(t)},c=new i.Subject;return c.switchMap(function(e){return"online"===e?o.Observable.of("online"):o.Observable.of("offline").delay(1e4)}).subscribe(function(e){return t.setState({type:"wsCapi",state:{type:e}})}),{onSessionStarted:a,onStartMessageAcknowledged:function(){c.next("online")},beforeAlert:a,onAlert:a,onRemove:a,onSynonyms:a,onPlagiarism:a,onTextInfo:a,onAsyncCheckFinish:a,onError:a,onBeforeFinish:a,onFinish:a,onDisconnect:function(e,t,r,i){return c.next("offline"),n(e,t,r,i)},onQueueMsgDropped:a}}var n=function(){function e(){var e=this;this.events=new i.Subject,this.capi={accept:function(){},reportUserFeedback:function(){},enablePlagiarismSearch:l.noop,disablePlagiarismSearch:l.noop},this.activeAlerts=new Set,this.activeLensIds=new Set,this.fireAdd=function(t){e.activeAlerts.add(t),e.activeLensIds.add(t.cardLayout.group),e.events.next({kind:"before_alert"}),e.events.next({kind:"alert_received",alert:t})},this.fireRemove=function(t){e.activeAlerts.delete(t),e.activeLensIds.delete(t.cardLayout.group),e.events.next({kind:"alert_removed",alertId:t.id})}}return e.prototype.pushChanges=function(){},e}();e.Mock=n,e.getCapiHandler=t}(t.ObservableCAPIClient||(t.ObservableCAPIClient={}))},1663:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(6),o=n(4),a=n(18),s=n(2),c=function(){function e(e,t){this._doc=e,this.documentTitle=t,this.state=i.Atom.create(r.None),this.jobDetails=i.Atom.create(r.None)}return e.prototype.getPlans=function(){return this._doc.getProofitPlans()},e.prototype.placeOrder=function(e){var t=this;return this._doc.placeProofitOrder(e).then(function(e){return t._updateStatus(e.status)}).catch(function(e){o.Monitoring.Logging.getLogger("ProofitModel").warn("Error placing proofit order",e),t.state.set(r.Some({kind:"error",errorType:"unknown"}))})},e.prototype.updateState=function(e){this._updateStatus(e.status),this.jobDetails.set(r.Some({startTime:e.submitted,dueTime:e.due}))},e.prototype._updateStatus=function(e){switch(e){case a.Proofit.JobStatus.building:case a.Proofit.JobStatus.newJob:this.state.set(r.Some({kind:"submitted"}));break;case a.Proofit.JobStatus.completed:this.state.set(r.Some({kind:"finished"}));break;case a.Proofit.JobStatus.cancelled:this.state.set(r.Some({kind:"cancelled"}));break;case a.Proofit.JobStatus.emptyDocument:this.state.set(r.Some({kind:"error",errorType:"emptyDocument"}));break;case a.Proofit.JobStatus.duplicate:this.state.set(r.Some({kind:"error",errorType:"alreadyProofread"}));break;case a.Proofit.JobStatus.paymentError:this.state.set(r.Some({kind:"error",errorType:"payment"}));break;case a.Proofit.JobStatus.unknown:this.state.set(r.None);break;default:this.state.set(r.None)}},e}();t.DocumentProofitModelImpl=c;!function(e){var t=function(){function e(){this.state=i.Atom.create(r.None),this.jobDetails=i.Atom.create(r.None),this.documentTitle=i.Atom.create("My doc")}return e.prototype.getPlans=function(){return Promise.resolve({words:666,turnaroundOptions:[{enabled:!1,label:"30 minutes",minutesToProcess:30,perWord:.24,price:159.84,turnaround:a.Proofit.PlanType.Instant},{enabled:!0,label:"3 hours",minutesToProcess:180,perWord:.12,price:79.92,turnaround:a.Proofit.PlanType.ThreeHours},{enabled:!0,label:"24 hours",minutesToProcess:1440,perWord:.03,price:19.98,turnaround:a.Proofit.PlanType.TwentyFourHours}]})},e.prototype.placeOrder=function(){return Promise.resolve()},e.prototype.updateState=function(){s.noop()},e}();e.Mock=t}(t.DocumentProofitModel||(t.DocumentProofitModel={}))},1664:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(1846),s=n(1499),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this._el.children;this.props.onElementsReady({header:e[0].outerHTML,body:e[1].outerHTML,footer:e[2].outerHTML})},t.prototype.render=function(){var e=this;return i.createElement("div",{ref:function(t){null!==t&&(e._el=t)}},i.createElement(a.PDFReportHeader,{title:this.props.model.title}),i.createElement(a.PDFReportContent,{model:this.props.model}),i.createElement(a.PDFReportFooter,null))},t}(i.Component),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype._prepareHTML=function(e){return'<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><title>Report</title><style>'+("function"!=typeof s.__$extract?"":s.__$extract())+"</style></head><body>"+e+"</body></html>"},t.prototype.render=function(){var e=this,t=this.props.reportViewModel;return i.createElement(o.F.div,{className:s.invisible},t.reportData.view(function(n){return n.map(function(n){return i.createElement(c,{model:n,onElementsReady:function(n){var r=n.header,i=n.footer,o=n.body;return t.generateReport(e._prepareHTML(o),r,i)}})}).orNull()}))},t}(i.Component);t.PDFReportGenerator=l},1665:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(105),a=n(1827),s=function(e){var t=e.header,n=e.description,r=e.measure,o=e.score;return i.createElement("section",{className:a.insightsSection},i.createElement("table",{className:a.insightTable},i.createElement("tbody",null,i.createElement("tr",{className:a.insightHeader},i.createElement("td",{className:a.insightTextHeader},t),i.createElement("td",{className:a.insightScore},o)),i.createElement("tr",{className:a.insightBody},i.createElement("td",{className:a.insightTextCell},n),i.createElement("td",{className:a.insightScoreCell},r)))))};t.PercentInsight=function(e){var t=e.score,n=r.__rest(e,["score"]);return i.createElement(s,r.__assign({},n,{score:("number"!=typeof t||t<0?0:t>100?100:Math.round(t))+"%"}))},t.DecimalInsight=function(e){var t=e.score,n=r.__rest(e,["score"]);return i.createElement(s,r.__assign({},n,{score:""+("number"!=typeof t?0:Math.round(10*t)/10)}))},t.DocumentInsightsSection=o.withContext(function(e,n){var r=e.stats,o=n.textResources;return i.createElement("div",null,i.createElement(t.PercentInsight,{header:o.denali.documentStats.uniqueWordsTitle,description:o.denali.documentStats.report.uniqueWordsDescription,measure:o.denali.documentStats.uniqueWordsTitle,score:r.uniqueWords}),i.createElement(t.PercentInsight,{header:o.denali.documentStats.rareWordsTitle,description:o.denali.documentStats.rareWords,measure:o.denali.documentStats.rareWordsTitle,score:r.rareWords}),i.createElement(t.DecimalInsight,{header:o.denali.documentStats.wordLengthTitle,description:o.denali.documentStats.report.wordLengthDescription,measure:o.denali.documentStats.report.wordLengthMeasure,score:r.wordLength}),i.createElement(t.DecimalInsight,{header:o.denali.documentStats.sentenceLengthTitle,description:o.denali.documentStats.report.sentenceLengthDescription,measure:o.denali.documentStats.report.sentenceLengthMeasure,score:r.sentenceLength}))})},1666:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1850);t.TitleSection=r.TitleSection;var i=n(1847);t.GeneralMetricsSection=i.GeneralMetricsSection;var o=n(1849);t.ScoreSection=o.ScoreSection;var a=n(1848);t.PlagiarismSection=a.PlagiarismSection;var s=n(1851);t.WritingIssuesSection=s.WritingIssuesSection;var c=n(1665);t.DocumentInsightsSection=c.DocumentInsightsSection},1667:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(26),o=n(0),a=n(6),s=n(4),c=n(18),l=n(2),u=n(268),d=n(178),p=n(514),m=function(){function e(e,t){var n=this;this._state=e,this._stateProvider=t,this.cardEvents=new i.Subject,this._currentStateEmitter=a.Atom.create(o.Observable.empty()),this._log=s.Monitoring.Logging.getLogger("FocusedLensManagerImpl"),this._subs=[],this.focusLens=function(e,t,r){if(void 0===r&&(r={}),n._log.debug("Focus Lens "+e),d.Lens.isStaticId(e))return n._currentStateEmitter.set(o.Observable.of(p.LensStateProvider.Applicator.override(n._stateProvider.getStaticLensByLensId(e))));var i=n._state.get(),a=l.ObjectUtils.update(i,{switchOrder:r.order||i.switchOrder,alertSource:t});n._currentStateEmitter.set(n._stateProvider.getLensEventsByLensId(a,e))},this.focusAlert=function(e,t,r){n._log.isEnabled(s.Logging.LogLevel.TRACE)&&n._log.trace("focusAlert("+e+")");var i=n._state.get(),o=l.ObjectUtils.update(i,{switchOrder:r||i.switchOrder,alertSource:t===p.SpecialAlertActionSource.toAllAlerts?u.AlertActionSource.sidebar:t});n._currentStateEmitter.set(n._stateProvider.getLensEventsByAlert(o,e.lensId,e))},this._applyStateEvent=function(e){var t=e.state,r=e.cardsToAdd,i=e.cardsToRemove;l.notEmpty(i)&&n.cardEvents.next({kind:"cards_removed",cards:i}),n._state.set(t),l.notEmpty(r)&&n.cardEvents.next({kind:"cards_added",cards:r})},this._validateState=function(e){var t=e.state,i=e.cardsToRemove;return p.LensState.hasCards(t)&&t.currentLens.activeCardScheduledToDispose?(n._log.debug("Oops. Current alert removed, focusing next one..."),n._nextAlert(t).fold(function(){return r.Right(t.currentLens.kind===p.LensViewKind.active?o.Observable.of(p.LensStateProvider.Applicator.override(n._stateProvider.getStaticLensByLensId(d.Lens.SpecialId.Success))):n._stateProvider.getLensEventsByLensId(t,t.currentLens.id))},function(e){var o=e.alert,a=e.lensId;return t.currentLens.meta.filter(o)?r.Left({state:l.ObjectUtils.update(t,{currentLens:t.currentLens.select(o)}),cardsToAdd:[],cardsToRemove:i}):r.Right(n._stateProvider.getLensEventsByAlert(t,a,o))})):r.Left({state:t,cardsToAdd:[],cardsToRemove:i})},this._subs.push(this._currentStateEmitter.switch().withLatestFrom(this._state,function(e,t){return e(t)}).map(this._validateState).subscribe(function(e){return e.fold(n._applyStateEvent,l.RxUtils.toAtom(n._currentStateEmitter))}),this._state.filter(function(e){return p.LensState.hasCards(e)&&!e.currentLens.activeCardScheduledToDispose}).map(p.LensState.getActiveAlert).switchMap(l.RxUtils.toOptionValueOnly).distinctUntilChanged(function(e,t){return e.id===t.id}).switchMap(l.RxUtils.Scheduler.rafScheduler).subscribe(function(e){return e.sendFeedback(c.CAPI.FeedbackType.LOOKED,u.AlertActionSource.sidebar).commit()}))}return e.prototype.disposeCard=function(e){this._log.debug("Disposing card",e.cardId),this._state.lens("currentLens").modify(function(t){return t.kind!==p.LensViewKind.abstract?t.dispose(e):t})},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype.findNextAlert=function(t,n){var r=this;return("textOrder"===n?p.LensState.getActiveAlert(t).flatMap(function(e){return r._stateProvider.findNextAlertInText(e)}):t.currentLens.findNextAlert().orElseL(function(){return r._stateProvider.findNextAlertInLenses(t)})).map(e.toLensAlert)},e.prototype._nextAlert=function(t){var n=this,i=t.currentLens,o=t.switchOrder;return i.kind===p.LensViewKind.abstract?r.None:i.kind===p.LensViewKind.persistent?i.findNextAlert().map(e.toLensAlert):this.findNextAlert(t,o).orElseL(function(){return n._stateProvider.findPremiumAlert().map(e.toLensAlert)})},e.toLensAlert=function(e){return{alert:e,lensId:e.lensId}},e}();t.DefaultLensStateManagerImpl=m},1668:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n(7),o=n(6),a=n(4),s=n(268),c=n(1422),l=n(2),u=12e3,d=function(){function e(e,t,n,d,p){var m=this;this._engine=e,this._profile=t,this._plagiarismVM=n,this._notifications=d,this._features=p,this._log=a.Monitoring.Logging.getLogger("ReportViewModelImpl"),this.reportData=o.Atom.create(i.None),this.downloadStarted=o.Atom.create(!1),this._requestSent=o.Atom.create(!1),this.beginDownload=function(){return m.downloadStarted.set(!0)},this._finishDownload=function(){m.downloadStarted.set(!1),m._requestSent.set(!1)},this._reportModel=r.Observable.combineLatest(this._engine.documentModel.title.view(function(e){return e||"Untitled"}),this._engine.documentModel.recentDocumentStats.switchMap(l.RxUtils.toOptionValueOnly),this._engine.documentModel.score.switchMap(l.RxUtils.toOptionValueOnly),this._engine.documentModel.counters,this._plagiarismVM.checkingState.switchMap(function(e){return e.percent},function(e,t){return m._features.isPremium?i.Some(m._engine.documentModel.extraSettings.checkedPlagiarism?{score:t,sources:e.sources,state:c.PlagiarismCheckingState.CHECKED}:{state:c.PlagiarismCheckingState.NOT_CHECKED}):i.None}),function(e,t,n,r,o){return i.Some({title:e,author:m._profile.get().fullName,stats:t,score:n.rank,criticalIssues:r.critical,advancedIssues:r.advanced,issues:m._calculateIssues(m._engine.alertsList.getAllAlertsAsArray().filter(s.Alert.isAlert)),plagiarism:o})}),this._subs=[this.downloadStarted.switchMap(function(e){return e?r.Observable.fromPromise(m._prepareDownload()).switchMapTo(m._reportModel.first()).timeout(u).catch(function(e){return m._log.error("Error while preparing PDF report",e),m._notifications.show(m._notifications.create.error()),m._finishDownload(),r.Observable.of(i.None)}):r.Observable.of(i.None)}).subscribe(l.RxUtils.toAtom(this.reportData))]}return e.prototype._prepareDownload=function(){return this._engine.documentModel.extraSettings.checkedPlagiarism&&!this._features.isFree?this._plagiarismVM.recheck():Promise.resolve()},e.prototype.tryToInterrupt=function(){this._requestSent.get()||this._finishDownload()},e.prototype._calculateIssues=function(e){return e.reduce(function(e,t){var n=t.toLiteAlert().categoryHuman;return e[t.lensId]=e[t.lensId]||{},e[t.lensId][n]=e[t.lensId][n]||0,e[t.lensId][n]+=1,e},{})},e.prototype.generateReport=function(e,t,n){this._requestSent.get()||(this._requestSent.set(!0),this._engine.documentModel.generateReport(e,{headerTemplate:t,footerTemplate:n,format:"Letter",marginTop:"70px",marginBottom:"70px"}).then(this._finishDownload))},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e}();t.ReportViewModelImpl=d;!function(e){var t=function(){function e(){this.downloadStarted=o.Atom.create(!1),this.beginDownload=l.noop,this.tryToInterrupt=l.noop,this.generateReport=function(){throw new Error("Method not implemented.")},this.reportData=o.Atom.create(i.None),this.dispose=l.noop}return e}();e.Mock=t}(t.ReportViewModel||(t.ReportViewModel={}))},1669:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(16),a=n(7),s=n(6),c=n(2),l=n(514);!function(e){function t(){return{cards:[],cardsMap:new Map,height:0,active:a.None,activeIndex:a.None,lens:a.None}}e.empty=t}(r||(r={}));var u=function(){function e(e,t,n){var u=this;this._stateHolder=e,this._cardsVM=t,this._screenContext=n,this.setupSidebar=function(){var e=[u._listenRegularHeightChange(),u._listenActiveHeightChange(),u._listenTitleHeightChange(),u._listenViewState(),u._listenViewportUpdate(),u._freezeActiveCardPosition(),u._ensureActiveCardPositionOnResize(),u._listenScrollChange(),u._setScrollPosition()];return{unsubscribe:function(){e.forEach(function(e){return e.unsubscribe()})}}},this._scrollWrapEl=s.Atom.create(a.None),this._viewportEl=s.Atom.create(a.None),this._titleEl=s.Atom.create(a.None),this._scrollUpdated=new o.Subject,this._titleHeight=s.Atom.create(0),this._resizeEvent=o.Observable.fromEvent(window,"resize",c.RxUtils.toVoid).share().startWith(c.RxUtils.voidValue),this._scrollOffset=new o.Subject,this._scrollPosition=s.Atom.create(0),this._viewPort=s.Atom.create({}),this._baseElements=s.Atom.create({active:a.None,regular:a.None}),this._baseHeight=s.Atom.create({active:a.None,regular:a.None}),this._regularHeight=this._baseHeight.view(function(e){return e.regular.map(function(e){return e.height}).getOrElse(0)}),this._viewState=s.Atom.create(r.empty()),this._focusedLens=this._stateHolder.state.view(l.LensState.mapper(function(e){var t=e.alertSource,n=e.currentLens;return n.card.map(function(e){return{visibleCards:n.visibleCards,card:e,cardIndex:n.cardIndex.get(),alertSource:t,currentLens:{id:n.id,count:n.meta.count}}})})),this._activeCard=this._focusedLens.view(c.OptionUtils.map(function(e){return e.card})),this._onUpdate=this._activeCard.switchMap(c.RxUtils.toOptionValueOnly).switchMap(function(e){return u._cardsVM.getState(e)}).map(function(e){return e.transition}).distinctUntilChanged().switchMap(c.RxUtils.Scheduler.rafScheduler).share(),this.updateBasic=function(e,t){switch(t.type){case"active":u._baseElements.modify(function(n){return i.__assign({},n,{active:a.Some({id:t.id,el:e})})});break;case"regular":u._baseElements.modify(function(t){return i.__assign({},t,{regular:a.Some({el:e})})});break;default:c.assertNever(t)}},this.activeCardRendered=o.Observable.combineLatest(this._viewState.view("active"),this._baseHeight).filter(function(e){var t=e[0],n=e[1];return c.isOptionsEq(t.map(function(e){return{id:e.activeAlert.id,height:e.position.height}}),n.active,function(e,t){return e.id===t.id&&e.height===t.height})}).map(function(e){return e[0]}),this._viewportData=s.Atom.combine(this._viewPort,this._screenContext.screen.remSize,function(e,t){return{viewport:e,rem:t}}),c.registerDebugHelper("viewState",function(){return u._viewState.get()}),c.registerDebugHelper("viewStateInfo",function(){var e=u._viewState.get(),t={active:e.active.map(function(e){return{cardId:e.cardId,activeAlert:e.activeAlert.id,position:e.position}}).orNull(),cards:e.cards.map(function(e){return{id:e.cardId,alerts:e.alerts.map(function(e){return e.id})}}),height:e.height,lens:e.lens.map(function(e){return e.id}).orNull()};return JSON.stringify(t,void 0,2)})}return e.prototype.view=function(e){var t=function(t){return t.exists(function(t){return e.id===t})};this._viewState.modify(function(n){return t(n.lens.map(function(e){return e.id}))?n:i.__assign({},r.empty(),{lens:a.Some(e)})});var n=c.RxUtils.lensedAtomWhile(function(e){return t(e.lens.map(function(e){return e.id}))},this._viewState),o=n.view("height");return{lens:e,viewState:n,totalHeight:o,scrollUpdated:this._scrollUpdated,baseElements:{viewport:this._viewportEl,scroll:this._scrollWrapEl,title:this._titleEl}}},e.prototype._listenViewState=function(){var t=this._focusedLens.switchMap(c.RxUtils.toOptionValueOnly).distinctUntilChanged();return o.Observable.combineLatest(t,this._baseHeight,this._titleHeight,this._viewPort,function(e,t,n){return{visibleCards:e.visibleCards,activeCard:e.card,cardIndex:e.cardIndex,alertSource:e.alertSource,currentLens:e.currentLens,basic:t,titleHeight:n}}).filter(function(e){return e.basic.regular.exists(function(e){return e.height>0})}).withLatestFrom(this._stateHolder.lensChanged,function(e,t){return i.__assign({},e,{lensChanged:t})}).scan(e._reduceViewState,r.empty()).subscribe(c.RxUtils.toAtom(this._viewState))},e.prototype._listenViewportUpdate=function(){return this._withResizeEvent(this._viewportEl).switchMap(c.RxUtils.Scheduler.rafScheduler).switchMap(c.RxUtils.toOptionValueOnly).map(function(e){return e.getBoundingClientRect()}).distinctUntilChanged(function(e,t){return e.top===t.top&&e.height===t.height&&e.width===t.width}).subscribe(c.RxUtils.toAtom(this._viewPort))},e.prototype._listenRegularHeightChange=function(){var e=this;return this._withEvents(this._baseElements.view("regular"),this._resizeEvent,this._onUpdate).switchMap(c.RxUtils.Scheduler.rafScheduler).map(c.OptionUtils.map(function(e){return{height:e.el.offsetHeight}})).distinctUntilChanged(function(e,t){return c.isOptionsEq(e,t,function(e,t){return e.height===t.height})}).subscribe(function(t){return e._baseHeight.modify(function(e){return i.__assign({},e,{regular:t})})})},e.prototype._listenActiveHeightChange=function(){var e=this;return this._withEvents(o.Observable.combineLatest(this._baseElements.view("active"),this._activeCard),this._resizeEvent,this._onUpdate).switchMap(c.RxUtils.Scheduler.rafScheduler).filter(function(e){var t=e[0],n=e[1];return t.map(function(e){return e.id}).equals(n.map(function(e){return e.activeAlert.id}))}).map(function(e){return e[0].map(function(e){var t=e.el,n=e.id;return{height:t.offsetHeight,id:n}})}).distinctUntilChanged(function(e,t){return c.isOptionsEq(e,t,function(e,t){return e.height===t.height&&e.id===t.id})}).subscribe(function(t){return e._baseHeight.modify(function(e){return i.__assign({},e,{active:t})})})},e.prototype._listenTitleHeightChange=function(){return this._withResizeEvent(this._titleEl).switchMap(c.RxUtils.Scheduler.rafScheduler).map(function(e){return e.fold(function(){return 0},function(e){return e.offsetHeight})}).subscribe(c.RxUtils.toAtom(this._titleHeight))},e.prototype._freezeActiveCardPosition=function(){var e=this;return this._viewState.view(function(e){return{item:e.active,index:e.activeIndex}}).startWith({item:a.None,index:a.None}).pairwise().subscribe(function(t){var n=t[0],r=t[1],i=c.isOptionsEq(n.item,r.item,function(e,t){return e.cardId===t.cardId}),o=!n.index.equals(r.index);i&&o&&a.Option.map2(n.item,r.item,function(e,t){return t.position.absTop-e.position.absTop}).filter(function(e){return 0!==e}).forEach(function(t){e._scrollOffset.next({offset:t,animate:!1})})})},e.prototype._listenScrollChange=function(){return this._scrollWrapEl.switchMap(c.RxUtils.toOptionValueOnly).switchMap(function(e){return o.Observable.fromEvent(e,"scroll",{passive:!0}).map(function(){return e.scrollTop}).startWith(e.scrollTop)}).subscribe(c.RxUtils.toAtom(this._scrollPosition))},e.prototype._setScrollPosition=function(){var e=this;return this._scrollWrapEl.switchMap(c.RxUtils.toOptionValueOnly).switchMap(function(t){return e._scrollOffset.switchMap(function(e){var n=e.offset,r=e.animate,i=t.scrollTop,a=i+n;return r?c.Animation.createAnimationObservable(i,a,200):o.Observable.of(a)}).do(function(e){t.scrollTop=e}).mapTo(void 0)}).subscribe(this._scrollUpdated)},e.prototype.ensureCardPosition=function(e,t,n){var r=this;void 0===t&&(t=!0),void 0===n&&(n=a.Option.empty());var i=this._viewState.get().cardsMap.get(e);if(!i)throw new c.InvariantError("Cannot get the position for an absent card");var o=this._viewportData.get(),s=o.viewport,l=o.rem,u=this._regularHeight.get(),d=Math.round(3.25*l),p=Math.round(i.position.absTop-this._scrollPosition.get()+s.top),m=n.fold(function(){return r._getCardViewportOffset({top:p,height:i.position.height,baseHeight:u,viewport:s,rem:l})},function(e){return p-e+d+r._getCardViewportOffset({top:e,height:i.position.height,baseHeight:u,viewport:s,rem:l})});return 0===m?{top:p,contentOffset:d}:(this._scrollOffset.next({offset:m,animate:t}),{top:p-m,contentOffset:d})},e.prototype._ensureActiveCardPositionOnResize=function(){var e=this;return this._resizeEvent.withLatestFrom(this.activeCardRendered,this._regularHeight,this._viewportData).filter(function(e){e[0];return e[1].nonEmpty()}).subscribe(function(t){var n=(t[0],t[1]),r=t[2],i=t[3],o=i.viewport,a=i.rem,s=n.get(),c=Math.round(s.position.absTop-e._scrollPosition.get()+o.top),l=e._getCardViewportOffset({top:c,height:s.position.height,baseHeight:r,viewport:o,rem:a});e._scrollOffset.next({offset:l,animate:!1})})},e.prototype._getCardViewportOffset=function(e){var t=e.top,n=e.baseHeight,r=e.height,i=e.rem,o=e.viewport,a=n,s=a+i,c=t-s,l=t+r+a,u=o.top+o.height;if(r>o.height)return t-o.top;if(r+s>o.height){var d=Math.min(s,o.height-r);return t-o.top-d}return c<o.top?c-o.top:l>u?l-u:0},e.prototype._withEvents=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return o.Observable.combineLatest.apply(o.Observable,[e].concat(t)).map(function(e){return e[0]})},e.prototype._withResizeEvent=function(e){return this._withEvents(e,this._resizeEvent)},e._reduceViewState=function(e,t){var n=t.visibleCards,r=t.activeCard,i=t.cardIndex,o=t.alertSource,s=t.currentLens,c=t.basic,u=t.titleHeight,d=t.lensChanged,p=e.lens.filter(function(e){return e.id===s.id}).flatMap(function(){return e.active}),m=p.exists(function(e){return e.cardId!==r.cardId})||p.flatMap(function(){return e.activeIndex}).forAll(function(e){return e===i}),f=!d,h=n.reduce(function(t,n){var r=e.cardsMap.get(n.cardId),i=n.scheduledToDispose?0:c.active.exists(function(e){return n.alerts.some(function(t){return t.id===e.id})})?c.active.map(function(e){return e.height}).getOrElse(0):c.regular.map(function(e){return e.height}).getOrElse(0),a=new l.Card.PositionState.Impl(t.height,i,o!==l.ForceAlertActionSource.forceSidebar&&!!r&&0!==r.position.height&&f&&m),s=n.changePosition(a);return t.cards.push(s),t.cardsMap.set(n.cardId,s),t.height+=i,t},{cards:[],height:u,cardsMap:new Map}),g=h.cards,_=h.height,v=h.cardsMap;return{cards:g,cardsMap:v,height:_,active:a.Option.of(v.get(r.cardId)),activeIndex:a.Some(i),lens:a.Some(s)}},e}();t.ScrollerViewModelImpl=u;!function(e){var t=function(){function e(){this.setupSidebar=function(){return{unsubscribe:c.noop}},this.updateBasic=c.noop,this.activeCardRendered=s.Atom.create(a.Option.empty())}return e.prototype.view=function(){throw new Error("Method not implemented.")},e.prototype.ensureCardPosition=function(){throw new Error("Method not implemented.")},e}();e.Mock=t}(t.ScrollerViewModel||(t.ScrollerViewModel={}))},1670:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(514);t.AlertSwitchOrder=r.AlertSwitchOrder,t.SidebarViewModel=r.SidebarViewModel;var i=n(268);t.AlertActionSource=i.AlertActionSource},1672:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(178),s=n(2),c=n(1614),l=n(1381),u=n(1751),d=n(1533),p=["Conjunctions","Determiners","Fluency","Modifiers","Nouns","Numerals","Prepositions","Pronouns","Punctuation","Syntax","Spelling","Verbs","Word Order"],m=["Conciseness","References","Voice"],f=["Formality","Sensitivity","Variety","Vocabulary","Conventions"];t.AllNavigationLenses=p.map(function(e){return{id:e,category:a.Lens.Category.Accuracy,type:a.Lens.Type.Critical}}).concat(m.map(function(e){return{id:e,category:a.Lens.Category.Clarity,type:a.Lens.Type.Advanced}}),f.map(function(e){return{id:e,category:a.Lens.Category.Effectiveness,type:a.Lens.Type.Advanced}})).map(function(e){return r.__assign({},e,{category:e.category,codeName:e.id,title:e.id,priority:Math.trunc(100*Math.random()),description:"",exclusiveHighlights:!1})}),t.DotsLoader=function(e){var t=e.onTransitionEnd,n=o.Atom.create(!1);return requestAnimationFrame(function(){return requestAnimationFrame(function(){return n.set(!0)})}),i.createElement("span",null,i.createElement(o.F.span,{className:u.dot,style:{opacity:n.view(Number)}},"."),i.createElement(o.F.span,{className:u.dot,style:{opacity:n.view(Number)}},"."),i.createElement(o.F.span,{className:u.dot,style:{opacity:n.view(Number)},onTransitionEnd:t},"."))};var h=5,g=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n._lensesArray=o.Atom.create(Array.from({length:h}).map(function(e,t){return{id:t+"empty",codeName:"",title:"",type:a.Lens.Type.Critical,category:a.Lens.Category.Accuracy,description:"",priority:0,exclusiveHighlights:!1}}).concat(s.ArrayUtils.shuffle(t.AllNavigationLenses))),n._updateLensArray=function(){n._lensesArray.modify(function(e){var t=e.slice(0),n=t.shift();return n&&""!==n.title&&t.push(n),t})},n}return r.__extends(n,e),n.prototype.render=function(){var e=this;return i.createElement("div",{className:u.wrapper},i.createElement(o.F.div,{className:u.checkingWrapper},this._lensesArray.view(function(n){return n.map(function(n,r){var o=n.id,a=n.title;return i.createElement(c.FlowPosition,{key:o,offset:100*r+"%",theme:d},i.createElement(l.P2,{className:u.item},a,r===h&&i.createElement(t.DotsLoader,{onTransitionEnd:e._updateLensArray})))})})))},n}(i.Component);t.Rechecking=g},1673:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(1408),a=n(1442),s=n(1486);t.CardComponent=function(e){var t=e.card,n=e.lensId,c=e.marksVM,l=e.cardsVM,u=e.pageVM,d=e.alignmentVM,p=function(){return i.createElement(a.Mini,{card:t,context:l.getContext(t.activeAlert),marksVM:c,pageViewModel:u})},m=function(){return i.createElement(s.Full,{card:t,lensId:n,marksViewModel:c,alignmentViewModel:d,cardsViewModel:l})};return i.createElement(o.BaseCard.Card,r.__assign({},{renderMiniCard:p,renderFullCard:m},{cardsViewModel:l,cardState:l.getState(t).map(function(e){return[t,e]})}))}},1675:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(7),a=n(6),s=n(105),c=n(514),l=n(1378),u=n(1381),d=n(1502),p=n(513),m=n(1622),f=n(2),h=n(1673),g=n(1487),_=n(1624),v=n(1463),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._lensedVM=t.props.scrollVM.view(t.props.lens),t._lensAlertsCount=t.props.pageViewModel.stateHolder.state.takeWhile(c.LensState.is(t.props.lens.id)).map(c.LensState.mapper(function(e){var t=e.currentLens;return o.Some(t.meta.count)})).switchMap(f.RxUtils.toOptionValueOnly).startWith(t.props.lens.count),t._subs=[],t._activeEl=a.Atom.create(o.None),t._regularEl=a.Atom.create(o.None),t._setActive=function(e,n){return t._activeEl.set(o.Some({el:e,id:n}))},t._setRegular=function(e){return t._regularEl.set(o.Some(e))},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.isMaster&&this._setMaster()},t.prototype.componentDidUpdate=function(){this.props.isMaster?this._setMaster():this._clearSubs()},t.prototype.componentWillUnmount=function(){this._clearSubs()},t.prototype.render=function(){var e=this,t=this.props,n=t.lens,o=t.marksVM,s=t.cardsVM,c=t.pageViewModel,m=t.alignmentVM,b=t.transition,y=t.onTransitionEnd;return i.createElement("div",{key:n.id,className:v.lensWrapper},i.createElement(a.F.div,r.__assign({},a.classes(b.map(function(e){return e.base}),v.headerWrapper),{onTransitionEnd:y}),i.createElement(g.SidebarHeader,{title:n.title,theme:{title:b.map(function(e){return e.title}),wrapper:v.header}},i.createElement(u.Small,{className:v.lensCounter},this._lensAlertsCount),i.createElement(l.Button.Round,{name:"dismiss-all",title:"Dismiss all",className:v.headerBtn,onClick:function(){n.dismissAll(),e.context.gnarSpec.dismissAllButtonClick(f.StringUtils.camelize(n.title),e.context.pageId)}},i.createElement(p.Icon.Ignore,null)))),i.createElement("div",{ref:function(t){return t&&(e._viewportEl=t)},className:v.viewport},i.createElement(a.F.div,r.__assign({},a.classes(v.lensviewContentWrapper,b.map(function(e){return e.base}))),i.createElement(a.F.div,r.__assign({},a.classes(v.scrollWrapper,b.map(function(e){return e.content}))),i.createElement(d.Scroller,{className:v.scroll,lensedVM:this._lensedVM,setActive:this._setActive,setRegular:this._setRegular,onMount:function(t){return t&&(e._scrollEl=t)},onTitleMount:function(t){return t&&(e._titleEl=t)},renderFake:function(){return i.createElement(_.FakeCard,{marksVM:o,pageVM:c,cardsVM:s})},renderCard:function(e){return i.createElement(h.CardComponent,{key:e.cardId,card:e,lensId:n.id,marksVM:o,cardsVM:s,pageVM:c,alignmentVM:m})}},i.createElement(u.P2,{className:v.info},n.description))))))},t.prototype._setMaster=function(){this._setSubs(),this._scrollEl&&(this._scrollEl.scrollTop=0,this._lensedVM.baseElements.scroll.set(o.Some(this._scrollEl))),this._viewportEl&&this._lensedVM.baseElements.viewport.set(o.Some(this._viewportEl)),this._titleEl&&this._lensedVM.baseElements.title.set(o.Some(this._titleEl))},t.prototype._setSubs=function(){var e=this;this._clearSubs(),this._subs.push(this._activeEl.subscribe(function(t){return t.map(function(t){var n=t.el,r=t.id;return e.props.scrollVM.updateBasic(n,{type:"active",id:r})})}),this._regularEl.subscribe(function(t){return t.map(function(t){return e.props.scrollVM.updateBasic(t,{type:"regular"})})}))},t.prototype._clearSubs=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t}(s.BaseComponent);t.Lensview=b,function(e){e.Rechecking=function(e){var t=e.className;return i.createElement(a.F.div,r.__assign({key:"lensview-loader"},a.classes(t,v.rechecking)),i.createElement(m.LensviewLoader,null))}}(b=t.Lensview||(t.Lensview={})),t.Lensview=b},1676:function(e,t,n){"use strict";function r(e,t,n){return s.Observable.create(function(r){var i=e.animate(t,n);return i.oncancel=i.onfinish=function(){return r.complete()},function(){return i.finish()}})}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(8),a=n(6),s=n(0),c=n(2),l=n(105),u=n(1378),d=n(1419),p=n(513),m=n(1755),f=n(32),h="checking-complete",g=164,_=(28-p.Icon.GPath.size)/2,v=p.Icon.GPath.size+2,b=(28-v)/2,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._label=a.Atom.combine(t.props.checking,t.props.minimized,t.props.hasErrors,function(e,n,r){var i=e?t.context.textResources.denali.sidebar.checkingLabel:r?t.context.textResources.denali.sidebar.fixErrorsLabel:t.context.textResources.denali.sidebar.openLabel;return n?"":o.createElement("div",{className:m.labelReveal,key:"label","data-name":i},i)}),t._checkingState=c.Animation.fadeOutState(t.props.checking.skipWhile(function(e){return!1===e})),t._spinnerState=t._checkingState.state.share().startWith(t.props.checking.get()?"inProgress":"end"),t._spinner=t._spinnerState.map(function(e){return"end"!==e?o.createElement(d.Spinner.Svg,{key:"loading",type:"white",size:v,strokeWidth:5,className:"fadeOut"===e?m.fadeOut:void 0,onTransitionEnd:t._checkingState.complete,x:g+b,y:b}):null}),t._logo=s.Observable.combineLatest(t._spinnerState,t.props.minimized,function(e,t){return"inProgress"===e?null:t?[o.createElement(p.Icon.GPath,i.__assign({},a.classes(m.reveal),{transform:"translate("+(g+_)+" "+_+")",key:"logo"})),o.createElement("g",{"data-name":h,key:"complete"})]:o.createElement("g",{"data-name":h,key:"complete"})}),t}return i.__extends(t,e),t.prototype.render=function(){return o.createElement(u.Button,{name:"assistant",className:this.props.minimized.view(function(e){return e?m.mini:m.full}),disabled:this.props.minimized,onClick:this.props.onClick},o.createElement(E,{closed:this.props.minimized},this._logo,this._spinner),this._label)},t}(l.BaseComponent);t.AssistantButton=y;var w=a.lift(function(e){return o.createElement("g",i.__assign({},e))}),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateToOffset=function(e){return e?g:0},t.stateToTransform=function(e){return"translateX("+t.stateToOffset(e)+"px)"},t}return i.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.closed.map(this.stateToTransform).pairwise().switchMap(function(t){return r(e.el,{transform:t},{duration:300,easing:"ease-in",fill:"forwards"})}).subscribe()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){var e=this,t=this.props.closed.get();return o.createElement("svg",{viewBox:"0 0 192 28",className:this.context.environment.has(f.Environment.Flag.supportsSVGTransitions)?m.background:m.edgeBackground},o.createElement("defs",null,o.createElement("mask",{id:"mask"},o.createElement("circle",{cx:14,cy:14,r:14,fill:"#fff"}),o.createElement("rect",{x:14,width:g,height:28,fill:"#fff"}),o.createElement("circle",{cx:14+g,cy:14,r:14,fill:"#fff"})),o.createElement("clipPath",{id:"clip"},o.createElement("circle",{cx:178,cy:14,r:14}),o.createElement("rect",{x:-14,width:192,height:28,fill:"#fff"}))),o.createElement("g",{clipPath:"url(#clip)"},o.createElement("rect",{id:"box",x:"0",y:"0",width:192,height:28,mask:"url(#mask)",ref:function(t){return e.el=t},transform:"translate("+this.stateToOffset(t)+", 0)"})),o.createElement(w,null,this.props.children))},t}(l.BaseComponent)},1678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(1679),a=n(16),s=n(2),c=function(){return n.e(10).then(n.bind(null,1677)).then(function(e){return e.Illustration})};t.getIllustration=function(){var e=new a.BehaviorSubject(o.StaticIllustration);return a.Observable.defer(c).retryWhen(s.Async.OperationRetrier.RetryStrategy.linear(3,1e3)).first().subscribe(e),e.getValue.bind(e)}();var l=function(e){function n(n){var r=e.call(this,n)||this;return t.getIllustration(),r}return r.__extends(n,e),n.prototype.render=function(){return i.createElement("div",null)},n}(i.Component);t.IllustrationPreload=l},1679:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(1762),s=function(e){var t=e.className,n=e.width,s=void 0===n?"11.5rem":n;return i.createElement("div",r.__assign({},o.classes(t,a.wrapper,a.nothingToCheck)),i.createElement("svg",{height:"100%",viewBox:"0 0 181 209",width:s},i.createElement("defs",null,i.createElement("rect",{id:"a",width:"141",height:"100",rx:"15"})),i.createElement("g",{transform:"translate(-51 -60)",fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M0 0h272v288H0z"}),i.createElement("path",{d:"M153.5 269c34 0 37-1.3 37-3s-3-3-37-3-61.5 1.3-61.5 3 27.5 3 61.5 3z",fill:"#F2F3FA"}),i.createElement("g",{transform:"translate(51 69)"},i.createElement("mask",{id:"b",fill:"#fff"},i.createElement("use",{xlinkHref:"#a"})),i.createElement("use",{fill:"#979DFF",xlinkHref:"#a"}),i.createElement("g",{mask:"url(#b)",fill:"#A5AAFE"},i.createElement("path",{d:"M-3.7 138.6V87.4h17.6l-.2 1.3v15.4c0 2.3 1.8 4.2 4.1 4.2h16.5v30.3h-38zm38-41.3v2.7H22V88.2l12.3 9zm6.6-5.5L24.7 80c-.8-.5-1.6-.8-2.5-.8h-30a4.1 4.1 0 0 0-4.2 4.1v59.5c0 2.3 1.9 4.2 4.1 4.2h46.4c2.3 0 4.1-1.9 4.1-4.2V95.2c0-1.3-.6-2.6-1.7-3.4zm193.2-66.5h-58.8a4.1 4.1 0 1 0 0 8.3H234a4.1 4.1 0 1 0 0-8.3m-113.2 76.2H86.5a4.1 4.1 0 1 0 0 8.3h34.3a4.1 4.1 0 1 0 0-8.3m0 17.9h-59a4.1 4.1 0 1 0 0 8.3h59a4.1 4.1 0 1 0 0-8.3m-27.2 18.4H62a4.1 4.1 0 1 0 0 8.3h31.7a4.1 4.1 0 1 0 0-8.3M53.1 41H23.3a4.1 4.1 0 1 0 0 8.2h29.8a4.1 4.1 0 1 0 0-8.2M-7 49.2H5.8a4.1 4.1 0 1 0 0-8.2H-7a4.1 4.1 0 1 0 0 8.2m58.9 10.5H-7A4.1 4.1 0 1 0-7 68h58.9a4.1 4.1 0 1 0 0-8.3m79.2-20.1a4.7 4.7 0 1 0-.1-9.4 4.7 4.7 0 0 0 .1 9.4M73.4 14.5a4.7 4.7 0 1 0 .1 9.5 4.7 4.7 0 0 0-.1-9.5M-3.1-8.1a4.7 4.7 0 1 0-.1-9.5 4.7 4.7 0 0 0 0 9.5M19.3-13a4.7 4.7 0 1 0-9.5.2 4.7 4.7 0 0 0 9.5-.1m97.5 150.1a4.7 4.7 0 1 0 .1 9.5 4.7 4.7 0 0 0 0-9.5M186.7-9.2a8.8 8.8 0 1 1 0 17.6 8.8 8.8 0 0 1 0-17.6m0 25.9a17.1 17.1 0 1 0 0-34.2 17.1 17.1 0 0 0 0 34.2M25.2 33a4.1 4.1 0 1 0 0-8.3 8.8 8.8 0 0 1 0-17.6 4.1 4.1 0 1 0 0-8.2 17.1 17.1 0 0 0 0 34.1m131.5 13.8a4.1 4.1 0 0 0-4.2 4.1 8.8 8.8 0 0 1-17.6 0 4.1 4.1 0 0 0-8.2 0 17.1 17.1 0 0 0 34.1 0 4 4 0 0 0-4.1-4M73.6 30a4.1 4.1 0 0 0-4.1 4.1v25.2a4.1 4.1 0 0 0 8.2 0V34a4 4 0 0 0-4.1-4.1M-3.2-.5a4.1 4.1 0 0 0-4.1 4.1v25.2a4.1 4.1 0 0 0 8.3 0V3.6C1 1.3-1-.5-3.2-.5m94.8 63.9c2.2 0 4.1-1.8 4.1-4.1V14.4a4.1 4.1 0 0 0-8.3 0v44.9c0 2.3 1.9 4.1 4.2 4.1m17.7-75.2a4.1 4.1 0 0 0-4.1 4.2v66.9a4.1 4.1 0 0 0 8.2 0v-67a4 4 0 0 0-4.1-4M35.8 20.6a4.1 4.1 0 0 0 5.9 0l4.2-4.2 4.3 4.2a4.1 4.1 0 1 0 5.9-5.8l-4.3-4.3L56 6.2A4.1 4.1 0 1 0 50.2.4l-4.3 4.3L41.7.4a4.1 4.1 0 0 0-5.9 5.8l4.3 4.3-4.3 4.3a4.1 4.1 0 0 0 0 5.8m92.1-14.4a4.1 4.1 0 0 0 5.8 0L138 2l4.3 4.2A4.1 4.1 0 1 0 148 .4L144-4l4-4a4.1 4.1 0 1 0-5.8-5.9L138-9.7l-4.3-4.3a4.1 4.1 0 0 0-5.8 5.9L132-4l-4 4.4a4.1 4.1 0 0 0 0 5.8m103.8 54.6l-13.7-9c-1.4-1-3.2-1-4.5 0L202 59.3l-12.8-7.5c-1.4-.8-3-.7-4.4.1l-13.2 8.8a4.1 4.1 0 1 0 4.6 7l11-7.4 12.9 7.4c1.3.8 3 .8 4.4 0l11.3-7.6 11.4 7.5a4.1 4.1 0 0 0 4.6-6.9M62.8 91c.8 0 1.6-.3 2.3-.7l11-7.4 13 7.5c1.3.8 3 .7 4.3-.1l11.4-7.6 11.4 7.6a4.1 4.1 0 0 0 4.5-7l-13.6-9c-1.4-1-3.2-1-4.6 0l-11.6 7.6-12.8-7.5c-1.4-.7-3-.7-4.4.2l-13.2 8.8a4.1 4.1 0 0 0 2.3 7.5m94.6-77.2a4.1 4.1 0 0 0-4.2 4.1v19.4a4.1 4.1 0 0 0 8.3 0V17.8a4 4 0 0 0-4.1-4.1"})),i.createElement("rect",{fill:"#8383EF",mask:"url(#b)",x:"20",y:"29",width:"63",height:"85",rx:"5"})),i.createElement("rect",{fill:"#FFF",x:"67",y:"94",width:"63",height:"85",rx:"5"}),i.createElement("path",{d:"M117.5 186H69a5 5 0 0 1-5-5v-22.2",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("g",{strokeLinecap:"round"},i.createElement("path",{fill:"#FFF",d:"M167.7 169.5v-41.2l-4.3-5.7-9.9 9.7-29.1-5.3 1.2-6.6 22.7 2.2 17.9-20.7 11.6-4.5v-5.1h-2.5l-2.4-2.2-.6-4H171l1.3-6.6.6-8.7 1.6-3.1 21.7 2.2 1.6 92.2-5.6 7.4z"}),i.createElement("path",{d:"M123.8 124.2h-4l-6.3.3a6.4 6.4 0 0 1-2.5-3.3c-.4-1.4-.3-2.8.4-4.4l14.6 3-2.2 4.4zm56.4-16.8l-3.8-2-1.4-6.9 2.6-1.3.5-5.5H174l-1.4-4-.8-1.8-1.5.4 2.3-6.2v-7.2l2.4 3.4 5.2 1.8 1.9.5 1 2.3 3.5.8.5 1.6-1.3 2.1V87l2.2 2.2 1.4 1-2.3 4.3v4l2.3.8-1.4 3.4-3.1 3.3-2.4 1.4z",fill:"#A6ADC9"}),i.createElement("path",{d:"M180.7 64.6c-2.3 1.4 7.8.9 13.2 14.3 3 .5 4.2-1 3.6-4.5a21 21 0 0 0 8 11.3c5 3 14 8.2 16.6 11.9 2.7 3.6 2.5 10.1-1.4 12.1-2.7 1.3-.9.8 5.3-1.6l4-5.8.7-6.5-2.9-5.3-4.8-3.8-6-4.7-4.2-6.5-1.9-7.6-2.5-4.9-3.8-2h-4.4l-2.7 1.6-1.7 2-2.4-1-1.3 1.9-3.9-1-6.2-.5c.7-.5.2-.3-1.3.6z",fill:"#F2F3FA"}),i.createElement("path",{d:"M184.1 259.8l2 1.2c1.7-.1 3-.5 3.8-1.2.7-.5 1-1.4.8-2.5l-5.3-.2-1.3 2.7z",fill:"#A6ADC9"}),i.createElement("path",{d:"M164.4 123c1 2.8 2.6 6 7.7 5.1 5-.8 1.9-6.2-2.1-6.2s-6.6-1.6-5.6 1.1z",fill:"#F2F3FA"}),i.createElement("path",{d:"M208 173.3l.5 7.8c2.4 1.3 4 1.4 4.6.3.6-1.2.6-2.8 0-4.8l-2.7-4.8-2.4 1.5z",fill:"#A6ADC9"}),i.createElement("path",{d:"M196.1 127l-6.2 7.7c-1.3 2.1-1.3 6.5 0 13.3 2 10 2 18.4 0 29.3-1.3 7.3-1.9 33.7-1.9 79.2h3l3.5-61.6 1.6-19.7 1.7-10.2-1.7-13.6-1.6-12.3 1.6-12.1zm-3.3-25.5c2.8 2.7 4.4 5 5 7.2.7 2.1 4.5 23.1 11.6 63h1.8l-10.6-67.5-7.8-2.7zm-18.9 73.2l-1 27.8a4 4 0 0 0 1.3 3l4.4 4.3-4.7-35z",fill:"#F2F3FA"}),i.createElement("path",{stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round",d:"M177.9 91.8v5.6l-11.7 4.2-17.8 21.4-22.9-3.3-1.3 6.8 29.1 5.8 10.1-9.9"}),i.createElement("path",{d:"M175 98.7c.2 5.8 2.1 8.6 5.7 8.6s6.5-2.7 8.8-8.1m-19.8 9.7l-6.4 12.2c.7 2.3 2.1 4.6 4.2 6.7v40l-4.9 36.3a8 8 0 0 0 2.2 6.6l10 10.2 6 6.2m-17.5-105.5h9",stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round"}),i.createElement("path",{d:"M174.7 174l9.8 83h6.7c1.4-26 2.7-51 3.8-75.2.9-11 1.7-10.2 1.7-16.1 0-6-2.3-20.4-2.3-24 0-2.3.6-7.1 1.9-14.3",stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round"}),i.createElement("path",{d:"M192.2 86c-3 3.9-4.9 7.8-5.4 11.7l13.8 6.6 10.5 67.2-3.9 1-5.6-24m-9.3 87.7l12 11.3m-36.7-95.2h17.2M180 91.8h-4.5a3 3 0 0 1-3-3v-2.6h-2l2-6.2v-6.2c0-4.5 3.4-9.7 10.7-9.7 5 0 8.4 1 10.2 3 1.4 1.6 2.1 3 2.1 4.2M191 266.4h-22.2c0-1.3 1-2.4 2.2-2.7l11-2.5c2-.7 3-2.1 3-4.1m23-14.1l7.4 5.7-13.5 17.4a3 3 0 0 1-.9-3.4l4.8-10c.7-2.1.2-3.8-1.4-5m6.4-75.7c1 1.8 1.7 3.5 2 5.2.7 2.5-.7 7.7 1 12M208 173v6c0 .8.4 1.6 1 2m-83.4-61.2l-20.7-3.8m6.1 4.9c.5 2 1.8 3.4 3.8 3.8 3 .6 4-1.7 9.2-.6m71.4-59.7a8 8 0 0 1 7.8-3.4c8.7.9 6.3 10.8 11.5 18.5 3.7 5.4 9.2 8.1 11.1 9.7 1 .8 2.6 2.4 3.5 4.4.9 1.9 1 4.2.8 6-.6 5-3.4 10.4-13 10.4",stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round"}),i.createElement("path",{d:"M197 66.5c-.6-1-1.4-1.9-2.5-2.6-1.7-1-3.6 1-1.1 3.3m-34.9 199.3h50.9M173 71c-.8 2.6 1.1 6.8 6.3 6.8h1.2c1 0 1.8.8 1.8 1.8s.8 1.8 1.8 1.8h1.4c.8 0 1.4.6 1.4 1.4v.2c0 .7-.3 1.5-.9 2-.6.5-.7 1.4-.3 2.1.8 1.2 2 2 3.7 2.7m-5.3 170a6 6 0 0 0 4.7.5",stroke:"#3B3E4D",strokeWidth:"2",strokeLinejoin:"round"})),i.createElement("path",{d:"M62 99h-5m6.3-4.6L59 92m7.8-1l-2.5-4.2M72 90v-5",stroke:"#3B3E4D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"}),i.createElement("path",{d:"M77 104v13",stroke:"#15C39A",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}))))},c=function(e){var t=e.className,n=e.width,s=void 0===n?"10rem":n;return i.createElement("div",r.__assign({},o.classes(t,a.wrapper,a.noIssuesFound)),i.createElement("svg",{height:"100%",viewBox:"0 0 148 258",width:s},i.createElement("defs",null,i.createElement("rect",{id:"a",width:"148",height:"105",rx:"15"})),i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M-53-13h272v288H-53z"}),i.createElement("g",{transform:"translate(0 103)"},i.createElement("mask",{id:"b",fill:"#fff"},i.createElement("use",{xlinkHref:"#a"})),i.createElement("use",{fill:"#6FC8E3",xlinkHref:"#a"}),i.createElement("g",{mask:"url(#b)",fill:"#84D5EE"},i.createElement("path",{d:"M102.8-3h32.3L118.6 7 102.8-3zm-7.7 25.2v-20l21.1 13.6a4.3 4.3 0 0 0 4.6 0L143 2.3v20H95zm-4.3 8.6h56.6c2.4 0 4.3-1.9 4.3-4.3V-7.3c0-2.3-2-4.3-4.3-4.3H90.8c-2.4 0-4.3 2-4.3 4.3v33.8c0 2.4 1.9 4.3 4.3 4.3zm43.5 70c-2-1.2-4.7-.5-5.9 1.5l-15.8 27-9.1-8.8a4.3 4.3 0 0 0-6 6.2l13 12.5a4.3 4.3 0 0 0 6.7-.9l18.7-31.6c1.2-2 .5-4.7-1.6-5.9m-118-60.2h61.2a4.3 4.3 0 1 0 0-8.6H16.3a4.3 4.3 0 1 0 0 8.6m0 18.6h61.2a4.3 4.3 0 1 0 0-8.6H16.3a4.3 4.3 0 1 0 0 8.6m107.4 90.4H62.5a4.3 4.3 0 1 0 0 8.6h61.2a4.3 4.3 0 1 0 0-8.6m-20.3-79.9H93a4.3 4.3 0 1 0 0 8.6h10.4a4.3 4.3 0 1 0 0-8.6m0 18H93a4.3 4.3 0 1 0 0 8.6h10.4a4.3 4.3 0 1 0 0-8.6m45.3-18h-29.3a4.3 4.3 0 1 0 0 8.6h29.3a4.3 4.3 0 1 0 0-8.6m-99.4 0h-33a4.3 4.3 0 1 0 0 8.6h33a4.3 4.3 0 1 0 0-8.6m0 18.2h-33a4.3 4.3 0 1 0 0 8.6h33a4.3 4.3 0 1 0 0-8.6m-32.6 76.6a5 5 0 1 0-.2-9.9 5 5 0 0 0 .2 9.9m86.8-108a5 5 0 1 0-9.9 0 5 5 0 0 0 9.9 0M36.9 20.4a5 5 0 1 0-.2-9.9 5 5 0 0 0 .2 9.9m0-18.4a5 5 0 1 0-.2-9.8A5 5 0 0 0 37 2m37.5 111.8a9.1 9.1 0 1 1 0 18.3 9.1 9.1 0 0 1 0-18.3m0 26.9a17.8 17.8 0 1 0 0-35.6 17.8 17.8 0 0 0 0 35.6m72.8-100.3c-2.3 0-4.3 2-4.3 4.3a9.1 9.1 0 0 1-18.3 0 4.3 4.3 0 0 0-8.6 0 17.8 17.8 0 0 0 35.5 0c0-2.4-1.9-4.3-4.3-4.3M17 20.6c2.3 0 4.2-1.9 4.2-4.3V-3.6a4.3 4.3 0 0 0-8.6 0v20c0 2.3 2 4.2 4.3 4.2M77 69.5a4.3 4.3 0 0 0-4.3 4.2l-.2 18.4c0 2.4 1.9 4.3 4.3 4.4 2.4 0 4.3-2 4.3-4.3l.2-18.4c0-2.4-1.8-4.3-4.2-4.3M55.4 19.3a4.3 4.3 0 0 0 6 0l4.5-4.4 4.4 4.4a4.3 4.3 0 1 0 6.1-6L72 8.7l4.4-4.4a4.3 4.3 0 1 0-6-6.1l-4.5 4.4-4.4-4.4a4.3 4.3 0 0 0-6.1 6l4.4 4.5-4.4 4.4a4.3 4.3 0 0 0 0 6.1M13.3 129.8a4.3 4.3 0 0 0 6 0l4.5-4.4 4.5 4.4a4.3 4.3 0 1 0 6-6l-4.4-4.5 4.4-4.4a4.3 4.3 0 1 0-6-6.1l-4.5 4.4-4.4-4.4a4.3 4.3 0 0 0-6.1 6l4.4 4.5-4.4 4.4a4.3 4.3 0 0 0 0 6.1m30.7 7.7c-2.4 0-4.4 2-4.4 4.3V162a4.3 4.3 0 0 0 8.7 0v-20.2c0-2.3-2-4.3-4.4-4.3"}))),i.createElement("path",{d:"M113.6 216.4l-26-58.8 2-6-2-3.6 3.6-29.7 3-16.8H87l-2.2 7.2-8 3.4v-9.2l-17.1-.9 5.4 6.7c.5 2.5.5 3.6 0 3.4-.3-.2-2.8-1.4-7.6-4.7-.6-.3-1.3-2.3-2-5.9h-8l3.8 22.3 4.1 24.2-1.3 3.6 1.3 6v58.8h11.4l6.9-42.7 26.9 42.7h13z",fill:"#FFF"}),i.createElement("path",{fill:"#F1F2FA",d:"M56.5 157.7l31.3-.9 1.5-3.9-1.5-5.9 5.1-41 7.7-30.9h-4.5L85 107.7l-7.9 4.4-2.6 3.2-3.4 1.1-3.6-1.1-2.9-3.2-7.4-4.4-10.3-32.6h-4.1L55.2 147l-1 5.9z"}),i.createElement("path",{d:"M79.2 98c-4.2 1.5-6.4 2.7-6.6 3.8-.3 1.1-.4 6-.4 14.6l4.2-3.4v-5l1-6.2 2.5-3-.7-.7zm.8 57.8l45.1 95.4c2.8 2 3.5 1.4 2.1-1.8L87 155.8h-7z",fill:"#F1F2FA"}),i.createElement("path",{d:"M89.5 111.1c-1.3 4.8-3.8 16-7.5 33.3l1 9.4h5.6l-.8-6.7 4.3-33 7.8-38.5-1.1-1.2c-5.3 21.5-8.4 33.7-9.3 36.7z",fill:"#FFF"}),i.createElement("path",{d:"M73.2 174.8c0-.4 2.6 1.3 3 .6.7-1.1-.4-5.2-1-5.7-2-2-5.6-.3-6.3 2.8-1 4.3-4 29.2-8.9 75h2.2a3193 3193 0 0 0 11-72.7z",fill:"#F1F2FA"}),i.createElement("g",{transform:"translate(22)"},i.createElement("rect",{fill:"#FFF",x:"23.5",y:"12.4",width:"48.2",height:"59.6",rx:"5.6"}),i.createElement("path",{d:"M23.5 55V19.6c0-2.5.3-3.4.8-4.3a5 5 0 0 1 2.1-2.2c1-.5 1.8-.7 4.3-.7h27.4m3.9 0h2.6m4.3.7c.9.5 1.6 1.2 2 2.2.6.9.8 1.8.8 4.3v30.7M65 72H30.5",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("rect",{fill:"#F2F3FA",x:"33.6",y:"23.6",width:"29.1",height:"4.5",rx:"1.1"}),i.createElement("rect",{fill:"#F2F3FA",x:"33.6",y:"32.6",width:"29.1",height:"2.3",rx:"1.1"}),i.createElement("rect",{fill:"#F2F3FA",x:"33.6",y:"39.4",width:"29.1",height:"2.3",rx:"1.1"}),i.createElement("rect",{fill:"#F2F3FA",x:"33.6",y:"46.1",width:"29.1",height:"2.3",rx:"1.1"}),i.createElement("path",{stroke:"#68DEC2",strokeWidth:"2.2",strokeLinecap:"round",d:"M53.8 62.8l2.7 2.5 8.5-7.9"}),i.createElement("path",{d:"M5 7.9a5 5 0 0 0 5 5 5 5 0 0 0-5 5v.1a5 5 0 0 0-5-5 5 5 0 0 0 5-5.1zm92 32.6a5 5 0 0 0 5 5 5 5 0 0 0-5 5.1 5 5 0 0 0-5-5 5 5 0 0 0 5-5z",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("ellipse",{fill:"#3B3E4D",cx:"10.6",cy:"32.1",rx:"1.7",ry:"1.7"}),i.createElement("ellipse",{fill:"#3B3E4D",cx:"21.9",cy:"1.7",rx:"1.7",ry:"1.7"}),i.createElement("ellipse",{fill:"#3B3E4D",cx:"84.6",cy:"24.2",rx:"1.7",ry:"1.7"}),i.createElement("ellipse",{fill:"#3B3E4D",cx:"91.4",cy:"12.9",rx:"1.7",ry:"1.7"})),i.createElement("g",{stroke:"#3B3E4D",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2"},i.createElement("path",{d:"M49 82.4l-2.7-8.3H42l8.5 46.8 4.5 25.8-1 5.5 1.9 4.4v90.7h6.2l11.1-75.6 30.1 48.7m23.7 26.9l-38.4-88.8-.7-1.9.9-4.4-.9-5.5 3.4-27.6"}),i.createElement("path",{d:"M99.2 79.4l1.3-5.3h-4.8l-10.9 34-8.4 3.7c-1 2.8-2.7 4.2-5.4 4.2s-4.6-1.4-5.8-4.2l-7.8-4.5m3.9 140.6v9H40.6v-.8c0-1 .8-2 1.8-2.2l10.5-2c2-.8 3-2.1 3-4m-20.3 9H67m34.7 0h43.8m-2.3 0v-.8c0-1.1-.8-2-1.8-2.2l-9.9-2a7 7 0 0 1-4.5-4.3m-70.1-90.8h21.3m-23.6-4.5h10.1"}),i.createElement("path",{d:"M60.7 83l3-2.2.6 2.2 3.1-3.5.5 2 3.7-2.8v2h2.2L72.4 85l2.9 3.5 3.5 2.2L78 93l2.4 5c-2.5 2.1-3.8 4-3.8 5.5v7.7m-11.3 1c0-4.2-1-7.1-3.5-8.8-1.9-1.3-4-3.3-5.3-5.8"}),i.createElement("path",{d:"M63.2 104.2c1.4-2.8 2-4.8 1.7-6-.3-1.6-1.1-1.6-1.4-1-.3.5-2.8-.7-1-2.4 1.8-1.7-1.7-3 .4-5 1.3-1.3 2.8-2.3 4.3-3M42 74.3c-.4-2.5-.6-4-.5-4.7.9-6 3.2-7.8 5-8.8 3-1.8 4 6 1.8 6m52.1 7.7c.6-2 .8-3.6.7-4.5a14 14 0 0 0-5.5-9.2c-3-1.8-4 6-1.8 6"})))))},l=function(e){var t=e.className,n=e.width,s=void 0===n?"15rem":n;return i.createElement("div",r.__assign({},o.classes(t,a.wrapper,a.everythingIsClear)),i.createElement("svg",{height:"100%",viewBox:"0 0 214 215",width:s},i.createElement("defs",null,i.createElement("rect",{id:"a",width:"141",height:"100",rx:"15"})),i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M-14-59h272v288H-14z"}),i.createElement("g",{transform:"translate(53 14)"},i.createElement("mask",{id:"b",fill:"#fff"},i.createElement("use",{xlinkHref:"#a"})),i.createElement("use",{fill:"#68DEC2",xlinkHref:"#a"}),i.createElement("g",{mask:"url(#b)",fill:"#FFF",fillOpacity:".3"},i.createElement("path",{d:"M-64 140.8V91.1h17.1a4 4 0 0 0-.2 1.2v15a4 4 0 0 0 4 4H-27v29.5h-37zm37-40.1v2.6h-12V91.8l12 8.9zm6.4-5.3l-15.8-11.6a4 4 0 0 0-2.4-.8H-68a4 4 0 0 0-4 4v58a4 4 0 0 0 4 4h45a4 4 0 0 0 4-4V98.6a4 4 0 0 0-1.6-3.2zM177-15a4 4 0 0 0-5.6 1.5l-14.8 25.2-8.5-8.2a4 4 0 1 0-5.6 5.8L154.6 21a4 4 0 0 0 6.3-.8l17.4-29.6A4 4 0 0 0 177-15m-10 45.7h-57.2a4 4 0 0 0 0 8H167a4 4 0 0 0 0-8m-110.1 74H23.6a4 4 0 0 0 0 8.1H57a4 4 0 0 0 0-8m-.1 17.4H-.3a4 4 0 0 0 0 8H57a4 4 0 0 0 0-8M30.6 140H-.3a4 4 0 0 0 0 8h30.9a4 4 0 0 0 0-8M-8.8 46h-28.9a4 4 0 0 0 0 8h29a4 4 0 0 0 0-8m-58.4 8h12.4a4 4 0 0 0 0-8h-12.4a4 4 0 0 0 0 8M-10 64.2h-57a4 4 0 0 0 0 8h57a4 4 0 0 0 0-8m77-19.6a4.6 4.6 0 1 0-.2-9.2 4.6 4.6 0 0 0 .1 9.2m-56-24.3a4.6 4.6 0 1 0 .1 9.2 4.6 4.6 0 0 0-.1-9.2M-41.6-6.4a4.6 4.6 0 1 0-9.2 0 4.6 4.6 0 0 0 9.2 0M53 139.5a4.6 4.6 0 1 0 .2 9.2 4.6 4.6 0 0 0-.1-9.2M121-2.8a8.6 8.6 0 1 1 0 17.1 8.6 8.6 0 0 1 0-17m0 25a16.6 16.6 0 1 0 0-33.2 16.6 16.6 0 0 0 0 33.3M26.5-13.5a4 4 0 0 0-4-4 8.6 8.6 0 0 1 0-17 4 4 0 0 0 0-8.1 16.6 16.6 0 0 0 0 33.2 4 4 0 0 0 4-4m-62.4 51.6a4 4 0 0 0 0-8 8.6 8.6 0 0 1 0-17.1 4 4 0 0 0 0-8 16.6 16.6 0 0 0 0 33.1M91.8 51.6a4 4 0 0 0-4 4 8.6 8.6 0 0 1-17.1 0 4 4 0 1 0-8 0 16.6 16.6 0 0 0 33 0 4 4 0 0 0-4-4M11.1 35.2a4 4 0 0 0-4 4v24.6a4 4 0 1 0 8 0V39.3a4 4 0 0 0-4-4m17.4 32.5a4 4 0 0 0 4-4V20a4 4 0 1 0-8 0v43.7a4 4 0 0 0 4 4m17.3-73a4 4 0 0 0-4 4v65a4 4 0 1 0 8 0v-65a4 4 0 0 0-4-4m-71.4-1a4 4 0 0 0 5.7 0l4.1-4.1 4.2 4.1a4 4 0 0 0 5.7 0A4 4 0 0 0-6-12l-4.2-4.1 4.2-4.2a4 4 0 0 0-5.7-5.6l-4.2 4.1-4.1-4.1a4 4 0 1 0-5.7 5.6l4.2 4.2-4.2 4.1a4 4 0 0 0 0 5.7m.1 32.5a4 4 0 0 0 5.7 0l4.1-4.2 4.2 4.2a4 4 0 0 0 5.7 0 4 4 0 0 0 0-5.7l-4.2-4.2 4.2-4.1a4 4 0 0 0-5.7-5.7l-4.2 4.2-4.1-4.2a4 4 0 1 0-5.7 5.7l4.2 4.1-4.2 4.2a4 4 0 0 0 0 5.7m89.4-14a4 4 0 0 0 5.7 0L73.6 8l4.2 4.2a4 4 0 0 0 5.7 0 4 4 0 0 0 0-5.7l-4.2-4.1 4.2-4.2a4 4 0 0 0-5.7-5.7l-4.2 4.2-4.1-4.2a4 4 0 1 0-5.7 5.7l4.1 4.2-4.1 4.1a4 4 0 0 0 0 5.7m100.9 53l-13.3-8.8a4 4 0 0 0-4.4 0L135.8 64l-12.5-7.3a4 4 0 0 0-4.2.1l-12.9 8.5a4 4 0 0 0 4.5 6.7l10.7-7.1 12.5 7.3a4 4 0 0 0 4.3-.2l11-7.3 11 7.3a4 4 0 1 0 4.5-6.7M.6 94.5a4 4 0 0 0 2.2-.7l10.8-7.1L26 94a4 4 0 0 0 4.2-.2l11-7.3 11.1 7.3a4 4 0 1 0 4.5-6.7l-13.3-8.8a4 4 0 0 0-4.5 0l-11 7.5-12.5-7.3a4 4 0 0 0-4.3.1l-12.8 8.5a4 4 0 0 0 2.2 7.4m91.8-75.1a4 4 0 0 0-4 4v18.9a4 4 0 1 0 8 0V23.4a4 4 0 0 0-4-4"})),i.createElement("rect",{fill:"#7CA1FF",mask:"url(#b)",x:"-41",y:"-8",width:"69",height:"29",rx:"7"})),i.createElement("path",{d:"M145 215c49.4 0 53.7-1.3 53.7-3s-4.3-3-53.7-3c-49.3 0-89.3 1.3-89.3 3s40 3 89.3 3z",fill:"#F2F3FA"}),i.createElement("g",{transform:"translate(7 1)"},i.createElement("path",{d:"M74 13v12c0 3.1-.3 4.3-1 5.4-.5 1.2-1.4 2-2.6 2.7-1.1.6-2.3.9-5.4.9H46v-1.8c0-6.7.7-9 2-11.5s3.2-4.4 5.7-5.7c2.4-1.3 4.8-2 11.5-2H74z",fill:"#15C39A"}),i.createElement("rect",{fill:"#FFF",width:"69",height:"29",rx:"5"}),i.createElement("rect",{fill:"#F2F3FA",x:"2",y:"7",width:"19",height:"7",rx:"2"}),i.createElement("rect",{fill:"#F2F3FA",x:"29",y:"7",width:"19",height:"7",rx:"2"}),i.createElement("rect",{fill:"#FFF",x:"149",y:"45",width:"53",height:"74",rx:"5"}),i.createElement("path",{d:"M189.7 46h9.9c2.2 0 3 .2 3.8.7a4 4 0 0 1 2 1.9c.4.8.6 1.6.6 3.8v61.2c0 2.2-.2 3-.7 3.8a4 4 0 0 1-1.9 2c-.8.4-1.6.6-3.8.6h-32.1",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("rect",{fill:"#F2F3FA",x:"160",y:"57",width:"32",height:"5",rx:"1"}),i.createElement("rect",{fill:"#F2F3FA",x:"160",y:"67",width:"32",height:"3",rx:"1"}),i.createElement("rect",{fill:"#F2F3FA",x:"160",y:"74",width:"32",height:"3",rx:"1"}),i.createElement("rect",{fill:"#F2F3FA",x:"160",y:"81",width:"32",height:"3",rx:"1"}),i.createElement("rect",{fill:"#F2F3FA",x:"160",y:"88",width:"32",height:"3",rx:"1"}),i.createElement("path",{d:"M100.1 114.1l-10-64.5-26-5.4L44 27.4l2.4-4.3 21.8 12.5L90 36.8l13.6 1.5 1-5.8-4.5-1.3V13l3.5-7.6 9.5-2.8 9.3 2.8 4.7 7.6h19.7l2.4 14.4 4 9.4 5.6 5.5 2 7.3-2 5.2c0 .7-1.9 1.8-5.6 3.5-5.7 2.6-14.3 1.5-21.2-1.2l24.6 37-3.4 3.5-26-33.8v19.1l12.3 31.2h-39.4z",fill:"#FFF"}),i.createElement("path",{d:"M65.6 43.3c-1-.9-1.3-4.3 4.3-2.8a224 224 0 0 1 15.9 5.1c3.2 1.3 4.8 2.7 4.8 4.3a217 217 0 0 1-25-6.6zM167.9 198l-36-103.5-5-11.8V64.2c1.1-2.3 2.2-2.9 3.3-1.7 11.5 12.6 21.1 28.3 24.4 32.8 1 1.4 1-.7 1.2-.8 1.3-.2-20.8-31.4-20.5-31.6 1-.8-2.1-3-2.3-3.5-2.4-6.2-12.6-10.2-14-8.5-1.9 2-.5 12.6 4 31.8l4 9.3 38 106h2.8zM105.2 5.1c-.8 1.5 2 7.6 6.1 8.8 2.8.8 5-.4 7-3.7V4l-3.5-.8h-5.3c-2.3.3-3.7 1-4.3 2z",fill:"#F1F2FA"}),i.createElement("path",{fill:"#A6ADC9",d:"M100.3 18.1v12.6l4 1.9v5.5l3.6 3 3.4.9h6.1l-1-3.9v-5.5l-3.8-.6-4.7-2-2-2v-2.7l1.3-1.6-.5-2-1.6-.7-2.2-1.4-1.6-1.5zM115 201c-2.8 1.8-2.6 3 .3 3.5 3 .5 4.2-.6 3.6-3.5h-4z"}),i.createElement("path",{d:"M118.3 111.6c0-.8 6.8-2 5.7-2.5-2.6-1.5-14.5-1.8-14.5 0 0 2.5 4.4 4.2 4.4 7.8 0 2.4 1.4 30.4 4.4 84.2h2.3l-2.3-89.5zm3.5-105.4c.7 6.7 2.8 9.6 6.3 8.9 5.3-1.1 9.5-2.1 11.2 1.6 1.6 3.8-6 15.6.9 20.5 6.7 5 18.8 12.5 8.5 21.7l10.3-4.8 1.7-4.4v-3.9l-1.7-3.5-2.3-2.3-4-3.6-3-6-1-10.2L146 10l-4.2-5.2-5.6-3.2H130l-5.8 1.7-2.4 3z",fill:"#F1F2FA"}),i.createElement("path",{d:"M161 198.5c-.1 2.2.5 3.6 2 4.1 2.2.7 7.1.6 6.6-.7a21 21 0 0 0-2.3-4l-6.2.6zM43.3 26.5c-4-.4-6.9-1-8.8-1.9-2-.8-3.3-1-4-.4-3.3-1.4-4-2.4-1.8-2.8 2-.5 6.5-1 13.3-1.7l4.7 3.4-3.4 3.4zm113.8 68.1c1.9.5 3.6 1.3 5 2.6 2.2 2 3.7 4.8 3.3 6-.4 1.1-2.3 6.8-6.6 4.3-2.9-1.8-3.7-3-2.4-3.9l-1.8 1.6-.8-5.4-.7-2.1 4-3z",fill:"#A6ADC9"})),i.createElement("path",{d:"M16.6 30H7.4c-2.2 0-3-.2-3.8-.7a4 4 0 0 1-2-1.9c-.4-.8-.6-1.6-.6-3.8V7.4c0-2.2.2-3 .7-3.8a4 4 0 0 1 1.9-2c.8-.4 1.6-.6 3.8-.6h53.7m18.4 0h7m4 0h2m-15 5h4m-61 24h3m77 181.3h41.4m30.2 0h20.3M168.2 101l4 5.6m-6.4-3.6l4.7 6.5m-59.4-76.2v6l-14.2-2-21.6-.4-21.8-13.3-3 4.6 21 16.4 25.4 5.8L120 202h7.6l-2.1-89.5m21.3 44.9l19.8 41.6h8.3a21825.3 21825.3 0 0 0-24.6-71A5945 5945 0 0 0 139 96c-2.4-6.7-3.9-8.8-5-13.3-.6-3-.6-8.9 0-17.5m25.5 33.2l4.1-2.9-18.2-28",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M113 34l-4-1.4a3 3 0 0 1-2-2.8v-13c.2-8.7 4.2-13 12-13 2.6 0 4.9.4 6.8 1M104 88l19.4 2.3m6.1-85.6c-1.2-1-6.3-.5-4.2 6m3.5-3.9c2.7-3 6.1-4.5 10.3-4.5 6.3 0 13.5 4.4 15.6 13.7 2.1 9.2-.6 17.7 8.3 24.4 9 6.6 4.5 19-7.3 19.7m4.3 38.6l1 1.4v6.8a.3.3 0 0 0 .5.2l1.7-2.2 3.7 5.4M53.1 23.6L48.7 21l-15.6 1.3m17.6 5.2c-1.8 1-5.6-.3-7.5-1.5-1.2-.7-3-1.1-5.4-1.1M104 211.3c0-1.3.9-2.4 2.2-2.7l10.9-2.5c2-.7 3-2 3-4.1m-.8 2.8c1.6.7 3.1.9 4.6.5m44.1-6v7.4m20.6 4.7c.4-1.6-.5-3.3-2-4l-7.4-3.4a8 8 0 0 1-4.4-5",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{d:"M107.1 14.8c0 2.4 1.7 6.4 5.3 7.1 2 .4 2.2 3 .9 3.7-1 .6-1.2 7.5 9.9 7.5m.5-3.5a35 35 0 0 0 2.2 17.4M111 39.5c2.2 1.8 4.4 3 6.6 3.3",stroke:"#3B3E4D",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{stroke:"#68DEC2",strokeWidth:"3",strokeLinecap:"round",d:"M189.8 109.1l2.8 2.9 9.1-9.1"}))))};t.StaticIllustration={NothingToCheck:s,NoIssuesFound:c,NothingToNoIssueFound:c,NoIssueFoundToNothingToCheck:s,EverythingIsClear:l}},1739:function(e,t){e.exports={fadeOut:"_583c1971-counter-fadeOut",circular:"_7212d7d8-counter-circular",loader:"_2d763cab-counter-loader",wrapper:"_631352e3-counter-wrapper",roundCounter:"_da2fd64c-counter-roundCounter _631352e3-counter-wrapper",ovalCounter:"_15923206-counter-ovalCounter _631352e3-counter-wrapper",flexCounter:"_d568b9a7-counter-flexCounter _631352e3-counter-wrapper",counterText:"_8bd9cd74-counter-counterText",red:"_6558f765-counter-red",green:"_43734c3d-counter-green",blue:"_768ed2ac-counter-blue",white:"_cdb2d4ce-counter-white",violet:"_e6c8242b-counter-violet",yellow:"_8bc19409-counter-yellow",gray:"_1c3e6139-counter-gray",meter:"_9e487fb4-counter-meter _631352e3-counter-wrapper",lensNavMeter:"_8d46e563-counter-lensNavMeter _9e487fb4-counter-meter _631352e3-counter-wrapper",plagiarismMeter:"_636dd268-counter-plagiarismMeter _631352e3-counter-wrapper",plagiarismIcon:"_66487ef1-counter-plagiarismIcon"}},1740:function(e,t){e.exports={flowPosition:"_c300c45e-flow_position-flowPosition",flowPositionAnimate:"_a526b12d-flow_position-flowPositionAnimate"}},1741:function(e,t){e.exports={wrapper:"_eca59f06-freemium-notification-wrapper",container:"_f21d7ac2-freemium-notification-container",messageContainer:"_c8da2383-freemium-notification-messageContainer",buttonsContainer:"_736759dd-freemium-notification-buttonsContainer",laterButton:"_17ccbab2-freemium-notification-laterButton",title:"_aaaa8f18-freemium-notification-title",imageContainer:"_215845fb-freemium-notification-imageContainer",image1:"_7d7ff4a7-freemium-notification-image1",image2:"_327bc006-freemium-notification-image2",image3:"_156f52d1-freemium-notification-image3",preload:"_fec511bf-freemium-notification-preload",plagiarismIcon:"_dd98f504-freemium-notification-plagiarismIcon",baseTitle:"_63a6a16a-freemium-notification-baseTitle"}},1742:function(e,t){e.exports={wrapper:"_4c81cf65-progress-wrapper",progress:"_8809be61-progress-progress"}},1743:function(e,t){e.exports={radialProgressBar:"_4ae20022-radial_progress_bar-radialProgressBar",progress:"_2c86c102-radial_progress_bar-progress",description:"_7b72251f-radial_progress_bar-description",circle:"_e31f9478-radial_progress_bar-circle",valueCircle:"_c0334d28-radial_progress_bar-valueCircle"}},1744:function(e,t){e.exports={scrolling:"_fcd0d243-scroller-scrolling",scrollWrap:"_002fadb3-scroller-scrollWrap",scroller:"_e361b4c6-scroller-scroller",scrollContent:"_ecf3ebb7-scroller-scrollContent",basicCard:"_725a3b65-scroller-basicCard",fakeCard:"_a849599e-scroller-fakeCard",card:"_e7d4e508-scroller-card _725a3b65-scroller-basicCard",cardAnimate:"_c22f2db6-scroller-cardAnimate",cardHidden:"_f9287ec6-scroller-cardHidden"}},1745:function(e,t){e.exports={path:"_fe66b082-spinner-path",dash:"_cf65428a-spinner-dash",red:"_14aaf1ef-spinner-red",green:"_81739936-spinner-green",blue:"_cfa84fa1-spinner-blue",white:"_e2d1e5f0-spinner-white",violet:"_84f818b3-spinner-violet",yellow:"_d7bc9a88-spinner-yellow",gray:"_4356b6cc-spinner-gray"}},1746:function(e,t){e.exports={base:"_f5b34f6c-upgrade-button-base",baseBig:"_bf0fff60-upgrade-button-baseBig _f5b34f6c-upgrade-button-base",baseSmall:"_758d9260-upgrade-button-baseSmall _f5b34f6c-upgrade-button-base",icon:"_383b0d06-upgrade-button-icon",bigIcon:"_bc4b93b7-upgrade-button-bigIcon _383b0d06-upgrade-button-icon",smallIcon:"_7a7468b4-upgrade-button-smallIcon _383b0d06-upgrade-button-icon",link:"_f4bfcf66-upgrade-button-link"}},1747:function(e,t){e.exports={mark:"_d3a6c9e6-view-model-mark"}},1748:function(e,t){e.exports={wrapper:"_fb8a6317-goals-wrapper",wrapperFree:"_fdcac938-goals-wrapperFree",row:"_58ce62af-goals-row",noBottomMargin:"_235a8f02-goals-noBottomMargin",rowHeader:"_5a39a1a1-goals-rowHeader",experimental:"_258550c6-goals-experimental",goalsTooltip:"_51e2cd0a-goals-goalsTooltip",infoIcon:"_21f716a8-goals-infoIcon",rowFree:"_a2dfb26d-goals-rowFree",freeBlock:"_be72154f-goals-freeBlock",select:"_b26c1722-goals-select",selectIcon:"_4ef8822e-goals-selectIcon",dropdownList:"_47d68139-goals-dropdownList",title:"_eb40ddf5-goals-title",description:"_96b0fb11-goals-description",image:"_d5ffb972-goals-image",hint:"_ca27b3e5-goals-hint",capitalize:"_09fb3e11-goals-capitalize",footerWrapper:"_a3e2dd1c-goals-footerWrapper",checkboxText:"_40ffa00f-goals-checkboxText"}},1749:function(e,t){e.exports={wrapper:"_d52f59d8-loader-wrapper",loader:"_2434e46e-loader-loader",loaderAnimation:"_7a719ce1-loader-loaderAnimation",loaderInitial:"_f4932052-loader-loaderInitial _2434e46e-loader-loader",loaderInitialAnimation:"_d7695d63-loader-loaderInitialAnimation",loader1:"_8d07b0c1-loader-loader1 _2434e46e-loader-loader",loader2:"_1502e572-loader-loader2 _2434e46e-loader-loader",lines:"_323b166e-loader-lines",empty:"_8b1e697a-loader-empty",titleWrap:"_85b746d0-loader-titleWrap",documentTitleWrap:"_2443845c-loader-documentTitleWrap",documentTitle:"_50e8c067-loader-documentTitle",documentLines:"_6eef73be-loader-documentLines",lensviewWrapper:"_34d91495-loader-lensviewWrapper",lensviewTitle:"_7dcc289b-loader-lensviewTitle",lensviewDescr:"_a3d41f93-loader-lensviewDescr",lensviewOpenCard:"_993bd95c-loader-lensviewOpenCard",lensviewLines:"_41e9cc90-loader-lensviewLines"}},1750:function(e,t){e.exports={firstTier:"_01b1a3e8-view-firstTier",firstTierLoader:"_f03899f1-view-firstTierLoader _01b1a3e8-view-firstTier",secondTier:"_44857ce2-view-secondTier",baseLoaderClass:"_7a7bbbfc-view-baseLoaderClass",textLoaderWrap:"_0c721226-view-textLoaderWrap",editor:"_ff9eeda6-view-editor",inlineCardWrapper:"_00a9d91f-view-inlineCardWrapper",invisible:"_1834f7d9-view-invisible"}},1751:function(e,t){e.exports={wrapper:"_c26b1fe0-navigation-wrapper",checkingWrapper:"_fcf1bc0a-navigation-checkingWrapper",dot:"_1a628b7f-navigation-dot",item:"_5574f932-navigation-item"}},1752:function(e,t){e.exports={wrapper:"_465d7896-search_bar-wrapper",view:"_74b26e92-search_bar-view",searchInputWrapper:"_4e1f00a3-search_bar-searchInputWrapper",searchInput:"_ed4184c3-search_bar-searchInput",searchIcon:"_cb4c3b3d-search_bar-searchIcon",counter:"_5f6a958e-search_bar-counter",closeButton:"_29a7c3c9-search_bar-closeButton",roundButton:"_1e667f20-search_bar-roundButton",lessIcon:"_7d524c27-search_bar-lessIcon",lessIconUp:"_aeab67ba-search_bar-lessIconUp _7d524c27-search_bar-lessIcon",overlayContentBase:"_6f9bf7c1-search_bar-overlayContentBase",overlayContent:"_5788fc91-search_bar-overlayContent _6f9bf7c1-search_bar-overlayContentBase",overlayContentFaded:"_79237372-search_bar-overlayContentFaded _6f9bf7c1-search_bar-overlayContentBase"}},1754:function(e,t){e.exports={header:"_78dbd0db-sidebar-header"}},1755:function(e,t){e.exports={wrapper:"_d1ef3993-new_toggler-wrapper",background:"_ee7b8ecc-new_toggler-background",mini:"_f264bd86-new_toggler-mini _d1ef3993-new_toggler-wrapper",full:"_b56c737d-new_toggler-full _d1ef3993-new_toggler-wrapper",fadeOut:"_46ec8d3f-new_toggler-fadeOut",reveal:"_56433d53-new_toggler-reveal",fadeIn:"_f0799383-new_toggler-fadeIn",labelReveal:"_b872bd70-new_toggler-labelReveal _56433d53-new_toggler-reveal",edgeBackground:"_da1c0cf6-new_toggler-edgeBackground _ee7b8ecc-new_toggler-background"}},1756:function(e,t){e.exports={issuesWrapper:"_c8dc64d0-new_toggler-issuesWrapper _44f85ed9-typography-header3",counterWrapper:"_24bff9a9-new_toggler-counterWrapper"}},1757:function(e,t){e.exports={issuesWrapper:"_56f7f837-new_toggler-issuesWrapper _44f85ed9-typography-header3",criticalCounter:"_a15f93c4-new_toggler-criticalCounter",advancedCounter:"_8df184ad-new_toggler-advancedCounter"}},1758:function(e,t){e.exports={wrapper:"_a34f9256-plagiarism-wrapper _98b130ea-card-fullCard",main:"_cceb3394-plagiarism-main",plagiarismTitle:"_51ca1618-plagiarism-plagiarismTitle _1cd6b501-typography-paper",titleUrl:"_0535599f-plagiarism-titleUrl _8d8a7136-typography-p2",titleBy:"_a5862886-plagiarism-titleBy",plagiarismP2:"_83a31e9b-plagiarism-plagiarismP2 _8d8a7136-typography-p2",percent:"_9a4b9b44-plagiarism-percent",ignoreButton:"_a0413cbf-plagiarism-ignoreButton",copyButton:"_c0064a6e-plagiarism-copyButton",textToCopy:"_07f78c92-plagiarism-textToCopy",referenceWrapper:"_327e5d41-plagiarism-referenceWrapper",referenceData:"_e1f8dfbd-plagiarism-referenceData _fb866abb-typography-small",copyableReference:"_66b3a88c-plagiarism-copyableReference",citationStyleSelect:"_9f20df4f-plagiarism-citationStyleSelect",citationStyleIcon:"_540607eb-plagiarism-citationStyleIcon",citationStyleDdlButton:"_d04ce7c6-plagiarism-citationStyleDdlButton",matchesContainer:"_88e5a13d-plagiarism-matchesContainer",matchesContainerLeft:"_6ac55641-plagiarism-matchesContainerLeft",matchesContainerRight:"_528f9510-plagiarism-matchesContainerRight",matchesIndex:"_1061f8ae-plagiarism-matchesIndex _e635cd19-typography-p1",matchesText:"_5202b474-plagiarism-matchesText _8d8a7136-typography-p2",matchesWordsCounter:"_7d95d4ea-plagiarism-matchesWordsCounter _fb866abb-typography-small",leftButton:"_562e6705-plagiarism-leftButton _44f85ed9-typography-header3",leftButtonIcon:"_a85ac869-plagiarism-leftButtonIcon",rightButtonIcon:"_7b72e5d5-plagiarism-rightButtonIcon _a85ac869-plagiarism-leftButtonIcon"}},1759:function(e,t){e.exports={text:"_a8fef03f-plagiarism-text",fullText:"_ebb19d34-plagiarism-fullText",dotPlagiarism:"_9e6d041f-plagiarism-dotPlagiarism",wrapper:"_2ed8ef31-plagiarism-wrapper",domain:"_39407fe9-plagiarism-domain",publication:"_a5805199-plagiarism-publication"}},1760:function(e,t){e.exports={header:"_98554cf9-sidebar-header",lensWrapper:"_1f4d330f-sidebar-lensWrapper _1f4d330f-sidebar-lensWrapper",contentWrapper:"_083e4b02-sidebar-contentWrapper",lensviewContentWrapper:"_991bad10-sidebar-lensviewContentWrapper _083e4b02-sidebar-contentWrapper _991bad10-sidebar-lensviewContentWrapper _083e4b02-sidebar-contentWrapper",scrollWrapper:"_f1d96b3d-sidebar-scrollWrapper",scroll:"_2433166f-sidebar-scroll _2433166f-sidebar-scroll",counter:"_fd15a1df-sidebar-counter",lensCounter:"_e508a5cc-sidebar-lensCounter",headerBtn:"_d9286c22-sidebar-headerBtn",importantLabel:"_7a9304a5-sidebar-importantLabel",info:"_fdb8dcbb-sidebar-info",label:"_4a119527-sidebar-label",accuracy:"_dee4741f-sidebar-accuracy _4a119527-sidebar-label",advanced:"_e489709f-sidebar-advanced _4a119527-sidebar-label",labelGray:"_40c4181a-sidebar-labelGray _4a119527-sidebar-label",rechecking:"_07d2ccb1-sidebar-rechecking",headerWrapper:"_b8e628ce-sidebar-headerWrapper",viewport:"_e408432a-sidebar-viewport _e408432a-sidebar-viewport",leftArrow:"_eb3bb4f3-sidebar-leftArrow",fakeTop:"_f477b5d1-sidebar-fakeTop",lensTitle:"_76fd6cbf-sidebar-lensTitle",dismissWrapper:"_4df8478e-sidebar-dismissWrapper",infoIcon:"_94d8f35e-sidebar-infoIcon",infoTooltip:"_72b447a3-sidebar-infoTooltip"}},1762:function(e,t){e.exports={wrapper:"_a702b44c-static-illustration-wrapper",everythingIsClear:"_b0487933-static-illustration-everythingIsClear",nothingToCheck:"_12ec9543-static-illustration-nothingToCheck",noIssuesFound:"_8c503925-static-illustration-noIssuesFound"}},1763:function(e,t){e.exports={toolbar:"_aa1b0107-synonyms-toolbar",scrollOnlyOnHover:"_ffe7fa44-synonyms-scrollOnlyOnHover",contentWrapper:"_05f7bd12-synonyms-contentWrapper",iconWrapper:"_34541e78-synonyms-iconWrapper",synonymsButton:"_d92b39e6-synonyms-synonymsButton",loader:"_43625484-synonyms-loader",rotation:"_b3a146c1-synonyms-rotation",synonymsPopupWrapper:"_b550bba8-synonyms-synonymsPopupWrapper",wrapper:"_34ba9b44-synonyms-wrapper",emptyResultWrapper:"_2a73980c-synonyms-emptyResultWrapper",activeWord:"_be8872d3-synonyms-activeWord",title:"_bf14bac1-synonyms-title",list:"_d8f290a4-synonyms-list",group:"_991bd7fa-synonyms-group _8d8a7136-typography-p2",groupTitle:"_d89542fb-synonyms-groupTitle",row:"_f395c9e1-synonyms-row _1cd6b501-typography-paper",item:"_2c9a4ee6-synonyms-item"}},1825:function(e,t,n){var r=n(1895);"string"==typeof r&&(r=[[e.i,r,""]]);n(1394)(r,{});r.locals&&(e.exports=r.locals)},1826:function(e,t,n){var r=n(1896);"string"==typeof r&&(r=[[e.i,r,""]]);n(1394)(r,{});r.locals&&(e.exports=r.locals)},1827:function(e,t,n){var r=n(1898);"string"==typeof r&&(r=[[e.i,r,""]]);n(1394)(r,{});r.locals&&(e.exports=r.locals)},1828:function(e,t,n){var r=n(1899);"string"==typeof r&&(r=[[e.i,r,""]]);n(1394)(r,{});r.locals&&(e.exports=r.locals)},1829:function(e,t,n){var r=n(1900);"string"==typeof r&&(r=[[e.i,r,""]]);n(1394)(r,{});r.locals&&(e.exports=r.locals)},1830:function(e,t,n){var r=n(1901);"string"==typeof r&&(r=[[e.i,r,""]]);n(1394)(r,{});r.locals&&(e.exports=r.locals)},1831:function(e,t,n){var r=n(1902);"string"==typeof r&&(r=[[e.i,r,""]]);n(1394)(r,{});r.locals&&(e.exports=r.locals)},1832:function(e,t,n){var r=n(1903);"string"==typeof r&&(r=[[e.i,r,""]]);n(1394)(r,{});r.locals&&(e.exports=r.locals)},1841:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(2);t.getUndoNotificationContent=function(e){switch(e.kind){case"ignore":return"Dismissed";case"ignoreAll":return r.createElement("div",null,r.createElement("span",null,e.alerts)," ",i.StringUtils.pluralize(e.alerts,"alert has been","alerts have been")," dismissed");case"replace":return"Corrected";case"replaceSynonym":return"Replaced";case"replaceTransform":return r.createElement("div",null,e.transform);case"addToDictionary":return r.createElement("div",null,r.createElement("b",null,e.word)," has been added to dictionary");case"report":return"Your report has been sent";case"markAsHelpful":return"Marked as “Will address”";case"markAsNotHelpful":return"Marked as “Not helpful”";default:return""}}},1842:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(6),o=n(1381),a=n(1451),s=n(1378),c=n(1397),l=n(1484),u=n(105),d=n(515),p=n(1741);!function(e){e.BaseNotification=function(e){var t=e.title,n=e.description,l=e.visible,u=e.children,d=e.upgradeViewModel,m=e.place;return r.createElement(i.F.div,{className:p.wrapper},r.createElement(c.Overlay,{visible:l,alignment:"none",overlayType:"transparent"}),l.view(function(e){return e&&r.createElement("div",{key:"container",className:p.container},r.createElement("div",{className:p.messageContainer},r.createElement(o.Paper,{className:p.baseTitle},t),r.createElement(o.P2,null,n),r.createElement("div",{className:p.buttonsContainer},r.createElement(a.UpgradeButton,{size:"small",upgradeViewModel:d,place:m}),r.createElement(s.Button.Flat,{name:"later",className:p.laterButton,onClick:function(){return l.set(!1)}},"maybe later"))),r.createElement("div",{className:p.imageContainer},u))}))},e.ProfessionalProofreaders=u.withContext(function(t,n){var i=t.visible,o=t.upgradeViewModel;return r.createElement("div",null,r.createElement(e.BaseNotification,{visible:i,upgradeViewModel:o,title:n.textResources.denali.proofitTitle,description:n.textResources.denali.proofitDescription,place:d.UpgradeHook.Place.DenaliDocument.editorDenaliProofit},r.createElement(m,null)),r.createElement(l.PreloadWrapper,null,r.createElement(m,null)))}),e.Plagiarism=u.withContext(function(t,n){var i=t.visible,o=t.upgradeViewModel;return r.createElement(e.BaseNotification,{visible:i,upgradeViewModel:o,title:n.textResources.denali.plagiarism.title,description:n.textResources.denali.plagiarism.description,place:d.UpgradeHook.Place.DenaliDocument.editorDenaliPlagiarism},r.createElement(f,null))})}(t.Freemium||(t.Freemium={}));var m=function(){return r.createElement("picture",null,r.createElement("div",{className:p.image1}),r.createElement("div",{className:p.image2}),r.createElement("div",{className:p.image3}))},f=function(){return r.createElement("svg",{width:"49",height:"61",viewBox:"0 0 49 61",className:p.plagiarismIcon},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M4.692 14.29c0-1.73 1.402-3.136 3.13-3.136h37.745c1.728 0 3.197 1.41 3.264 3.134 0 0 .447 6.995-.134 16.423-.383 6.222-.94 9.332-7.02 17.072-4.657 5.925-10.963 10.785-13.665 12.74-.826.597-1.77.64-2.55.103-4.638-3.192-20.768-15.34-20.768-29.914V14.29z",fill:"#A4D3FF",opacity:".746"}),r.createElement("path",{d:"M1 7.462h43.385v19.743c0 16.704-21.693 31.026-21.693 31.026S1 44.388 1 27.206V7.462z",stroke:"#8189A9",strokeWidth:"1.568",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("g",{style:{mixBlendMode:"multiply"},strokeWidth:"1.568",strokeLinecap:"round",strokeLinejoin:"round"},r.createElement("path",{stroke:"#E9EEF4",fill:"#E9EEF4",d:"M35.727 3.99l6.628 3.826L15.782 53.84l-7.6 5.51.973-9.336z"}),r.createElement("path",{d:"M32.81 9.776l9.853 5.69-9.46 16.384-1.267-.732c-1.125-.65-1.514-2.08-.858-3.216l.985-1.706c.65-1.127 2.094-1.512 3.01-.984",stroke:"#F3F5FA",fill:"#F3F5FA"})),r.createElement("g",{stroke:"#8189A9"},r.createElement("path",{strokeWidth:"1.568",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",d:"M33.25 1.05l6.937 4.006L13.61 51.09l-7.756 5.423.818-9.428z"}),r.createElement("path",{strokeWidth:"1.568",fill:"#E9EEF4",strokeLinecap:"round",strokeLinejoin:"round",d:"M33.25 1.05l6.937 4.006-3.235 5.604-6.937-4.005z"}),r.createElement("path",{d:"M30.347 6.848l10.314 5.954L31.2 29.19l-1.428-.823c-1.12-.648-1.51-2.077-.853-3.214l.985-1.707c.65-1.127 2.09-1.513 3.094-.934",strokeWidth:"1.725",strokeLinecap:"square"}))))}},1843:function(e,t,n){"use strict";function r(e){var t=e.title,n=e.children,r=e.theme,i=void 0===r?{}:r;return t&&n?o.createElement("div",null,o.createElement(u.P1,{className:i.header},t),o.createElement(u.P2,{className:p.description},n)):t?o.createElement(u.P1,{className:p.description},t):o.createElement(u.P2,{className:p.description},n)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(8),a=n(6),s=n(105),c=n(1378),l=n(513),u=n(1381),d=n(1488),p=n(1497),m=function(e){var t=e.source,n=e.theme,r=e.linkText;return o.createElement(c.Button,{name:"reload-page",className:n.link,onClick:function(){try{localStorage.setItem("pageReloadReason",JSON.stringify({source:t,location:window.location.href,timestamp:Date.now()}))}catch(e){}window.location.reload()}},r)};t.Notification=r,function(e){e.Error=s.withContext(function(t,n){var r=t.theme,a=n.appConfig;return o.createElement(e,i.__assign({title:"Sorry, Something Went Wrong"},{theme:r}),"Please try again later or"," ",o.createElement(c.Button,{name:"support",className:r.link,href:a.support.login,target:"_blank"},"contact support")," ","now to report the issue.")}),e.UnauthorizedError=s.withContext(function(t,n){var r=t.theme,a=n.appConfig;return o.createElement(e,i.__assign({title:"You've Been Logged Out"},{theme:r}),"This occurs due to inactivity or logging out on another device.",o.createElement("br",null),o.createElement(c.Button,{name:"login",className:r.link,href:a.funnel.signin},"Log Back In"))}),e.Offline=function(t){var n=t.reconnect,r=t.reconnectTime,s=t.theme;return o.createElement(e,i.__assign({title:"Lost Connection"},{theme:s}),"Your Internet session was interrupted. We’ll try to reconnect you in"," ",o.createElement(a.F.span,null,r.view(function(e){return e}))," seconds.",o.createElement("br",null),o.createElement(c.Button,{name:"reconnect",className:s.link,onClick:n},"Reconnect Now"))},e.SlowNetworkError=function(t){var n=t.theme;return o.createElement(e,i.__assign({title:"Your Internet Connection Is Unstable"},{theme:n}),"Grammarly may work slower than normal.")},e.ServerError=function(t){var n=t.theme;return o.createElement(e,i.__assign({title:"Sorry, Unexpected Issue"},{theme:n}),"A small error has occurred, causing an interruption of service.",o.createElement("br",null),o.createElement(m,i.__assign({source:"UnknownConnectionError",linkText:"Reload This Page"},{theme:n})))},e.ConnectionWSError=s.withContext(function(t,n){var r=t.theme,a=n.appConfig;return o.createElement(e,i.__assign({title:"Can’t Connect to Grammarly"},{theme:r}),"Your network configuration currently blocks Grammarly services on this computer. ",o.createElement("br",null),o.createElement(c.Button,{name:"troubleshoot",className:r.link,href:a.support.diagnosticTestPath,target:"_blank"},"Troubleshoot This Issue"))}),e.ClientConnectionError=function(t){var n=t.theme;return o.createElement(e,i.__assign({title:"Your Internet Connection Is Unstable"},{theme:n}),"Please check your network stability and then reload this page.",o.createElement("br",null),o.createElement(m,i.__assign({source:"ClientConnectionErrorNotification",linkText:"Reload Page Now"},{theme:n})),".")},e.CheckingIsDownError=function(t){var n=t.theme;return o.createElement(e,i.__assign({title:"Text Checking Is Temporarily Unavailable"},{theme:n}),"Grammarly is unable to check your text for errors at this time. We’re working to resolve the issue. Please check back soon.")},e.CopyToClipboardError=s.withContext(function(t,n){var r=t.theme,a=n.environment;return o.createElement(e,i.__assign({title:"Copying Is Not Supported by Your Browser"},{theme:r}),"Please use ",a.textResources.hotkeyLabel("C")," instead.")}),e.Undo=function(t){var n=t.action,r=t.classes,i=t.content;return o.createElement(e,null,o.createElement("div",{className:r.wrapper},o.createElement("div",{className:r.content},i),o.createElement(c.Button,{name:"alertUndoButton",className:r.button,onClick:n},o.createElement(l.Icon.Undo,{className:r.icon}),"UNDO")))},e.ProofitPaymentDeclinedError=s.withContext(function(t,n){var r=t.errorMessage,a=t.theme,s=n.appRouter;return o.createElement(e,i.__assign({title:"Order can not be processed"},{theme:a}),o.createElement("div",null,r),"Please update your credit card information in the Manage Subscription section.",o.createElement("br",null),o.createElement(c.Button,{name:"manage-subscription",className:a.link,onClick:function(){return s.navigate(d.subscriptionRoutes.manage.href({}))}},"Go to Manage Subscription"))}),e.ProofitEmptyDocumentError=function(t){var n=t.theme;return o.createElement(e,i.__assign({title:"Document is empty"},{theme:n}),"The document you are trying to submit is empty. Please write something and try again.")},e.ProofitDocumentProofreadError=function(t){var n=t.theme,r=t.navigateToDocuments;return o.createElement(e,i.__assign({title:"This document is already corrected"},{theme:n}),"The text you are trying to submit is already corrected by our proofreaders. Please edit your text or choose another document.",o.createElement("br",null),o.createElement(c.Button,{name:"goto-docs",className:n.link,onClick:r},"Go to your documents"))},e.ProofitCancelled=s.withContext(function(t,n){var r=t.theme,a=n.appConfig;return o.createElement(e,i.__assign({title:"Your order has been cancelled"},{theme:r}),"Your proofreading order has been cancelled and the payment refunded. Please check your email for more information, or contact"," ",o.createElement(c.Button,{name:"support",className:r.link,href:a.support.login,target:"_blank"},"Grammarly support"),".")}),e.ProofitCompleted=function(t){var n=t.theme,r=t.documentTitle,a=t.documentDownloadUrl,s=t.email;return o.createElement(e,i.__assign({title:(r||"Your")+" document has been proofread"},{theme:n}),"A version of this document with proofreaders’ marks has been emailed to you at ",s," in .docx format.",o.createElement("br",null),o.createElement(c.Button,{name:"download",className:n.link,href:a,target:"_blank"},"Download .docx"))},e.DenaliDocumentUploadedNotification=s.withContext(function(t,n){var r=t.navigateToDocuments,a=t.theme,s=n.textResources;return o.createElement(e,i.__assign({title:s.denali.uploadNotificationTitle},{theme:a}),"Don’t worry! The previous document has been saved to"," ",o.createElement(c.Button,{name:"goto-docs",className:a.link,onClick:r},"My documents"))}),e.DocumentNotFoundError=function(t){var n=t.theme,r=t.navigateToDocuments;return o.createElement(e,i.__assign({title:"Can’t find this document"},{theme:n}),"It looks like this document was removed or URL is incorrect.",o.createElement("br",null),o.createElement(c.Button,{name:"goto-docs",className:n.link,onClick:r},"Go to your documents"))},e.AlertsNothingFound=function(){return o.createElement(e,null,"Grammarly found no critical writing issues in this text. Keep up the great work!")},e.BlobDownloadUnsupportedNotification=s.withContext(function(t,n){var r=t.theme,a=n.appConfig;return o.createElement(e,i.__assign({},{theme:r}),"The file cannot be downloaded because this browser does not support safe downloads.",o.createElement("br",null),"Please update your browser and try again."," ",o.createElement(c.Button,{name:"support",className:p.link,href:a.support.safariDownloadFilesKBUrl,target:"_blank"},"Learn more"))}),e.SelfUpdateNotification=s.withContext(function(t,n){var r=t.theme,a=n.environment;return o.createElement(e,i.__assign({title:"Grammarly needs to refresh this page"},{theme:r}),"Don't worry - your documents have already been saved. Please"," ",o.createElement(m,i.__assign({source:"SelfUpdateBlocker",linkText:"reload"},{theme:r}))," the page (",a.textResources.hotkeyLabel("R"),").")})}(r=t.Notification||(t.Notification={}))},1844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2);t.getPaymentErrorText=function(e,t){switch(e){case"creditCard":return"Your card ••••"+r.StringUtils.nbsp+t.map(function(e){return e}).orNull()+" has been declined.";case"payPal":return"Your PayPal account has been declined";default:throw new Error("unknown payment method: "+e)}}},1845:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(4),a=n(6),s=n(16),c=n(18);!function(e){e.Querying="querying",e.SynonymsReady="ready",e.SynonymsEmpty="empty",e.SynonymsError="error",e.SynonymsNone="none"}(r=t.SynonymsStateKind||(t.SynonymsStateKind={}));var l;!function(e){function t(e){return null!==e&&e.kind===r.SynonymsReady}function n(e){return null!==e&&e.kind===r.SynonymsEmpty}function i(e){return null!==e&&e.kind===r.Querying}e.isReady=t,e.isEmpty=n,e.isQuerying=i,e.defaultState={kind:r.SynonymsNone,query:{id:-1,start:-1,word:""}}}(l=t.SynonymsModel||(t.SynonymsModel={}));var u=function(){function e(e,t){this.positionManager=e,this._capiClient=t,this.state=a.Atom.create(l.defaultState),this.changes=new s.Subject,this._log=o.Monitoring.Logging.getLogger("editor.SynonymsModelImpl")}return e.prototype.query=function(e){return i.__awaiter(this,void 0,void 0,function(){var t,n=this;return i.__generator(this,function(i){switch(i.label){case 0:return this._log.trace("SynonymsQuery: "+e.word),this.state.set({kind:r.Querying,query:e}),t=c.retryCountPredicate(2),[4,c.promiseRetrier(function(){return n._capiClient.requestSynonyms(e.start,e.word)},function(e){return t()&&c.CAPI.DroppedFromQueueError.isDroppedFromQueueError(e)}).then(function(t){var i=t.map(function(t){return{kind:r.SynonymsReady,query:e,synonyms:t}}),o=i.getOrElse({kind:r.SynonymsEmpty,query:e});return n._onResponse(o),o}).catch(function(t){return n.abortQuery(),t.message&&-1!==t.message.indexOf("Timeout")?n._log.info("Synonyms timeout",t):n._log.warn("Error getting synonyms",t),{kind:r.SynonymsError,query:e}})];case 1:return[2,i.sent()]}})})},e.prototype.abortQuery=function(){var e=this.state.get();l.isQuerying(e)&&this.state.set(l.defaultState)},e.prototype._onResponse=function(e){var t=this,n=window.SQT;setTimeout(function(){t._log.trace("_onResponse() newState: "+e);var n=t.state.get();l.isQuerying(n)&&n.query.word===e.query.word?t.state.set(e):t._log.trace("Discarding result for "+e.query.word)},n)},e.prototype.applySynonym=function(e,t){var n=this;this._log.debug("_applySynonym(#"+e.id+")");var r=e.range,i=r.start,o=r.end-r.start,a=this.positionManager.getTextLength(),s=c.Change.delta((new c.Delta).retain(i).delete(o).insert(t),a);return this.changes.next(s),this._capiClient.accept(e.id,i,t),a=this.positionManager.getTextLength(),{action:c.CAPI.FeedbackType.SYNONYM_ACCEPTED,replacement:t,commit:function(){n._log.debug("_applySynonym(#"+e.id+"):commit()"),e.dispose()},undo:function(){n._log.debug("_applySynonym(#"+e.id+"):undo()");var r=n.positionManager.getTextLength();r!==a&&n._log.error("Text has changed while uncommitted apply is present");var o=c.Change.delta((new c.Delta).retain(i).delete(t.length).insert(e.range.value),r);return n.changes.next(o),e.dispose(),[]}}},e}();t.SynonymsModelImpl=u},1846:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(2),o=n(1666),a=n(1499);t.PDFReportContent=function(e){var t=e.model;return r.createElement("div",{className:a.content},r.createElement("div",{className:a.separatorRemover}),r.createElement(o.TitleSection,{title:t.title,author:t.author}),r.createElement(o.GeneralMetricsSection,{stats:t.stats}),r.createElement(o.ScoreSection,{score:t.score,critical:t.criticalIssues,advanced:t.advancedIssues}),t.plagiarism.map(function(e){return r.createElement(o.PlagiarismSection,{plagiarismData:e})}).orNull(),!i.ObjectUtils.isEmptyObject(t.issues)&&r.createElement(o.WritingIssuesSection,{issues:t.issues}),r.createElement(o.DocumentInsightsSection,{stats:t.stats}))},t.PDFReportHeader=function(e){var t=e.title;return r.createElement("div",{style:{width:"100%",marginLeft:"17.4857px",marginRight:"38.4686px",fontFamily:"Akkurat Std",color:"#becafa",letterSpacing:"0.1px",position:"absolute",top:0}},r.createElement("div",{style:{width:"144px",position:"absolute",top:"15.7351px",left:0}},r.createElement("svg",{width:"83.5px",viewBox:"0 0 93 23"},r.createElement("path",{d:"M32.1137999,10.3020362 L32.1137999,10.2761929 C32.1137999,9.3346607 31.3716092,8.67717134 30.4082654,8.67717134 C29.4453916,8.67717134 28.7163619,9.3346607 28.7163619,10.2761929 L28.7163619,10.3020362 C28.7163619,11.2561408 29.4453916,11.9010577 30.4082654,11.9010577 C31.3716092,11.9010577 32.1137999,11.2433355 32.1137999,10.3020362 Z M27.6230525,15.7046709 C27.2846248,15.5761532 27.0632367,15.3053812 27.0632367,14.9440414 C27.0632367,14.5056376 27.4275165,14.1447634 27.8702927,14.1447634 C28.0004933,14.1447634 28.1046069,14.170141 28.1955593,14.2092551 C28.7683012,14.4669891 29.3802912,14.6215829 30.1222469,14.6215829 C31.4757227,14.6215829 32.1137999,13.9771316 32.1137999,12.7389841 L32.1137999,12.4037204 C31.527897,13.1003239 30.8902898,13.5256897 29.8357585,13.5256897 C28.2087204,13.5256897 26.7375,12.352034 26.7375,10.3020362 L26.7375,10.2761929 C26.7375,8.21315707 28.2345725,7.05253935 29.8357585,7.05253935 C30.9159069,7.05253935 31.5539841,7.50398123 32.0874778,8.08394085 L32.0874778,8.07113564 C32.0874778,7.54239686 32.530019,7.10399301 33.0766737,7.10399301 C33.6233284,7.10399301 34.0658696,7.54239686 34.0658696,8.08394085 L34.0658696,12.5327038 C34.0658696,13.7708513 33.7666901,14.6732694 33.1807872,15.2536947 C32.530019,15.8983788 31.527897,16.1821889 30.1744212,16.1821889 C29.2498556,16.1821889 28.4430346,16.0273622 27.6230525,15.7046709 Z M35.5315436,8.05210654 C35.5315436,7.49972039 35.9859169,7.05253935 36.5476701,7.05253935 C37.1089407,7.05253935 37.5633141,7.49972039 37.5633141,8.05210654 L37.5633141,8.36772184 C37.8574624,7.68400743 38.3383791,7.05253935 38.9399473,7.05253935 C39.5680588,7.05253935 39.9285653,7.46053565 39.9285653,8.02574589 C39.9285653,8.55200888 39.5810891,8.8673867 39.1670133,8.9597677 C38.1380977,9.19677603 37.5633141,9.97263396 37.5633141,11.3927841 L37.5633141,13.2608277 C37.5633141,13.8129763 37.1089407,14.2601574 36.5476701,14.2601574 C35.9859169,14.2601574 35.5315436,13.8129763 35.5315436,13.2608277 L35.5315436,8.05210654 Z M39.9285653,12.118996 L39.9285653,12.092591 C39.9285653,10.5651097 41.0750287,9.85971938 42.7113383,9.85971938 C43.406799,9.85971938 43.9094379,9.97736302 44.3988189,10.1471094 L44.3988189,10.0294657 C44.3988189,9.20690326 43.8964126,8.75000271 42.917418,8.75000271 C42.3764007,8.75000271 41.9384233,8.82827463 41.5648749,8.94591827 C41.4488097,8.98505423 41.3713554,8.99825672 41.281341,8.99825672 C40.8303382,8.99825672 40.4695825,8.64556156 40.4695825,8.18842524 C40.4695825,7.8362016 40.6884549,7.53560913 40.997807,7.41796549 C41.6162785,7.18291396 42.2859211,7.05253935 43.2009519,7.05253935 C44.269961,7.05253935 45.042876,7.33992932 45.532257,7.8362016 C46.0476887,8.35817158 46.279819,9.1288671 46.279819,10.0690732 L46.279819,13.2546461 C46.279819,13.7902901 45.8546344,14.2078189 45.3264099,14.2078189 C44.759342,14.2078189 44.3857936,13.8034926 44.3857936,13.3854922 L44.3857936,13.3722897 C43.9094379,13.9079337 43.2523555,14.2601574 42.2989464,14.2601574 C40.997807,14.2601574 39.9285653,13.5029001 39.9285653,12.118996 Z M47.256935,8.09698499 C47.256935,7.54859209 47.7036529,7.10464375 48.2557042,7.10464375 C48.8075183,7.10464375 49.2542362,7.54859209 49.2542362,8.09698499 L49.2542362,8.17549524 C49.713765,7.58772933 50.318483,7.05253935 51.3303003,7.05253935 C52.2498323,7.05253935 52.9463611,7.45711468 53.314079,8.16252808 C53.9316078,7.44414752 54.6675181,7.05253935 55.626906,7.05253935 C57.1117745,7.05253935 58.0052104,7.94043603 58.0052104,9.62498776 L58.0052104,13.2680519 C58.0052104,13.816209 57.5584925,14.2601574 57.0062039,14.2601574 C56.4543898,14.2601574 56.0076719,13.816209 56.0076719,13.2680519 L56.0076719,10.2778252 C56.0076719,9.33758838 55.5875246,8.85426703 54.838329,8.85426703 C54.0893707,8.85426703 53.6298419,9.33758838 53.6298419,10.2778252 L53.6298419,13.2680519 C53.6298419,13.816209 53.183124,14.2601574 52.6308354,14.2601574 C52.0790214,14.2601574 51.6323034,13.816209 51.6323034,13.2680519 L51.6323034,10.2778252 C51.6323034,9.33758838 51.2119188,8.85426703 50.4629605,8.85426703 C49.713765,8.85426703 49.2542362,9.33758838 49.2542362,10.2778252 L49.2542362,13.2680519 C49.2542362,13.816209 48.8075183,14.2601574 48.2557042,14.2601574 C47.7036529,14.2601574 47.256935,13.816209 47.256935,13.2680519 L47.256935,8.09698499 Z M59.4708843,8.09698499 C59.4708843,7.54859209 59.9176023,7.10464375 60.4696536,7.10464375 C61.0214677,7.10464375 61.4681856,7.54859209 61.4681856,8.09698499 L61.4681856,8.17549524 C61.9277144,7.58772933 62.5326696,7.05253935 63.5442497,7.05253935 C64.4637816,7.05253935 65.1603105,7.45711468 65.5280284,8.16252808 C66.1457945,7.44414752 66.8814675,7.05253935 67.8408553,7.05253935 C69.3257239,7.05253935 70.2191598,7.94043603 70.2191598,9.62498776 L70.2191598,13.2680519 C70.2191598,13.816209 69.7724419,14.2601574 69.2201533,14.2601574 C68.6685765,14.2601574 68.2218585,13.816209 68.2218585,13.2680519 L68.2218585,10.2778252 C68.2218585,9.33758838 67.8014739,8.85426703 67.0522784,8.85426703 C66.3033201,8.85426703 65.8437913,9.33758838 65.8437913,10.2778252 L65.8437913,13.2680519 C65.8437913,13.816209 65.3970734,14.2601574 64.8447848,14.2601574 C64.2929707,14.2601574 63.8462528,13.816209 63.8462528,13.2680519 L63.8462528,10.2778252 C63.8462528,9.33758838 63.4261055,8.85426703 62.6769099,8.85426703 C61.9277144,8.85426703 61.4681856,9.33758838 61.4681856,10.2778252 L61.4681856,13.2680519 C61.4681856,13.816209 61.0214677,14.2601574 60.4696536,14.2601574 C59.9176023,14.2601574 59.4708843,13.816209 59.4708843,13.2680519 L59.4708843,8.09698499 Z M70.7077178,12.118996 L70.7077178,12.092591 C70.7077178,10.5651097 71.8542231,9.85971938 73.4903601,9.85971938 C74.1863114,9.85971938 74.6882709,9.97736302 75.1779025,10.1471094 L75.1779025,10.0294657 C75.1779025,9.20690326 74.6757103,8.75000271 73.6964472,8.75000271 C73.1554102,8.75000271 72.7174168,8.82827463 72.3438547,8.94591827 C72.2277853,8.98505423 72.1507933,8.99825672 72.0603103,8.99825672 C71.6092911,8.99825672 71.2487548,8.64556156 71.2487548,8.18842524 C71.2487548,7.8362016 71.4678678,7.53560913 71.776766,7.41796549 C72.3952602,7.18291396 73.0653925,7.05253935 73.979759,7.05253935 C75.0492724,7.05253935 75.8222157,7.33992932 76.3118472,7.8362016 C76.8268326,8.35817158 77.0589714,9.1288671 77.0589714,10.0690732 L77.0589714,13.2546461 C77.0589714,13.7902901 76.6337712,14.2078189 76.10576,14.2078189 C75.538904,14.2078189 75.1653418,13.8034926 75.1653418,13.3854922 L75.1653418,13.3722897 C74.6882709,13.9079337 74.0313971,14.2601574 73.0781857,14.2601574 C71.776766,14.2601574 70.7077178,13.5029001 70.7077178,12.118996 Z M78.5246454,8.05210654 C78.5246454,7.49972039 78.9792601,7.05253935 79.540772,7.05253935 C80.1020425,7.05253935 80.5564159,7.49972039 80.5564159,8.05210654 L80.5564159,8.36772184 C80.8505642,7.68400743 81.3314809,7.05253935 81.9330491,7.05253935 C82.5611606,7.05253935 82.9216671,7.46053565 82.9216671,8.02574589 C82.9216671,8.55200888 82.5741909,8.8673867 82.1603564,8.9597677 C81.1311995,9.19677603 80.5564159,9.97263396 80.5564159,11.3927841 L80.5564159,13.2608277 C80.5564159,13.8129763 80.1020425,14.2601574 79.540772,14.2601574 C78.9792601,14.2601574 78.5246454,13.8129763 78.5246454,13.2608277 L78.5246454,8.05210654 Z M86.930076,16.0926159 C86.6386162,15.9887322 86.293794,15.7541713 86.293794,15.2728277 C86.293794,14.7907791 86.6780997,14.4654962 87.0892063,14.4654962 C87.2480973,14.4654962 87.3407039,14.4915846 87.4203887,14.517438 C87.5926802,14.5696149 87.6986873,14.5957033 87.8446565,14.5957033 C88.2024006,14.5957033 88.374692,14.5305997 88.5601447,14.1789933 L88.6266683,14.0229327 L86.2011873,8.50346419 C86.1483034,8.37349204 86.0951802,8.17794623 86.0951802,8.0482091 C86.0951802,7.48836521 86.5326091,7.09774365 87.0892063,7.09774365 C87.5926802,7.09774365 87.8843792,7.37108473 88.0566707,7.83950155 L89.5941327,11.9010727 L91.0782323,7.85266329 C91.2376019,7.43618832 91.5288223,7.09774365 92.0456967,7.09774365 C92.5628104,7.09774365 93,7.48836521 93,8.00872389 C93,8.16525455 92.9468768,8.38665378 92.9073933,8.47761078 L90.4290285,14.3223623 C89.8324693,15.7412445 89.2361494,16.275 88.0298698,16.275 C87.5792798,16.275 87.2614977,16.2098964 86.930076,16.0926159 Z M83.4102251,5.63428404 C83.4102251,5.09034375 83.8474903,4.65 84.387109,4.65 C84.9274239,4.65 85.364457,5.09034375 85.364457,5.63428404 L85.364457,13.2761072 C85.364457,13.8198136 84.9274239,14.2601574 84.387109,14.2601574 C83.8474903,14.2601574 83.4102251,13.8198136 83.4102251,13.2761072 L83.4102251,5.63428404 Z M44.4248696,11.6618596 L44.4248696,11.3091645 C44.0896995,11.1526206 43.6517221,11.0481795 43.1749012,11.0481795 C42.3373247,11.0481795 41.8223582,11.3876722 41.8223582,12.0145548 L41.8223582,12.0404883 C41.8223582,12.5761323 42.2603356,12.88922 42.8913673,12.88922 C43.8063981,12.88922 44.4248696,12.379981 44.4248696,11.6618596 Z M75.2037215,11.6618596 L75.2037215,11.3091645 C74.8687717,11.1526206 74.4307782,11.0481795 73.9544051,11.0481795 C73.1167979,11.0481795 72.6013474,11.3876722 72.6013474,12.0145548 L72.6013474,12.0404883 C72.6013474,12.5761323 73.0393408,12.88922 73.6708608,12.88922 C74.5854599,12.88922 75.2037215,12.379981 75.2037215,11.6618596 Z",fill:"#2B2D38"}),r.createElement("path",{d:"M22.0875,11.04375 C22.0875,17.1430211 17.1430211,22.0875 11.04375,22.0875 C4.94447894,22.0875 0,17.1430211 0,11.04375 C0,4.94447894 4.94447894,0 11.04375,0 C17.1430211,0 22.0875,4.94447894 22.0875,11.04375 Z M13.08629,12.2595253 C12.6265316,12.2595253 12.2634378,12.6652216 12.3492818,13.1315014 C12.4146868,13.4862794 12.7551774,13.72932 13.1230803,13.72932 L14.2820947,13.72932 L14.9536979,13.6369127 C13.8790847,15.1833207 12.0128791,15.8947626 9.9720999,15.5805306 C8.31100614,15.3247604 6.88387942,14.2231805 6.28200946,12.684316 C4.91523805,9.19122567 7.51749002,5.8563121 10.9086894,5.8563121 C12.6758257,5.8563121 14.2253463,6.86996364 15.1140844,8.09483187 L15.1143248,8.09483187 C15.1145653,8.09483187 15.1148058,8.12076249 15.1152867,8.12123396 C15.3509369,8.45479604 15.8181496,8.55026787 16.1583997,8.31924961 C16.4820581,8.0993108 16.5710281,7.68206354 16.3764964,7.35392332 L16.381546,7.35392332 C15.1523174,5.47301038 12.9436975,4.26912238 10.4599921,4.43224956 C7.22581273,4.64488065 4.60817136,7.23959285 4.42253668,10.4120864 C4.20636365,14.1034282 7.19335071,17.1175092 10.9086894,17.1175092 C12.8600177,17.1175092 14.6069554,16.2844291 15.7974701,14.9365083 L15.6565609,15.7094765 L15.6565609,16.4081889 C15.6565609,16.7688602 15.9044745,17.1026581 16.266366,17.1667774 C16.7419947,17.2509341 17.1558254,16.8949774 17.1558254,16.444256 L17.1558254,12.2595253 L13.08629,12.2595253 Z",fill:"#15C39A"}))),r.createElement("p",{style:{position:"absolute",left:"111.05px",width:"823px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderBottom:"2px solid #e4e6f2",transform:"scale(0.563)",transformOrigin:"top left",paddingBottom:"21px",top:0,fontSize:"19px"}},"Report: ",t))},t.PDFReportFooter=function(){return r.createElement("div",{style:{marginLeft:"128.8807px",marginRight:"25.4686px",width:"100%",fontFamily:"Akkurat Std",fontSize:"19px",color:"#becafa",letterSpacing:"0.1px",lineHeight:"90px"}},r.createElement("div",{style:{position:"relative",top:"-19px",transform:"scale(0.563)",transformOrigin:"top left",width:"180%",borderTop:"1px solid #e4e6f2"}},r.createElement("div",{style:{position:"absolute",top:0,width:"100%",zIndex:1e3}},"Report was generated on ",(new Date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),r.createElement("span",{style:{float:"right"}},"Page ",r.createElement("span",{className:"pageNumber"})," of ",r.createElement("span",{className:"totalPages"})))))}},1847:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(2),o=n(1828);t.GeneralMetricsSection=function(e){var t=e.stats;return r.createElement("section",{className:o.generalMetricsSection},r.createElement("h2",{className:o.generalMetricsHeader},"General metrics"),r.createElement("table",null,r.createElement("tbody",null,r.createElement("tr",{className:o.metrics},r.createElement("td",null,t.chars.toLocaleString("en-US")),r.createElement("td",null,t.words.toLocaleString("en-US")),r.createElement("td",null,t.sentences),r.createElement("td",null,i.DateUtils.convertTimeToShortString(t.readingTime)),r.createElement("td",null,i.DateUtils.convertTimeToShortString(t.speakingTime))),r.createElement("tr",{className:o.text},r.createElement("td",null,"characters"),r.createElement("td",null,"words"),r.createElement("td",null,"sentences"),r.createElement("td",null,"reading",r.createElement("br",null),"time"),r.createElement("td",null,"speaking",r.createElement("br",null),"time")))))}},1848:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(105),o=n(1617),a=n(1422),s=n(513),c=n(1829);t.PlagiarismSection=i.withContext(function(e,t){var n=e.plagiarismData,i=t.textResources;return r.createElement("section",{className:c.plagiarismSection,"data-name":"section-plagiarism-"+(n.state===a.PlagiarismCheckingState.CHECKED?n.score:-1)},r.createElement("h2",{className:c.plagiarismSectionHeader},"Plagiarism"),n.state===a.PlagiarismCheckingState.NOT_CHECKED?r.createElement("p",{className:c.text},"This text hasn’t been checked for plagiarism"):n.score<=0?r.createElement("p",{className:c.original},r.createElement(s.Icon.Checkmark,{className:c.plagiarismMark}),"This text seems 100% original. Grammarly found no matching text on",r.createElement("br",null),"the Internet or in ProQuest’s databases."):r.createElement("table",{className:c.genericTable},r.createElement("tbody",null,r.createElement("tr",null,r.createElement("td",{className:c.score},r.createElement(o.RadialProgress,{color:{coordinates:{x1:"50%",y1:"0%",x2:"50%",y2:"100%"},start:"#e191e2",end:"#c770c8"},percentage:n.score,description:"%"})),r.createElement("td",{className:c.sources},r.createElement("div",{className:c.sourcesCount},n.sources),n.sources>1?"sources":"source")),r.createElement("tr",null,r.createElement("td",{colSpan:2,className:c.scoreDescription},i.denali.documentStats.report.plagiarismDescription(n.score,n.sources))))))})},1849:function(e,t,n){"use strict";function r(e){return e>c?{coordinates:{x1:"0%",y1:"50%",x2:"50%",y2:"50%"},start:"#0bc7c3",end:"#0fd5bf"}:e>l?{coordinates:{x1:"50%",y1:"0%",x2:"35%",y2:"100%"},start:"#ffde66",end:"#ffc148"}:{coordinates:{x1:"50%",y1:"50%",x2:"40%",y2:"100%"},start:"#ff4562",end:"#ff153e"}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),o=n(1617),a=n(513),s=n(1830),c=85,l=60,u=function(e){var t=e.issues,n=e.className,r=e.text;return i.createElement("div",{className:n},i.createElement("div",{className:s.issueCounter},t||i.createElement(a.Icon.Checkmark,null)),r)},d=function(e){var t=e.critical,n=e.advanced;return i.createElement("td",{className:s.issueCounters},i.createElement(u,{className:s.total,issues:t+n,text:"Issues left"}),i.createElement(u,{className:s.critical,issues:t,text:"Critical"}),i.createElement(u,{className:s.advanced,issues:n,text:"Advanced"}))},p=function(e){var t=e.score;return i.createElement("td",null,i.createElement(o.RadialProgress,{color:r(t),percentage:t}),i.createElement("p",{className:s.text},"This text scores better than ",t,"%",i.createElement("br",null),"of all texts checked by Grammarly"))},m=function(){return i.createElement("section",{className:s.section,"data-name":"no-writing-issues"},i.createElement("table",{className:s.scoreTable},i.createElement("thead",{className:s.sectionHeader},i.createElement("tr",null,i.createElement("th",{className:s.writingIssues},"Writing Issues"))),i.createElement("tbody",null,i.createElement("tr",null,i.createElement("td",{className:s.issuesSummary},i.createElement(a.Icon.Checkmark,null),i.createElement("span",null,"No issues found"))))))},f=function(e){var t=e.score,n=e.critical,r=e.advanced;return i.createElement("section",{className:s.section,"data-name":"section-score-"+t},i.createElement("table",{className:s.scoreTable},i.createElement("thead",{className:s.sectionHeader},i.createElement("tr",null,i.createElement("th",{className:s.score},"Score"),i.createElement("th",{className:s.writingIssues},"Writing Issues"))),i.createElement("tbody",null,i.createElement("tr",null,i.createElement(p,{score:t}),i.createElement(d,{critical:n,advanced:r})))))};t.ScoreSection=function(e){var t=e.score,n=e.critical,r=e.advanced;return n||r?i.createElement(f,{score:t,critical:n,advanced:r}):i.createElement(m,null)}},1850:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(1831);t.TitleSection=function(e){var t=e.title,n=e.author;return r.createElement("section",{className:i.titleSection},r.createElement("h1",{className:t.length<100?i.largeTitle:t.length<200?i.mediumTitle:i.smallTitle},t),r.createElement("p",{className:i.author},"by ",n))}},1851:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(1832),o=function(e){var t=e.maxIssues,n=e.count,o=n/t*100;return o>94&&o<98?o=94:o>=98&&(o=100),r.createElement("div",{className:i.progressBarBg},r.createElement("div",{className:i.issueProgressBar,style:{width:o+"%"}}))},a=function(e){var t=e.category,n=e.categoryIssues;return r.createElement("tr",{className:i.temporaryHeader},r.createElement("th",{className:i.categoryAmount},r.createElement("div",{className:n>99?i.oval:i.circle},n)),r.createElement("th",{className:i.categoryTitle},t),r.createElement("th",{className:i.progressBarCell}))};t.WritingIssuesSection=function(e){var t=e.issues,n=0;return r.createElement("section",{className:i.writingIssuesSection},r.createElement("h2",{className:i.sectionHeader},"Writing Issues"),Object.entries(t).map(function(e){var t=e[0],r=e[1],i=0;return{category:t,issues:Object.entries(r).map(function(e){var t=e[0],r=e[1];return r>n&&(n=r),i+=r,{name:t,count:r}}),issuesCount:i}}).map(function(e){var t=e.category,s=e.issuesCount,c=e.issues;return r.createElement("table",{key:t,className:i.writingIssuesTable},r.createElement("thead",{className:i.issueHeader},r.createElement(a,{category:t,categoryIssues:s})),r.createElement("tbody",null,c.map(function(e){var t=e.name,a=e.count;return r.createElement("tr",{key:t,className:i.issueContent},r.createElement("td",{className:i.issueAmount},a),r.createElement("td",{className:i.issueTitle},t),r.createElement("td",null,r.createElement(o,{maxIssues:n,count:a})))})))}))}},1852:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(7),o=n(16),a=n(6),s=n(4),c=n(18),l=n(2),u=function(){function e(e,t){var n=this;this.details=e,this._ops=t,this.active=a.Atom.create(!1),this.select=function(){n._ops._updateActive(n.details.turnaround)},this.placeOrder=function(){return n._ops._placeOrder(n.details.turnaround)}}return e.prototype.toggleActive=function(e){return this.active.set(e),this},e}();t.ProofitPlanImpl=u;var d=function(){function e(e,t,n,o,u,d){var p=this;this._proofit=e,this._notifications=t,this._ded=n,this._user=o,this._goToMyDocuments=d,this.viewState=a.Atom.create(i.None),this._log=s.Monitoring.Logging.getLogger("ProofitView"),this._updateActive=function(e){p.viewState.modify(function(t){return t.map(function(t){var n=t.plans,r=t.words,i=t.proofitState;return{plans:n.map(function(t){return t.toggleActive(t.details.turnaround===e)}),words:r,proofitState:i}})})},this._placeOrder=function(e){return p._user.features.proofitTest.map(function(e){return Promise.resolve(p._proofit.updateState(p._getResultMock(c.Proofit.parseStatus(e))))}).getOrElseL(function(){return p._proofit.placeOrder(e)})};var m=u.state.get().value;this.viewStateAndSubscription=this.viewState.combineLatest(u.state),this._proofit.state.subscribe(function(e){e.map(function(e){switch(e.kind){case"submitted":p._log.info("Document submitted for proofreading"),p._goToMyDocuments();break;case"finished":case"cancelled":break;case"error":p._showErrorNotification(e.errorType,m),p._log.error("Error sending document for proofreading:",e.errorType);break;default:l.assertNever(e)}}),p.viewState.modify(function(t){return t.map(function(t){return r.__assign({},t,{proofitState:e})})})})}return e.prototype._showErrorNotification=function(e,t){switch(e){case"payment":var n=t.creditCard?i.Some(t.creditCard.suffix):i.None;this._notifications.show(this._notifications.create.proofitPaymentDeclinedError(t.paymentMethod,n));break;case"emptyDocument":this._notifications.show(this._notifications.create.proofitEmptyDocumentError());break;case"alreadyProofread":this._notifications.show(this._notifications.create.proofitDocumentProofreadError(this._goToMyDocuments));break;case"unknown":this._notifications.show(this._notifications.create.error());break;default:l.assertNever(e)}},e.prototype.requestPlans=function(){var e=this;return this._ded.contentUpdated.auditTime(1e3).startWith(void 0).subscribe(function(){return e._proofit.getPlans().then(function(t){e.viewState.set(i.Some({words:t.words,plans:t.turnaroundOptions.map(function(t){return new u(t,e)}).sort(function(e,t){return t.details.turnaround-e.details.turnaround}),proofitState:i.None}))}).catch(function(t){e._log.warn("Error querying proofit plan options",t),e._notifications.show(e._notifications.create.error())})})},e.prototype._getResultMock=function(e){var t=new Date;return{downloadResultUrl:i.None,submitted:t.getTime(),corrections:5,due:t.setHours(t.getHours()+3),price:666,name:"",completed:i.None,id:1,status:e,is_dox_applied:!0}},e}();t.ProofitViewModelImpl=d;!function(e){var t=function(){function e(e){var t=this;this._proofit=e,this.viewState=a.Atom.create(i.None),this._updateActive=function(e){return t.viewState.modify(function(t){return t.map(function(t){var n=t.plans,r=t.words,i=t.proofitState;return{plans:n.map(function(t){return t.toggleActive(t.details.turnaround===e)}),words:r,proofitState:i}})})},this._placeOrder=function(){return new Promise(function(e){return setTimeout(e,1e3)})},this.viewStateAndSubscription=this.viewState.combineLatest(a.Atom.create(l.Async.ok({plans:[]})))}return e.prototype.requestPlans=function(){var e=this;return o.Observable.fromPromise(this._proofit.getPlans().then(function(t){e.viewState.set(i.Some({words:t.words,plans:t.turnaroundOptions.map(function(t){return new u(t,e)}).sort(function(e,t){return t.details.turnaround-e.details.turnaround}),proofitState:i.None}))}).catch(console.error)).subscribe()},e}();e.Mock=t}(t.ProofitViewModel||(t.ProofitViewModel={}))},1853:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=n(3),o=n(18),a=n(105),s=n(515),c=n(2);!function(e){!function(e){e.idle="idle",e.loading="loading",e.uploaded="uploaded"}(e.State||(e.State={}))}(r=t.UploadViewModel||(t.UploadViewModel={}));var l=function(){function e(e,t,n,i,o){var l=this;this._doxApi=e,this._appRouter=t,this._notifications=n,this._telemetry=i,this.browser=o,this.uploadModel=new s.DocumentUpload.UploadModel(function(e){return l._upload(e)},function(e,t){l._appRouter.navigate(a.Router.routes.denali_editor.href({docId:e}),{showDocumentUploadedNotification:!t||t.showDocumentUploadedNotification,openSidebar:!0})},this._notifications,this._telemetry),this.state=this.uploadModel.state.pairwise().map(function(e){var t=e[0],n=e[1];return c.Async.isInProgress(n)?r.State.loading:c.Async.isOk(n)||c.Async.isIdle(n)&&c.Async.isOk(t)?r.State.uploaded:r.State.idle}).startWith(r.State.idle),c.registerDebugHelper("showUploadNotification",function(){return l._showUploadNotification()})}return e.prototype.showUploadNotificationIfNeeded=function(){var e=this;this._appRouter.locationState.forEach(function(t){!0===t.showDocumentUploadedNotification&&e._showUploadNotification()})},e.prototype._showUploadNotification=function(){var e=this;this._notifications.show(this._notifications.create.denaliDocumentUploaded(function(){return e._appRouter.navigate(a.Router.routes.documents.href({}))}))},e.prototype._upload=function(e){return i.__awaiter(this,void 0,void 0,function(){return i.__generator(this,function(t){switch(t.label){case 0:return[4,this._doxApi.createDocument(o.DoxRequest.Create.file(e))];case 1:return[2,t.sent()]}})})},e}();t.UploadViewModelImpl=l},1854:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(7),a=n(6),s=n(18),c=n(2),l=n(513),u=n(1378),d=n(1401),p=n(1381),m=n(1397),f=n(1748),h=n(105),g=n(1381),_=n(1451),v=n(1448),b=n(272),y=n(515),w=function(e){var t=e.title;return i.createElement(u.InfoButton,{title:t,titleAlign:"right",iconClass:f.infoIcon,iconWidth:10,tooltipClass:f.goalsTooltip})},E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._localContext=a.Atom.create(t.props.documentContext),t._style=t._localContext.lens("style"),t._goals=t._localContext.lens("goals"),t._audience=t._localContext.lens("audience"),t._emotion=t._localContext.lens("emotion"),t._domain=t._localContext.lens("domain"),t._showSetGoalsLoader=a.Atom.create(t.props.settingsModel.enableSetGoalsLoader.get()),t._source="user",t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._source=this.props.visibilitySource.view(function(e){return"setGoalsLoader"===e?"setGoalsLoader":"user"}).get(),this.context.gnarSpec.goalsPopupShow(this.context.pageId,this._source)},t.prototype.componentWillUnmount=function(){if("forceHidden"!==this.props.visibilitySource.get()){var e=this._localContext.get(),t=this.props.updateContext(e),n=this._showSetGoalsLoader.get();this.props.settingsModel.enableSetGoalsLoader.get()!==n&&(this.props.settingsModel.updateSetGoalsLoader(n),this.context.gnarSpec.showGoalsNewDocumentFormSuccess(n,this.context.pageId,this._source)),t&&this.context.gnarSpec.goalsFormSuccess(this.context.pageId,this._source,e.audience.getOrElse(void 0),e.domain,e.emotion.getOrElse(void 0),Array.from(e.goals),e.style.getOrElse(void 0))}},t.prototype.setDomain=function(e){c.invariant(s.DocumentContext.isStyleValidWithDomain(e,this._style.get()),"can't enter disabled domain "+e),this._domain.set(e)},t.prototype.toggleGoal=function(e){this._goals.modify(function(t){var n=new Set(t);return n.has(e)?n.delete(e):n.add(e),n})},t.prototype.setStyle=function(e){c.invariant(s.DocumentContext.isStyleValidWithDomain(this._domain.get(),e),"can't enter disabled style "+e),this._style.modify(this._toggle(e))},t.prototype.setAudience=function(e){this._audience.modify(this._toggle(e))},t.prototype.setEmotion=function(e){this._emotion.modify(this._toggle(e))},t.prototype._toggle=function(e){return function(t){return e.equals(t)?o.None:e}},t._getGoalLabel=function(e){var t=s.DocumentContext.goalsLabels[s.DocumentContext.goals.indexOf(e)];return c.invariant(void 0!==t,"Goal label should be defined"),t},t.prototype.render=function(){var e=this;return i.createElement(m.Modal,{className:f.wrapper},i.createElement(m.Modal.Header,null,i.createElement(C,{className:f.image}),i.createElement(p.H1,{className:f.title},"Set goals"),i.createElement(p.P2,{className:f.description},this.context.textResources.denali.goals.header)),i.createElement(m.Modal.Body,r.__assign({},a.classes(f.wrapper,f.wrapperFree)),i.createElement("div",{className:f.row},i.createElement("div",{className:f.rowHeader},i.createElement(p.Paper,{className:f.rowHeader},"Intent"),i.createElement("div",{className:f.experimental},"Experimental ",i.createElement(w,{title:this.context.textResources.denali.documentStats.intentTooltip}))),i.createElement(u.Button.Group,null,s.DocumentContext.goals.map(function(n){return i.createElement(u.Button.White,{key:n,name:"context-goal-"+n,active:e._goals.view(function(e){return e.has(n)}),onClick:function(){return e.toggleGoal(n)}},t._getGoalLabel(n))}))),i.createElement("div",{className:f.row},i.createElement(p.Paper,{className:f.rowHeader},"Audience"),i.createElement(u.Button.Group,{sticky:!0},s.DocumentContext.audiences.map(function(t){return i.createElement(u.Button.White,{key:t,name:"context-audience-"+t,active:e._audience.view(function(e){return e.contains(t)}),onClick:function(){return e.setAudience(o.Some(t))}},t)}))),i.createElement("div",{className:f.row},i.createElement(p.Paper,{className:f.rowHeader},"Style"),i.createElement(u.Button.Group,{sticky:!0},s.DocumentContext.styles.map(function(t){var n=e._domain.view(function(e){return!s.DocumentContext.isStyleValidWithDomain(e,o.Some(t))});return i.createElement(u.Button.White,{key:t,name:"context-style-"+t,active:e._style.view(function(e){return e.contains(t)}),onClick:function(){return e.setStyle(o.Some(t))},disabled:n,title:n.view(function(n){return n?"Style "+t+" is incompatible with "+e._domain.get()+" domain":""})},t)}))),i.createElement("div",r.__assign({},a.classes(f.row,this.props.features.isFree&&f.noBottomMargin)),i.createElement("div",{className:f.rowHeader},i.createElement(p.Paper,{className:f.rowHeader},"Emotion"),i.createElement("div",{className:f.experimental},"Experimental ",i.createElement(w,{title:this.context.textResources.denali.documentStats.emotionTooltip}))),i.createElement(u.Button.Group,{sticky:!0},s.DocumentContext.emotions.map(function(t){return i.createElement(u.Button.White,{key:t,name:"context-emotion-"+t,active:e._emotion.view(function(e){return e.contains(t)}),onClick:function(){return e.setEmotion(o.Some(t))}},t)}))),i.createElement("div",{className:this.props.features.isFree?f.rowFree:f.row},i.createElement("div",r.__assign({},a.classes(f.row,f.noBottomMargin)),i.createElement(p.Paper,{className:f.rowHeader},"Domain"),i.createElement(d.Dropdown,{align:"right",vAlign:"bottom",label:i.createElement(u.Button.White,{name:"domain-select",active:!1,className:f.select},this._domain,i.createElement(l.Icon.More,{className:f.selectIcon})),theme:f,name:"goals-domain"},this._domain.view(function(t){return s.DocumentContext.domains.filter(function(e){return e!==t}).map(function(t){var n=e.props.features.isFree?a.Atom.create(!0):e._style.view(function(e){return!s.DocumentContext.isStyleValidWithDomain(t,e)});return i.createElement(u.Button.Flat,{className:f.capitalize,key:t,name:"context-domain-"+t,onClick:function(){return e.setDomain(t)},title:e.props.features.isFree?"":n.view(function(n){return n?"Domain "+t+" is incompatible with "+e._style.get().get()+" style":""}),disabled:n},t)})}))),this.props.features.isFree&&i.createElement(g.Small,{className:f.freeBlock},this.context.textResources.denali.goals.upgradeHookTitle," ",i.createElement(_.UpgradeButton,{size:"link",upgradeViewModel:this.props.upgradeViewModel,place:y.UpgradeHook.Place.DenaliDocument.editorDenaliGoals})))),i.createElement(m.Modal.Footer,null,i.createElement("div",{className:f.footerWrapper},i.createElement(v.BlueCheckbox,{checked:this._showSetGoalsLoader,name:"set-goals"},i.createElement("div",{className:f.checkboxText},"Show ",i.createElement("b",null,"Set Goals")," when I start a new document")),i.createElement(u.Button.Blue,{name:"closeSetContext",onClick:this.props.close},"Done"))))},t}(h.BaseComponent);t.SetGoalsView=E;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._visible=b.DocumentLoader.SetGoalsVisibilitySource.toVisible(t.props.visible,"user"),t._close=function(){return t._visible.set(!1)},t}return r.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement(m.Overlay,{visible:this._visible,animate:!0},this.props.documentModel.context.view(function(t){return i.createElement(E,{key:"set-goals-view",features:e.props.features,updateContext:e.props.documentModel.updateContext,settingsModel:e.props.settingsModel,close:e._close,documentContext:t,upgradeViewModel:e.props.upgradeViewModel,visibilitySource:e.props.visible})}))},t}(i.Component);t.SetGoalsModal=M;var C=function(e){var t=e.className;return i.createElement("svg",{className:t,width:"69",height:"80",viewBox:"0 0 69 80"},i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{d:"M28.935 70C12.955 70 0 57.045 0 41.065 0 25.085 12.955 12.13 28.935 12.13c15.98 0 28.936 12.954 28.936 28.935C57.87 57.045 44.917 70 28.936 70zm0-12.242c9.22 0 16.694-7.474 16.694-16.693 0-9.22-7.475-16.694-16.695-16.694s-16.693 7.475-16.693 16.695 7.474 16.693 16.693 16.693z",fill:"#4C7AF1"}),i.createElement("path",{d:"M28.935 57.758c-9.22 0-16.693-7.474-16.693-16.693 0-9.22 7.474-16.694 16.693-16.694 9.22 0 16.694 7.475 16.694 16.695s-7.475 16.693-16.695 16.693zm0-11.13c3.074 0 5.565-2.49 5.565-5.563 0-3.074-2.49-5.565-5.565-5.565-3.073 0-5.564 2.49-5.564 5.565 0 3.073 2.492 5.564 5.565 5.564z",fill:"#BCDBFB"}),i.createElement("circle",{fill:"#FFF",cx:"28.935",cy:"41.065",r:"5.565"}),i.createElement("g",{stroke:"#4C7AF1",strokeWidth:"1.5",strokeLinecap:"round"},i.createElement("path",{d:"M15.024 68.016L9.46 78.5M41.734 68.016L47.298 78.5"})),i.createElement("path",{d:"M61.96 13.367c.356 0 .645.293.645.656 0 .362-.29.655-.646.655h-6.075L29.35 41.7c-.126.128-.29.192-.456.192-.166 0-.33-.064-.457-.192-.252-.256-.252-.67 0-.927L54.972 13.75V7.59c0-.363.288-.656.645-.656.357 0 .646.293.646.656v5.777h5.696zm3.17-3.215c.357 0 .646.293.646.655 0 .362-.29.655-.646.655h-6.34c-.358 0-.647-.293-.647-.655V4.372c0-.362.29-.655.646-.655.356 0 .644.293.644.655v5.78h5.696zm3.17-3.218c.358 0 .647.293.647.656 0 .362-.29.655-.646.655h-6.34c-.358 0-.647-.293-.647-.655V1.155c0-.362.29-.655.646-.655.356 0 .645.293.645.655v5.78H68.3z",fill:"#4C7AF1"}),i.createElement("path",{d:"M49.267 20.486l-8.586 8.757",stroke:"#FFF",strokeWidth:"1.3"})))}},1855:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(105),s=n(271),c=n(178),l=n(1670),u=n(1406),d=n(514),p=n(517),m=n(1402),f=n(1439),h=n(1378),g=n(1614),_=n(2),v=n(1533),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._rendered=!1,t._focusedLensOrderNumber=o.Atom.combine(t.props.pageViewModel.stateHolder.state,t.props.sidebarViewModel.lenses,function(e,t){var n=e.currentLens;return t.findIndex(function(e){return e.id!==n.id})}),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;requestAnimationFrame(function(){e._rendered=!0})},t.prototype._renderList=function(){var e=this,t=this.props,n=t.sidebarViewModel,a=t.pageViewModel;return i.createElement(u.Onboarding,{key:"onboarding",alignment:"bottomFlexible",eventType:"onclick",stepId:p.OnboardingStep.Id.Step7,title:"Focused editing",message:"Categorized suggestions help you concentrate on specific aspects of your writing.",findFirstButton:{dotPosition:"center",buttonOrder:this._focusedLensOrderNumber,notificationPosition:"underButton"},themes:{containerClassName:v.onboardingContainer,containerWrapperClassName:v.onboardingContainer,notificationClassName:v.onboardingNotification,triangleClassName:v.triangleClassName}},i.createElement(m.ScrollBarY,r.__assign({name:"lenses"},o.classes(v.itemList,this.props.className),{update:n.lenses.view("length"),allowHover:!0,key:"list"}),n.lenses.switchMap(_.RxUtils.Scheduler.rafScheduler).map(function(t){return t.map(function(t,r){return i.createElement(g.FlowPosition,{key:t.id,offset:e._getOffset(r),theme:v},i.createElement(y,{lens:t,sidebarViewModel:n,pageViewModel:a,parentRendered:e._rendered}))}).concat([e._renderAdvanced({position:t.length})])}).startWith(null)))},t.prototype._getOffset=function(e){return 2.55*e+"rem"},t.prototype._renderAdvanced=function(e){var t=this,n=e.position;return this.props.features.isFree?i.createElement(g.FlowPosition,{key:"lens-advanced",offset:this._getOffset(n),theme:v},this.props.sidebarViewModel.premium.view(function(e){var r=e.count;return r>0?i.createElement("div",{className:v.advancedBtn},n>0&&i.createElement("div",{className:v.advancedDelimiter}),i.createElement(w,{count:r,pageViewModel:t.props.pageViewModel,sidebarViewModel:t.props.sidebarViewModel,features:t.props.features})):null})):null},t.prototype.render=function(){return i.createElement("div",{className:v.wrapper},this._renderList())},t}(a.BaseComponent);t.LensesNavigation=b;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._animateIn=t.props.parentRendered,t._active=o.Atom.create(!1),t._toLens=function(){var e=t.props,n=e.lens;e.pageViewModel.switchToLens(n.id,l.AlertActionSource.sidebar,"lensOrder")},t}return r.__extends(t,e),t.prototype.componentWillMount=function(){this._focusedLens=this.props.pageViewModel.stateHolder.state.switchMap(_.RxUtils.Scheduler.rafScheduler).map(d.LensState.is(this.props.lens.id)).subscribe(_.RxUtils.toAtom(this._active))},t.prototype.componentWillUnmount=function(){this._focusedLens.unsubscribe()},t.prototype.render=function(){var e=this,t=this.props.lens;return i.createElement(h.Button.SidebarFlat,r.__assign({name:"lens-"+t.id},o.classes(this._animateIn&&v.lensBtnAnimate),{active:this._active,disabled:this._active,onClick:function(){e.context.gnarSpec.openLensButtonClick(_.StringUtils.camelize(t.title),e.context.pageId),e._toLens()}}),i.createElement(o.F.div,{className:t.id===c.Lens.SpecialId.AllAlerts?v.bold:void 0},t.title),i.createElement(f.Counters.Counter,{count:t.count,type:this._active.view(function(e){return e?"Advanced"===t.type?"yellow":"red":"gray"}),theme:v}))},t}(a.BaseComponent),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._trackingPlacement=function(){return t.props.pageViewModel.stateHolder.sidebarOpen.get()?"wiritingAssistant":"writingMode"},t._toAdvanced=function(){t.context.gnarSpec.advancedIssuesButtonClick(t.context.pageId,t._trackingPlacement()),t.props.pageViewModel.switchToAdvanced()},t._isActive=t.props.pageViewModel.stateHolder.state.view(d.LensState.is(c.Lens.SpecialId.Premium)),t}return r.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement(h.Button.SidebarFlat,{name:"lens-advanced",className:v.advancedBtn,active:this._isActive,disabled:this._isActive,onClick:function(){e._toAdvanced()}},i.createElement(o.F.div,null,this.props.features.denali.alertGroupNames===s.AlertGroupNames.CRITICAL_ADVANCED?this.context.textResources.denali.sidebar.advancedIssues:this.context.textResources.denali.sidebar.premiumAlerts),i.createElement(f.Counters.Counter,{key:"count",count:this.props.count,type:"yellow",theme:v}))},t}(a.BaseComponent)},1856:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(6),s=n(18),c=n(1381),l=n(1378),u=n(1419),d=n(2),p=n(4),m=n(32),f=n(1487),h=n(1402),g=n(1654),_=n(1463),v=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(n,e),n.prototype.render=function(){var e=this.props,n=e.proofit,o=e.transition;return i.createElement(a.F.div,r.__assign({},a.classes(o.map(function(e){return e.base}),g.wrapper)),i.createElement(f.SidebarHeader,{title:"Human Proofreading",theme:{wrapper:_.header}}),i.createElement(h.ScrollBarY,{name:"proofit",allowHover:!0,className:_.contentWrapper},i.createElement(c.P2,{className:_.info},"Save time and ensure accuracy with professional proofreaders. They are ready to check your text right now."),i.createElement(t.ProofitView,r.__assign({},{proofit:n}))))},n}(i.Component);t.ProofitSidebarView=v,t.ProofitView=function(e){var t=e.proofit;return i.createElement(m.Lifecycle,{onMount:function(){return t.requestPlans()}},i.createElement(a.F.div,{className:g.proofitDetailsWrapper},t.viewStateAndSubscription.switchMap(function(e){var t=e[0],n=e[1];return t.fold(function(){return o.Observable.of(i.createElement(u.Spinner,{variation:"blue",className:g.loader})).delay(500).startWith(null)},function(e){return o.Observable.of(i.createElement("div",null,i.createElement(c.P1,null,"How fast do you need your document returned?"),i.createElement(a.F.div,{className:g.plansContainer},e.plans.map(function(t){return i.createElement(y,{key:t.details.turnaround,plan:t,words:e.words,subscription:n.value,proofitState:e.proofitState})}))))})})))};var b=function(e){switch(e){case s.Proofit.PlanType.TwentyFourHours:return i.createElement(t.PaperPlane,null);case s.Proofit.PlanType.ThreeHours:return i.createElement(t.Jet,null);case s.Proofit.PlanType.Instant:return i.createElement(t.SpaceShuttle,null);default:return void d.assertNever(e)}},y=function(e){var t=e.plan,n=e.words,o=e.subscription,p=e.proofitState,m=t.details,f=m.label.replace("Within ","");return i.createElement(a.F.div,r.__assign({},a.classes(t.active.view(function(e){return t.details.enabled?e?g.planWrapperActive:g.planWrapper:g.planWrapperDisabled}),m.turnaround===s.Proofit.PlanType.ThreeHours&&g.mostPopular),{"data-name":f.replace(" ","")}),i.createElement("div",{className:g.iconContainer},b(m.turnaround)),i.createElement(a.F.div,{className:g.plans},i.createElement(a.F.div,{className:g.planContainer},t.details.enabled?i.createElement("div",null,i.createElement(c.Paper,{className:g.planTitle},f),i.createElement(c.Paper,{className:g.price},"$ ",d.StringUtils.formatPrice(m.price))):m.turnaround===s.Proofit.PlanType.Instant?i.createElement(c.Paper,{className:g.planTitle},"30 minutes"):i.createElement(c.Paper,{className:g.planTitle},f),t.active.view(function(e){return e?i.createElement(l.Button.Blue,{key:"place-order",name:"place-order",className:g.orderButton,onClick:t.placeOrder,active:!0},"place order",p.fold(function(){return i.createElement(u.Spinner,{className:g.planLoading,variation:"white",size:18})},function(){return null})):i.createElement(l.Button.Grey,{key:"select-order",name:"select-order",className:g.button,onClick:t.select,disabled:!t.details.enabled},t.details.enabled?"select":"disabled")})),t.details.enabled?i.createElement(c.Small,{name:"price-per-word"},"$ ",m.perWord," per word x ",n," words"):i.createElement(c.Small,{className:g.descriptionDisabled},"Proofreaders are busy",i.createElement("br",null),"or the document is too long"),t.active.view(function(e){return e&&i.createElement(w,{key:"warning",price:t.details.price,subscription:o})})))},w=function(e){var t=e.price,n=e.subscription;switch(n.paymentMethod){case"payPal":return i.createElement(c.Small,{className:g.paymentWarning},"By clicking ",i.createElement("b",null,"Place order")," you authorize a charge of"," ",i.createElement("b",{"data-name":"payment-warning-price"},"$",d.StringUtils.formatPrice(t))," to your PayPal account.");case"creditCard":if(!n.creditCard)throw new Error("Missing credit card");return i.createElement(c.Small,{className:g.paymentWarning},"By placing an order you agree that your card ending in"," ",i.createElement("b",null,n.creditCard.suffix)," will be charged for"," ",i.createElement("b",{"data-name":"payment-warning-price"},"$",d.StringUtils.formatPrice(t)),".");default:return p.Monitoring.Logging.getLogger("ProofitView").warn("Unknown payment method: "+n.paymentMethod),null}};t.PaperPlane=function(){return i.createElement("svg",{width:64,viewBox:"0 0 64 64"},i.createElement("g",{fill:"none"},i.createElement("circle",{cx:"32",cy:"32",r:"32",fill:"#A1E7D7"}),i.createElement("path",{fill:"#FFF",d:"M49.45 44.602l-18.694-7.337L54.636 3.94"}),i.createElement("path",{fill:"#B5EADE",d:"M28.3 44.808l1.98-6.515 1.91.755"}),i.createElement("path",{fill:"#D1F6ED",d:"M22.774 34.385L51.43 6.545l-21.97 30.65v.07c0 .068-.068.068-.068.137l-2.866 9.394-3.752-12.41z"}),i.createElement("path",{fill:"#FFF",d:"M51.43 4.9L21.954 33.56l-10.78-3.977"}),i.createElement("path",{fill:"#8189A9",fillRule:"nonzero",d:"M56 1.813v-.205c0-.07 0-.07-.068-.138-.068 0-.137-.068-.137-.068-.068-.07-.068-.07-.136-.07h-.208c-.136 0-.136 0-.204.07L9.605 29.242c-.204.137-.273.343-.273.548 0 .206.137.412.34.48l11.94 4.39 4.368 14.262c.07.206.274.41.547.41s.478-.136.546-.41l.137-.412 6.002-8.982 16.443 6.445c.068 0 .136.07.205.07.068 0 .204 0 .273-.07.136-.068.272-.205.272-.41L55.932 2.02 56 1.81zM51.43 4.9L21.954 33.56l-10.78-3.977L51.43 4.9zM22.773 34.384L51.43 6.544l-21.97 30.65c0 .14-.068.14-.068.208l-2.866 9.394-3.752-12.41zM28.3 44.808l1.98-6.515 1.91.755-3.89 5.76zm21.15-.206l-18.694-7.337L54.636 3.94 49.45 44.6z"})))},t.Jet=function(){return i.createElement("svg",{width:98,viewBox:"0 0 98 64",className:g.jetIcon},i.createElement("g",{fill:"none"},i.createElement("circle",{cx:"47",cy:"32",r:"32",fill:"#99CBF9"}),i.createElement("path",{fill:"#D9EEFF",fillRule:"nonzero",stroke:"#99CBF9",d:"M64.227 35.22h-5.112c-.918 0-1.72-.62-1.94-1.506-.525-2.085-2.71-3.43-4.853-2.922-.85.198-1.74-.173-2.186-.924-1.46-2.463-4.154-3.993-7.026-3.993-3.035 0-5.8 1.66-7.217 4.33-.502.946-1.667 1.327-2.635.867-1.113-.53-2.45-.516-3.558.042-.508.256-1.103.284-1.633.08-.53-.206-.948-.625-1.147-1.155-.94-2.49-3.37-4.17-6.05-4.17-2.502 0-4.802 1.457-5.86 3.712-.37.785-1.216 1.236-2.07 1.13-.172-.02-.35-.035-.528-.035-1.857 0-3.467 1.247-3.917 3.032-.22.884-1.022 1.504-1.94 1.504H5.13c-2.482 0-4.503 2.003-4.503 4.468 0 2.464 2.02 4.468 4.504 4.468h59.1c2.486 0 4.507-2.003 4.507-4.467 0-2.465-2.02-4.47-4.503-4.47z"}),i.createElement("g",{stroke:"#8189A9"},i.createElement("path",{fill:"#FFF",d:"M30.293 44.795s6.3 4.423 11.563 3.495l52.22-9.208c1.985-.35 3.31-2.243 2.96-4.228-.35-1.986-2.243-3.31-4.228-2.96l-3.464.552c-1.57-2.593-2.467-2.954-4.548-3.15l-46.654 8.227-7.85 7.272z",strokeLinecap:"round",strokeLinejoin:"round"}),i.createElement("path",{fill:"#E8EAF1",d:"M42.757 42.74L31.2 44.776c-1.597.28-3.122-.8-3.406-2.414-.285-1.615.778-3.152 2.374-3.434l11.558-2.04c1.596-.28 3.12.8 3.405 2.416.29 1.614-.772 3.15-2.37 3.433zm40.138-1.687L58.54 45.348c-1.444.255-2.822-.71-3.076-2.154-.255-1.444.71-2.82 2.154-3.075l24.355-4.3c1.444-.256 2.82.71 3.076 2.153.25 1.444-.71 2.82-2.16 3.075z"}),i.createElement("path",{fill:"#FFF",d:"M30.85 38.81l-8.9-15.88 4.352-.768s17.838 14.304 27.67 12.57L30.85 38.81z",strokeLinecap:"round",strokeLinejoin:"round"}))))},t.SpaceShuttle=function(){return i.createElement("svg",{width:98,viewBox:"0 0 98 85",className:g.rocketIcon},i.createElement("g",{fill:"none",transform:"translate(0 1)"},i.createElement("circle",{cx:"32",cy:"38.667",r:"32",fill:"#F9E799"}),i.createElement("path",{fill:"#FFF",stroke:"#99CBF9",d:"M32.137 58.667c3.556 2.19 6 6.74 6 12 0 5.258-2.444 9.808-6 12-3.556-2.192-6-6.742-6-12 0-5.26 2.444-9.81 6-12z"}),i.createElement("path",{fill:"#FF987C",d:"M32.137 58.667c2.276 1.587 3.84 4.883 3.84 8.692 0 3.8-1.564 7.1-3.84 8.69-2.275-1.59-3.84-4.89-3.84-8.69 0-3.81 1.565-7.11 3.84-8.7z"}),i.createElement("path",{fill:"#FFF",d:"M32.137 58.667c1.386.793 2.34 2.44 2.34 4.346 0 1.904-.954 3.552-2.34 4.346-1.386-.8-2.338-2.45-2.338-4.35 0-1.91.95-3.56 2.33-4.35z"}),i.createElement("path",{fill:"#FFF",stroke:"#99CBF9",d:"M44.546 58.667c2.376 1.46 4.008 4.494 4.008 8 0 3.504-1.632 6.537-4.008 7.998-2.376-1.46-4.01-4.494-4.01-8 0-3.504 1.634-6.538 4.01-7.998z"}),i.createElement("path",{fill:"#FF987C",d:"M44.546 58.667c1.52 1.058 2.565 3.255 2.565 5.794 0 2.54-1.04 4.74-2.56 5.8-1.52-1.06-2.56-3.25-2.56-5.79s1.047-4.734 2.567-5.792z"}),i.createElement("path",{fill:"#FFF",d:"M44.546 58.667c.926.53 1.562 1.627 1.562 2.897 0 1.27-.636 2.368-1.562 2.897-.926-.52-1.563-1.62-1.563-2.89s.637-2.37 1.563-2.893z"}),i.createElement("path",{fill:"#FFF",stroke:"#99CBF9",d:"M19.68 58.667c2.375 1.46 4.008 4.494 4.008 8 0 3.504-1.633 6.537-4.01 7.998-2.375-1.46-4.008-4.494-4.008-8 0-3.504 1.633-6.538 4.01-7.998z"}),i.createElement("path",{fill:"#FF987C",d:"M19.68 58.667c1.52 1.058 2.564 3.255 2.564 5.794 0 2.54-1.045 4.74-2.565 5.8-1.52-1.06-2.57-3.25-2.57-5.79s1.04-4.734 2.56-5.792z"}),i.createElement("path",{fill:"#FFF",d:"M19.68 58.667c.925.53 1.56 1.627 1.56 2.897 0 1.27-.635 2.368-1.56 2.897-.927-.52-1.563-1.62-1.563-2.89s.636-2.37 1.562-2.893z"}),i.createElement("path",{fill:"#D9EEFF",stroke:"#8189A9",d:"M22.34 38.825V15.68S24.657.218 32 .218c7.342 0 9.66 15.464 9.66 15.464v23.145H22.34z"}),i.createElement("path",{fill:"#FFF",stroke:"#8189A9",d:"M37.89 54.766h11.142v-6.02s.12-4.03-4.754-7.642c-4.368-3.235-6.08-6.52-6.387-9.634v23.296zm-11.733 0h-11.19v-6.02s-.12-4.03 4.755-7.642c4.716-3.494 6.335-7.043 6.435-10.377v24.04zm11.68 0V19.5s-.72-7.7-5.837-8.49c-5.116.788-5.838 8.487-5.838 8.487v35.266h11.676z"}),i.createElement("path",{fill:"#D9EEFF",stroke:"#8189A9",d:"M41.812 38.852V25.157s.485-6.92 3.24-6.92c2.757 0 3.243 6.92 3.243 6.92v20.885l-6.483-7.19zm-19.472 0V25.157s-.485-6.92-3.24-6.92c-2.756 0-3.242 6.92-3.242 6.92v20.365l6.482-6.67z"}),i.createElement("path",{stroke:"#8189A9",d:"M28.98 21.03c0-1.667 1.352-3.018 3.02-3.018 1.667 0 3.018 1.35 3.018 3.018",strokeLinecap:"round"}),i.createElement("path",{fill:"#D9EEFF",stroke:"#8189A9",d:"M29.134 54.77l-1.888 3.103h9.508l-1.886-3.102zm-11.77-.004l-1.506 2.477h7.59l-1.506-2.477zm24.846 0l-1.505 2.477h7.59l-1.506-2.477z"}),i.createElement("path",{stroke:"#8189A9",d:"M48.085 23.11h-6.063M38.667 5.778H25.333M22.13 23.11h-6.063"})))}},1857:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(1503),s=n(1378),c=n(1752),l=n(16),u=n(513),d=n(105),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._title&&(this._title.focus(),this._subs.push(l.Observable.fromEvent(document,"keydown").subscribe(function(t){a.SearchViewModel.isCmdKeyPressed(t,a.SearchViewModel.KEY_F)?(e._title&&(e._title.focus(),e._title.select()),t.preventDefault()):a.SearchViewModel.isCmdShiftKeyPressed(t,a.SearchViewModel.KEY_G)?(e._resultFunctionOrSelect(function(e){return e.prev()}),t.preventDefault()):a.SearchViewModel.isCmdKeyPressed(t,a.SearchViewModel.KEY_G)?(e._resultFunctionOrSelect(function(e){return e.next()}),t.preventDefault()):t.which===a.SearchViewModel.KEY_Esc&&(e.props.searchViewModel.visible.set(!1),t.preventDefault())}),this.props.searchViewModel.visible.filter(Boolean).subscribe(function(){requestAnimationFrame(function(){e._title&&(e._title.focus(),e._title.select())})})))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype._resultFunctionOrSelect=function(e){var t=this;this.props.searchViewModel.result.get().fold(function(){return t.props.searchViewModel.select()},e)},t.prototype.render=function(){var e=this,t=this.props.searchViewModel;return i.createElement("div",{className:c.view},i.createElement(o.F.div,{className:c.searchInputWrapper},i.createElement(u.Icon.SearchQuestion,{className:c.searchIcon}),i.createElement(o.F.input,r.__assign({name:a.SearchViewModel.SEARCH_INPUT_NAME,spellCheck:!1,mount:function(t){return e._title=t},placeholder:"Find in document",className:c.searchInput,autoFocus:!0},o.bind({value:t.term}),{onKeyDown:function(t){return t.keyCode===a.SearchViewModel.KEY_Enter&&e._resultFunctionOrSelect(function(e){return e.next()})}})),t.result.view(function(e){return e.getOrElse({count:0,current:0})}).view(function(e){var t=e.count,n=e.current;return t>0&&i.createElement("span",{className:c.counter,key:"count"},n,"/",t)})),i.createElement(s.Button.Round,{className:c.roundButton,name:"search-prev",disabled:t.result.view(function(e){return e.filter(function(e){return 1!==e.current}).isEmpty()}),onClick:function(){return e._resultFunctionOrSelect(function(e){return e.prev()})}},i.createElement(u.Icon.More,{className:c.lessIconUp})),i.createElement(s.Button.Round,{className:c.roundButton,name:"search-next",disabled:t.result.view(function(e){return e.filter(function(e){return e.current!==e.count}).isEmpty()}),onClick:function(){return e._resultFunctionOrSelect(function(e){return e.next()})}},i.createElement(u.Icon.More,{className:c.lessIcon})),i.createElement(s.Button.Round,{className:c.closeButton,name:"search-close",onClick:function(){return t.visible.set(!1)}},i.createElement(u.Icon.Close,null)))},t}(i.Component);t.SearchBarView=p;var m=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._subs.push(l.Observable.fromEvent(document,"keydown").filter(function(e){return a.SearchViewModel.isCmdKeyPressed(e,a.SearchViewModel.KEY_F)||a.SearchViewModel.isCmdKeyPressed(e,a.SearchViewModel.KEY_G)||a.SearchViewModel.isCmdShiftKeyPressed(e,a.SearchViewModel.KEY_G)}).subscribe(function(t){t.preventDefault(),0===e.context.visibleOverlays.get().size&&e.props.searchViewModel.visible.set(!0)}),this.context.visibleOverlays.filter(function(e){return e.size>0}).subscribe(function(){return e.props.searchViewModel.visible.set(!1)}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this;return i.createElement(o.F.div,{className:c.wrapper},this.props.searchViewModel.visible.view(function(t){return t&&i.createElement(p,{searchViewModel:e.props.searchViewModel})}))},t}(d.BaseComponent);t.SearchBar=m},1860:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(2),s=n(105),c=n(180),l=n(514),u=n(517),d=n(1406),p=n(1676),m=n(1861),f=n(1862),h=n(1464),g=function(e){var t=e.features,n=e.pageViewModel,r=e.minimized,o=e.criticalIssuesCount,s=e.advancedIssuesCount;return t.denali.counterType.fold(function(){return null},function(e){switch(e){case c.DenaliFeatures.CounterType.small:return i.createElement(f.IssueCounters,{pageViewModel:n,minimized:r,criticalIssuesCount:o,advancedIssuesCount:s,features:t});case c.DenaliFeatures.CounterType.large:return i.createElement(m.IssueCounters,{pageViewModel:n,minimized:r,criticalIssuesCount:o,advancedIssuesCount:s});default:return a.assertNever(e)}})},_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._criticalIssuesCount=t.props.documentModel.counters.view("critical"),t._advancedIssuesCount=t.props.documentModel.counters.view("advanced"),t._minimized=t.props.pageViewModel.stateHolder.sidebarOpen,t}return r.__extends(t,e),t.prototype._assistantProps=function(){var e=this;return{checking:this.props.documentModel.checkingState.view(function(e){return"idle"!==e}),minimized:this._minimized,hasErrors:o.Atom.combine(this._criticalIssuesCount,this._advancedIssuesCount,function(e,t){return e>0||t>0}),onClick:function(){e.context.gnarSpec.assistantOpenButtonClick(e.context.pageId,"default"),e.props.pageViewModel.switchTo(l.LensViewType.lensview)}}},t.prototype.render=function(){var e=this.props,t=e.features,n=e.pageViewModel;return i.createElement(o.F.section,{className:h.wrapper},i.createElement(g,{features:t,pageViewModel:n,minimized:this._minimized,criticalIssuesCount:this._criticalIssuesCount,advancedIssuesCount:this._advancedIssuesCount}),i.createElement(d.Onboarding,{key:"onboarding",alignment:"bottomLeft",eventType:"onclick",stepId:u.OnboardingStep.Id.Step3,title:"Writing Assistant",message:"Open the Writing Assistant to see Premium alerts and organized feedback.",themes:{spotClassName:h.onboardingSpot}},i.createElement(p.AssistantButton,r.__assign({},this._assistantProps()))))},t}(s.BaseComponent);t.NewToggler=_},1861:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(6),o=n(105),a=n(1378),s=n(1439),c=n(1756),l=n(1464);t.IssueCounters=o.withContext(function(e,t){var n=e.pageViewModel,o=e.minimized,u=e.criticalIssuesCount,d=e.advancedIssuesCount,p=t.textResources,m=t.pageId,f=t.gnarSpec;return r.createElement(i.F.div,{className:o.view(function(e){return e?l.fadeOutCounters:l.counters})},u.view(function(e){return e>0?r.createElement(a.Button,{key:"critical-issues",name:"critical-issues",className:c.issuesWrapper,onClick:function(){f.assistantOpenButtonClick(m,"critical"),n.switchToCritical()}},r.createElement(s.Counters.Counter,{count:e,type:"red",theme:c}),1===e?p.denali.sidebar.criticalIssue:p.denali.sidebar.criticalIssues):null}),d.view(function(e){return e>0?r.createElement(a.Button,{key:"advanced-issues",name:"advanced-issues",className:c.issuesWrapper,onClick:function(){f.assistantOpenButtonClick(m,"advanced"),n.switchToAdvanced()}},r.createElement(s.Counters.Counter,{count:e,type:"yellow",theme:c}),1===e?p.denali.sidebar.advancedIssue:p.denali.sidebar.advancedIssues):null}))})},1862:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(6),o=n(105),a=n(271),s=n(1378),c=n(1757),l=n(1464);t.IssueCounters=o.withContext(function(e,t){var n=e.pageViewModel,o=e.minimized,u=e.criticalIssuesCount,d=e.advancedIssuesCount,p=e.features,m=t.textResources,f=t.pageId,h=t.gnarSpec,g=p.denali.alertGroupNames===a.AlertGroupNames.CRITICAL_ADVANCED?{critical:m.denali.sidebar.critical,advanced:m.denali.sidebar.advanced}:{critical:m.denali.sidebar.free,advanced:m.denali.sidebar.premium};return r.createElement(i.F.div,{className:o.view(function(e){return e?l.fadeOutCounters:l.counters})},u.view(function(e){return e>0?r.createElement(s.Button,{key:"critical-issues",name:"critical-issues",className:c.issuesWrapper,onClick:function(){h.assistantOpenButtonClick(f,"critical"),n.switchToCritical()}},r.createElement("span",{className:c.criticalCounter},e),r.createElement("span",null," ",g.critical)):null}),d.view(function(e){return e>0?r.createElement(s.Button,{key:"advanced-issues",name:"advanced-issues",className:c.issuesWrapper,onClick:function(){h.assistantOpenButtonClick(f,"advanced"),n.switchToAdvanced()}},r.createElement("span",{className:c.advancedCounter},e),r.createElement("span",null," ",g.advanced)):null}))})},1863:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(2),s=n(91),c=n(268),l=n(513),u=n(1378),d=n(1401),p=n(1381),m=n(18),f=n(105),h=n(1758),g=n(32),_=["b","i","br"],v=function(e){return s.ReactUtils.setInnerHTML(e,{allowedTags:_})};t.Full=function(e){var t=e.state,n=e.card,a=e.pageViewModel,s=e.plagiarismViewModel,c=t.view("alerts");return i.createElement(o.F.div,{className:h.wrapper},i.createElement("div",{className:h.main},i.createElement("div",{className:h.plagiarismP2},i.createElement(o.F.span,{className:h.percent},c.switchMap(function(e){return s.getPercent(e)}),"%")," of your text matches this source:"),i.createElement(E,{alert:n.activeAlert}),i.createElement(u.Button.Round,{name:"ignore",title:"Dismiss",className:h.ignoreButton,onClick:function(){var e=c.get();e[0].dismissBatch(e)}},i.createElement(l.Icon.Ignore,null))),i.createElement(S,{alert:n.activeAlert}),c.view(function(e){return e.length>1&&i.createElement(k,r.__assign({key:"matches"},{state:t,pageViewModel:a}))}))};var b=f.withContext(function(e,t){var n=e.textToCopy,o=e.children,s=t.notifications,c=t.environment;return i.createElement(u.Button.Flat,{key:"copy_title",name:"copy_title",title:"Click to copy",className:h.copyableReference,onClick:function(){return a.Clipboard.copy(n,c.has(g.Environment.Flag.useSetDataOnCopy)).then(function(){s.showMessage("Reference copied to clipboard")}).catch(function(){s.show(s.create.copyToClipboardFailed())})}},o,i.createElement("div",r.__assign({className:h.textToCopy},v(n))))}),y=function(e){var t=e.title,n=e.url;return i.createElement("div",r.__assign({},o.classes(h.plagiarismTitle)),i.createElement("div",r.__assign({},v(t))),n.map(function(e){return i.createElement(u.Button,{name:"url-button",href:e,target:"_blank",className:h.titleUrl},e)}).orNull())},w=function(e){var t=e.title,n=e.authors;return i.createElement("div",r.__assign({},o.classes(h.plagiarismTitle)),i.createElement("span",r.__assign({},v(t))),n.map(function(e){return i.createElement("span",null," ",i.createElement("span",{className:h.titleBy},"by")," ",i.createElement("span",r.__assign({},v(e))))}).orNull())},E=function(e){var t=e.alert;return"publication"===t.plagiarismType.source?i.createElement(w,{title:t.title,authors:t.plagiarismType.authors}):i.createElement(y,{title:t.title,url:t.plagiarismType.url})},M={mla:"MLA",apa:"APA",chicago:"Chicago"},C=Object.keys(M),S=function(e){var t=e.alert,n=o.Atom.create("mla");return"publication"===t.plagiarismType.source?i.createElement(o.F.div,{key:"publication",className:h.referenceWrapper},n.view(function(e){return[i.createElement(b,{key:"rf1"+e,textToCopy:t.plagiarismType.citationStyle[e]}),i.createElement("div",{className:h.referenceData},"Reference data – click to copy in  ",i.createElement(d.Dropdown,{vAlign:"top",name:"plagiarism",label:i.createElement(u.Button,{name:"citation-style-select",active:!1,className:h.citationStyleSelect},M[e]," ",i.createElement(l.Icon.CitationStyle,{className:h.citationStyleIcon})," ")},C.map(function(e){return i.createElement(u.Button.Flat,{className:h.citationStyleDdlButton,key:e,name:"citation-button-"+e,active:n.view(function(t){return t===e}),onClick:function(){return n.set(e)}},M[e])}))," format")]})):i.createElement("div",{key:"web",className:h.referenceWrapper},i.createElement(b,{textToCopy:t.title+t.plagiarismType.url.map(function(e){return". "+e}).getOrElse("")},i.createElement("div",{className:h.referenceData},"Reference data – click to copy")))},k=function(e){var t=e.state,n=e.pageViewModel;m.invariant(t&&t.get().alerts.length>0,"matches should contain at least one element");var r=t.view(function(e){return e.alerts[e.index]}),a=t.view("alerts"),s=t.lens("index");return i.createElement("div",null,i.createElement("div",{className:h.matchesContainer},i.createElement(o.F.div,{className:h.matchesContainerLeft},i.createElement(o.F.div,{className:h.matchesIndex},s.view(function(e){return e+1})),i.createElement(p.P2,null,"of ",a.view(function(e){return e.length})," matches")),i.createElement("div",{className:h.matchesContainerRight},i.createElement(u.Button.Caps,{className:h.leftButton,name:"left",disabled:s.view(function(e){return e<=0}),onClick:function(){s.modify(function(e){return Math.max(e-1,0)}),n.switchToAlert(r.get(),c.AlertActionSource.sidebar,"lensOrder")}},i.createElement(l.Icon.More,{className:h.leftButtonIcon}),"Previous"),i.createElement(u.Button.Caps,{name:"right",disabled:s.view(function(e){return e>=a.get().length-1}),onClick:function(){s.modify(function(e){return Math.min(e+1,a.get().length-1)}),n.switchToAlert(r.get(),c.AlertActionSource.sidebar,"lensOrder")}},"Next",i.createElement(l.Icon.More,{className:h.rightButtonIcon})))))}},1864:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(1408),s=n(2),c=n(1759);t.Mini=function(e){var t=e.cardId,n=e.getAlert,l=e.marksVM,u=e.pageViewModel,d=n();return i.createElement(a.BaseCard.Mini,r.__assign({cardId:t,getActiveAlert:n,className:c.dotPlagiarism},{marksVM:l,pageViewModel:u}),i.createElement("div",{className:c.wrapper},i.createElement("span",r.__assign({key:"title"},o.classes(c.text,"publication"===d.plagiarismType.source&&c.fullText)),d.title),"web"===d.plagiarismType.source?d.plagiarismType.url.map(s.StringUtils.urlToDomain).filter(s.notEmpty).map(function(e){return i.createElement("span",{key:"url",className:c.domain}," — ",e)}).orNull():d.plagiarismType.authors.map(function(e){return i.createElement("span",{key:"publication",className:c.publication}," — ",e)}).orNull()))}},1866:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(1425),a=n(1655),s=n(105),c=n(6),l=n(2),u=n(1678),d=n(1504),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(o.AnimationWrapper),m=function(e,t){var n=function(e){return e+" "+a.transitionDelay};return e&&e.type===d.SuccessLensViewModel.SuccessType.large&&t.type===d.SuccessLensViewModel.SuccessType.small?{prev:{start:{title:a.fadeOutEnd,firstLine:a.fadeOutEnd,secondLine:a.fadeOutEnd},end:{title:a.fadeOutEnd,firstLine:a.fadeOutEnd,secondLine:a.fadeOutEnd}},next:{start:{title:a.visible,firstLine:a.visible,secondLine:a.fadeInStart},end:{title:a.visible,firstLine:a.visible,secondLine:a.fadeInEnd}}}:e&&e.type===d.SuccessLensViewModel.SuccessType.small&&t.type===d.SuccessLensViewModel.SuccessType.large?{prev:{start:{title:a.fadeOutEnd,firstLine:a.fadeOutEnd,secondLine:a.fadeOutStart},end:{title:a.fadeOutEnd,firstLine:a.fadeOutEnd,secondLine:a.fadeOutEnd}},next:{start:{title:a.visible,firstLine:a.visible,secondLine:a.visible},end:{title:a.visible,firstLine:a.visible,secondLine:a.visible}}}:{prev:{start:{title:a.fadeOutStart,firstLine:a.fadeOutStart,secondLine:a.fadeOutStart},end:{title:a.fadeOutEnd,firstLine:a.fadeOutEnd,secondLine:a.fadeOutEnd}},next:{start:{title:n(a.fadeInStart),firstLine:n(a.fadeInStart),secondLine:n(a.fadeInStart)},end:{title:n(a.fadeInEnd),firstLine:n(a.fadeInEnd),secondLine:n(a.fadeInEnd)}}}};t.getStateText=function(e,t){var n=t.denali.successLens;switch(e){case d.SuccessLensViewModel.SuccessType.zero:return r.__assign({},n.emptyText,{type:d.SuccessLensViewModel.SuccessType.zero});case d.SuccessLensViewModel.SuccessType.small:return r.__assign({},n.smallText,{type:d.SuccessLensViewModel.SuccessType.small});case d.SuccessLensViewModel.SuccessType.large:return r.__assign({},n.largeText,{type:d.SuccessLensViewModel.SuccessType.large});case d.SuccessLensViewModel.SuccessType.applied:return{title:n.fixedText.titles[l.rand(9)],type:d.SuccessLensViewModel.SuccessType.applied};default:return l.assertNever(e)}},t.getBasicStateIllustration=function(e,t,n){switch(void 0===n&&(n=u.getIllustration()),e){case d.SuccessLensViewModel.SuccessType.zero:return i.createElement(n.NothingToCheck,{key:"nothing-to-check",animate:t});case d.SuccessLensViewModel.SuccessType.small:case d.SuccessLensViewModel.SuccessType.large:return i.createElement(n.NoIssuesFound,{key:"no-issues-found",animate:t});case d.SuccessLensViewModel.SuccessType.applied:return i.createElement(n.EverythingIsClear,{key:"everything-is-clear",animate:t});default:return l.assertNever(e)}},t.getStateIllustration=function(e,n,r){void 0===r&&(r=!0);var o=u.getIllustration();switch(e){case d.SuccessLensViewModel.SuccessType.zero:return n===d.SuccessLensViewModel.SuccessType.large||n===d.SuccessLensViewModel.SuccessType.small?i.createElement(o.NoIssueFoundToNothingToCheck,{key:"no-issue-found-to-nothing-to-check",animate:r}):t.getBasicStateIllustration(e,r,o);case d.SuccessLensViewModel.SuccessType.applied:return t.getBasicStateIllustration(e,r,o);case d.SuccessLensViewModel.SuccessType.large:case d.SuccessLensViewModel.SuccessType.small:return n===d.SuccessLensViewModel.SuccessType.zero?i.createElement(o.NothingToNoIssueFound,{key:"nothing-to-no-issue-found",animate:r}):t.getBasicStateIllustration(e,r&&n!==d.SuccessLensViewModel.SuccessType.large&&n!==d.SuccessLensViewModel.SuccessType.small,o);default:return l.assertNever(e)}},t.SuccessContainer=s.withContext(function(e,n){var o=e.state,s=e.preventAnimation,l=n.textResources,u=o.get();return i.createElement(c.F.div,{className:a.successContainer},o.pairwise().map(function(e){var n=e[0],r=e[1];return t.getStateIllustration(r,n,!s)}).startWith(t.getBasicStateIllustration(u,!s)),i.createElement(p,{className:a.animationWrapper,state:o.map(function(e){return t.getStateText(e,l)}),stateToClassMapper:m},function(e){var t=e.state,n=e.view;return i.createElement("div",{"data-name":"success-lens-text",key:t.type,className:a.textWrapper},i.createElement(c.F.div,r.__assign({key:"title"},c.classes(a.successTitle,n.map(function(e){return e.title}))),t.title),i.createElement("div",{className:a.successContent},i.createElement(c.F.div,{key:"firstLine",className:n.map(function(e){return e.firstLine})},t.firstLine),i.createElement(c.F.div,{key:"secondLine",className:n.map(function(e){return e.secondLine})},t.secondLine)))}))})},1867:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(7),s=n(6),c=n(4),l=n(18),u=n(105),d=n(1664),p=n(513),m=n(1378),f=n(1419),h=n(1659),g=n(1381),_=n(1397),v=n(2),b=n(1656),y=function(e){var t=e.value,n=e.children,r=e.dataName;return i.createElement("div",{className:b.halfRow,"data-name":r},i.createElement(g.P1,{className:b.number},t.toLocaleString()),i.createElement(g.P1,{className:b.numberTitle},n))},w=function(e){var t=e.value,n=e.children,r=e.dataName;return i.createElement("div",{className:b.halfRow,"data-name":r},i.createElement(g.P1,{className:b.time},v.DateUtils.convertTimeToShortString(t)),i.createElement(g.P1,{className:b.timeTitle},n))},E=function(e){var t=e.value,n=e.raw,r=e.children,o=e.dataName;return i.createElement("div",{className:b.row,"data-name":o},i.createElement(g.P1,{className:b.number},t),i.createElement(g.P1,{className:b.numberTitle},r),i.createElement(h.Progress,{value:n,className:b.progress,progressClass:b.progressStatistics}),i.createElement(h.Progress.Label,{value:n,className:b.progressLabel}))},M=function(e){var t=e.title;return i.createElement(m.InfoButton,{title:t,buttonClass:b.infoButton,iconClass:b.infoIcon,tooltipClass:b.descriptionTooltip})};t.StatisticsHeader=function(e){var n=e.stats;return i.createElement(_.Modal.Header,{className:b.modalHeader},i.createElement(t.Title,null),i.createElement("section",{className:b.headerBlock},i.createElement(y,{value:Math.max(n.chars-1,0)},"Characters"),i.createElement(w,{value:l.CAPI.DocumentStatistics.calculateReadingTime(n.words)},"Reading time"),i.createElement(y,{value:n.words},"Words"),i.createElement(w,{value:l.CAPI.DocumentStatistics.calculateSpeakingTime(n.words)},"Speaking time"),i.createElement(y,{value:n.sentences},"Sentences")))},t.StatisticsBody=u.withContext(function(e,t){var n=e.stats;return i.createElement(_.Modal.Body,null,i.createElement("section",{className:b.bodyBlock},i.createElement("div",{className:b.sectionHeaderWrapper},i.createElement("div",{className:b.sectionHeaderFont},"Vocabulary"),i.createElement(g.Small,null,"Metrics compared to other Grammarly users")),i.createElement(E,{value:Math.round(n.uniqueWords)+"%",raw:n.uniqueWordsIndex,dataName:"uniqueWords"},t.textResources.denali.documentStats.uniqueWordsTitle," ",i.createElement(M,{title:t.textResources.denali.documentStats.uniqueWords})),i.createElement(E,{value:Math.round(n.rareWords)+"%",raw:n.rareWordsIndex,dataName:"rareWords"},t.textResources.denali.documentStats.rareWordsTitle," ",i.createElement(M,{title:t.textResources.denali.documentStats.rareWords}))),i.createElement("section",{className:b.bodyBlock},i.createElement("div",r.__assign({},s.classes(b.sectionHeaderFont,b.sectionHeaderUnderline)),"Readability"),i.createElement(E,{value:Math.round(10*n.wordLength)/10,raw:n.wordLengthIndex,dataName:"wordLengthIndex"},t.textResources.denali.documentStats.wordLengthTitle),i.createElement(E,{value:Math.round(10*n.sentenceLength)/10,raw:n.sentenceLengthIndex,dataName:"sentenceLengthIndex"},t.textResources.denali.documentStats.sentenceLengthTitle),i.createElement(y,{value:Math.round(n.readabilityScore),dataName:"readability"},"Readability score ",i.createElement(M,{title:t.textResources.denali.documentStats.readability})),i.createElement("div",{className:b.row},i.createElement(g.P1,{className:b.number}," "),i.createElement(g.Small,{className:b.readabilityDescr},n.readabilityDescription))))});var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._loadingState=s.Atom.create(t.props.statsLoadingState),t._buttonState=s.Atom.combine(t.props.reportViewModel.downloadStarted,t._loadingState,function(e,n){return t._getButtonState(e,n)}),t}return r.__extends(t,e),t.prototype._getButtonState=function(e,t){var n=this.context.textResources.denali.documentStats;return e?{disabled:!0,className:b.preparingForReportLabel,children:i.createElement("span",{key:"stats-load-container",className:b.loaderContainer},n.report.preparingPdfReport,i.createElement(f.Spinner,{size:20,variation:"blue",wrapperClassName:b.downloadPdfSpinner}),i.createElement(d.PDFReportGenerator,{reportViewModel:this.props.reportViewModel}))}:Object.assign({className:b.downloadPdfReportButton,children:i.createElement("span",{key:"download-button"},i.createElement(p.Icon.Download,{className:b.downloadIcon}),n.report.downloadPdfReport)},t===S.READY?{disabled:!1}:{disabled:!0,title:t===S.SHORT_CONTENT?n.notEnoughTextToGenerateReport:void 0})},t.prototype.componentWillUnmount=function(){this.props.reportViewModel.tryToInterrupt()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillReceiveProps=function(e){var t=e.statsLoadingState;this._loadingState.set(t)},t.prototype.render=function(){return i.createElement(m.Button.Caps,{name:"download-pdf-report",title:this._buttonState.view("title"),className:this._buttonState.view("className"),disabled:this._buttonState.view("disabled"),onClick:this.props.reportViewModel.beginDownload},this._buttonState.view("children"))},t}(u.BaseComponent);t.DownloadPdfReportButton=C,t.StatisticsFooter=function(e){var t=e.close,n=e.reportViewModel,r=e.statsLoadingState;return i.createElement(_.Modal.Footer,null,i.createElement(C,{statsLoadingState:r,reportViewModel:n}),i.createElement(m.Button.Blue,{name:"close-stats",onClick:t},"Close"))},t.Title=function(e){var t=e.className;return i.createElement(g.H1,{className:t},"Document Insights")},t.StatisticsLoading=function(){return i.createElement(_.Modal.Body,{className:b.loaderHolder},i.createElement(t.Title,{className:b.loaderHeader}),i.createElement(f.Spinner,{size:64,className:b.loader,variation:"blue"}))};var S,k=function(){return i.createElement(_.Modal.Body,{className:b.loaderHolder},i.createElement(t.Title,{className:b.loaderHeader}))};!function(e){e[e.ERROR=0]="ERROR",e[e.EMPTY=1]="EMPTY",e[e.LOADING=2]="LOADING",e[e.SHORT_CONTENT=3]="SHORT_CONTENT",e[e.READY=4]="READY"}(S=t.StatsLoadingState||(t.StatsLoadingState={}));!function(e){e[e.DISABLED=0]="DISABLED",e[e.ACTIVE=1]="ACTIVE",e[e.DOWNLOADING=2]="DOWNLOADING",e[e.TOO_SHORT=3]="TOO_SHORT"}(t.DownloadButtonState||(t.DownloadButtonState={}));var x=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._close=function(){t.props.visible.set(!1)},t}return r.__extends(n,e),n.prototype._getContent=function(e){switch(e.type){case S.ERROR:return[null];case S.EMPTY:return[i.createElement(k,{key:"empty"})];case S.LOADING:return[i.createElement(t.StatisticsLoading,{key:"loading"})];case S.READY:case S.SHORT_CONTENT:return[i.createElement(t.StatisticsHeader,{key:"header",stats:e.stats}),e.type===S.READY?i.createElement(t.StatisticsBody,{key:"body",stats:e.stats}):i.createElement(A,{key:"emptyBody"})];default:return v.assertNever(e)}},n.prototype.render=function(){var e=this,n=this.props,r=n.documentModel,s=n.reportViewModel;return i.createElement(_.Modal,{className:b.wrapper},o.Observable.combineLatest(v.RxUtils.promiseToStream(function(){return r.calculateStats()}),r.checkingState,function(e,t){return"idle"!==t?a.None:e}).switchMap(function(t){return t.map(function(t){return t.fold(function(t){return c.Monitoring.Logging.getLogger("editor.toolbar").error("Error on requesting document stats",t),e._close(),e.context.notifications.showMessage("Error on requesting document statistics. Please try again later."),o.Observable.of({type:S.ERROR})},function(e){return r.score.view(function(t){return{type:t.fold(function(){return S.SHORT_CONTENT},function(){return S.READY}),stats:e}})})}).getOrElse(o.Observable.of({type:S.LOADING}).delay(150))}).startWith({type:S.EMPTY}).map(function(n){return e._getContent(n).concat([i.createElement(t.StatisticsFooter,{key:"footer",statsLoadingState:n.type,reportViewModel:s,close:e._close})])}))},n}(u.BaseComponent);t.StatisticsView=x,t.StatisticsModal=function(e){var t=e.documentModel,n=e.reportViewModel,r=e.visible;return i.createElement("div",{className:b.statisticsWrapper},i.createElement(_.Overlay,{visible:r,animate:!0},i.createElement(x,{documentModel:t,visible:r,reportViewModel:n})))};var A=u.withContext(function(e,t){var n=t.textResources;return i.createElement("div",{className:b.emptyBodyContainer},i.createElement("svg",{width:"215",height:"89",viewBox:"0 0 192 80",xmlns:"http://www.w3.org/2000/svg"},i.createElement("g",{fill:"none",fillRule:"evenodd"},i.createElement("path",{stroke:"#E4E6F2",strokeWidth:"2",d:"M1.252 79.17l29.645-29.645L48.003 65.25l48.16-47.57 47.33 32.968 41.6-43.88"}),i.createElement("text",{stroke:"#FFF",strokeWidth:"5",fontFamily:"Times-Roman, Times",fontSize:"27",letterSpacing:"1.543",fill:"#FFF",transform:"translate(1)"},i.createElement("tspan",{x:"81.878",y:"54.439"},"T")),i.createElement("path",{d:"M108.284 8.288h-38.6c-1.105 0-2 .895-2 2v59.54c0 1.104.895 2 2 2h49.87c1.105 0 2-.896 2-2v-48.27l-13.27-13.27z",fill:"#D7ECFF"}),i.createElement("path",{d:"M181.277 43.362c1.293 4.55 4.85 8.108 9.4 9.4.724.205.724 1.23 0 1.436-4.55 1.293-8.107 4.85-9.4 9.4-.205.724-1.23.724-1.435 0-1.293-4.55-4.85-8.107-9.4-9.4-.723-.206-.723-1.23 0-1.435 4.55-1.293 8.107-4.85 9.4-9.4.206-.723 1.23-.723 1.435 0M43.148.542c1.293 4.55 4.85 8.108 9.4 9.4.723.205.723 1.23 0 1.436-4.55 1.293-8.107 4.85-9.4 9.4-.206.724-1.23.724-1.435 0-1.293-4.55-4.85-8.107-9.4-9.4-.724-.206-.724-1.23 0-1.435 4.55-1.293 8.107-4.85 9.4-9.4.206-.724 1.23-.724 1.435 0M11.102 26.576c.79 2.783 2.966 4.96 5.75 5.75.442.124.442.75 0 .877-2.784.79-4.96 2.966-5.75 5.75-.125.44-.75.44-.877 0-.79-2.784-2.966-4.96-5.75-5.75-.442-.126-.442-.753 0-.878 2.784-.79 4.96-2.966 5.75-5.75.126-.44.752-.44.877 0M153.376 7.238c.79 2.783 2.966 4.96 5.75 5.75.44.124.44.75 0 .877-2.784.79-4.96 2.966-5.75 5.75-.126.44-.752.44-.878 0-.79-2.784-2.966-4.96-5.75-5.75-.44-.126-.44-.753 0-.878 2.784-.79 4.96-2.966 5.75-5.75.126-.44.752-.44.878 0",fill:"#F9E799"}),i.createElement("path",{fill:"#A4D3FF",opacity:".5",className:b.emptyBodySvgPath,d:"M107.74 8.288L121.555 22.1H107.74"}),i.createElement("path",{d:"M79.424 30.388h30.39M79.424 41.44h30.39M79.424 52.49h30.39",stroke:"#FFF",strokeWidth:"2",strokeLinecap:"round"}),i.createElement("path",{fill:"#E4E6F2",d:"M174.043 8.09l13.813-3.946-3.946 13.813"}))),i.createElement(g.Paper,{className:b.emptyBodyText},n.denali.documentStats.notEnoughTextToCalculateStats))})},1868:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(7),a=n(6),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._tourModal=a.Atom.create(o.Option.empty()),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;(new Image).src=n(1657),n.e(9).then(n.bind(null,1936)).then(function(t){var n=t.TourInit;e._tourModal.set(o.Some(i.createElement(n,{type:e.props.type,settings:e.props.settings,onReady:function(){return e.props.tourLoaded.set(!0)}})))})},t.prototype.render=function(){return i.createElement(a.F.div,null,this._tourModal.view(function(e){return e.orNull()}))},t}(i.Component);t.TourWrapper=s},1878:function(e,t,n){t=e.exports=n(1391)(),t.push([e.i,"._919eba06-components-checkMark{display:inline-block;margin-right:11.9px;margin-bottom:6.8px;width:27.2px;height:27.2px;vertical-align:middle}",""]),t.locals={checkMark:"_919eba06-components-checkMark"}},1879:function(e,t,n){t=e.exports=n(1391)(),t.push([e.i,"._c8b13784-components-radialProgressBar{width:120.7px;height:120.7px;font-weight:700;-webkit-transform:translateX(-10.2px);transform:translateX(-10.2px);fill:#2b2d38}._2125236f-components-progress{font-size:20px}._4d16220d-components-description{font-weight:400;font-size:11px;fill:#8189a9}",""]),t.locals={radialProgressBar:"_c8b13784-components-radialProgressBar",progress:"_2125236f-components-progress",description:"_4d16220d-components-description"}},1880:function(e,t,n){t=e.exports=n(1391)(),t.push([e.i,"._0255efa9-report-invisible{position:absolute;visibility:hidden}._9de326bd-report-content{box-sizing:border-box;margin:0 -8px;padding-right:74.8px;padding-left:244.8px;width:1190px;font-family:Akkurat Std;-webkit-font-smoothing:antialiased}._9de326bd-report-content thead{display:table-row-group}._66f3de2a-report-separatorRemover{position:fixed;top:0;width:100%;height:3px;background-color:#fff}",""]),t.locals={invisible:"_0255efa9-report-invisible",content:"_9de326bd-report-content",separatorRemover:"_66f3de2a-report-separatorRemover"}},1881:function(e,t,n){t=e.exports=n(1391)(),t.i(n(1492),void 0),t.push([e.i,"._7347da36-sections-insightsSection:not(:first-child){margin-top:40.8px}._bedfea4c-sections-insightTable{margin-top:40.8px;width:870.4px}._f0af9adb-sections-insightHeader{letter-spacing:0;font-weight:700;font-size:30.6px;line-height:54.4px}._2b1979d3-sections-insightBody{color:#8189a9;letter-spacing:.187px;font-size:22.1px;line-height:34px}._4f0695c3-sections-insightTextCell{padding-right:54.4px;width:545.7px}._73ab2a36-sections-insightTextHeader{text-transform:capitalize}._fa63635f-sections-insightScoreCell{width:324.7px;vertical-align:top;text-transform:lowercase}._ced96f3e-sections-insightScore{color:#4c7af1;letter-spacing:-.17px}",""]),t.locals={insightsSection:"_7347da36-sections-insightsSection "+n(1492).locals.section,insightTable:"_bedfea4c-sections-insightTable "+n(1492).locals.genericTable,insightHeader:"_f0af9adb-sections-insightHeader",insightBody:"_2b1979d3-sections-insightBody",insightTextCell:"_4f0695c3-sections-insightTextCell",insightTextHeader:"_73ab2a36-sections-insightTextHeader _4f0695c3-sections-insightTextCell",insightScoreCell:"_fa63635f-sections-insightScoreCell",insightScore:"_ced96f3e-sections-insightScore _fa63635f-sections-insightScoreCell"}},1882:function(e,t,n){t=e.exports=n(1391)(),t.push([e.i,"._61170574-sections-section{border-top:1px solid #e4e6f2;page-break-inside:avoid}._e4e9aea5-sections-sectionHeader{margin-top:40.8px;color:#2b2d38;letter-spacing:0;font-weight:700;font-size:30.6px;line-height:54.4px}._a3d49063-sections-genericTable{width:100%;table-layout:fixed;text-align:left}._f9980777-sections-text{color:#8189a9;letter-spacing:.187px;font-size:22.1px;line-height:34px}._41339ef9-sections-generalMetricsSection{margin-bottom:23.8px}._ad9477ed-sections-generalMetricsHeader{margin:39.1px 0 6.8px}._41339ef9-sections-generalMetricsSection table{width:100%;white-space:nowrap}._41339ef9-sections-generalMetricsSection tbody{vertical-align:top}._cd7ec05c-sections-metrics{color:#4c7af1;letter-spacing:0;font-weight:700;font-size:25.5px;line-height:39.1px}._cd7ec05c-sections-metrics td{width:21.875%}",""]),t.locals={section:"_61170574-sections-section",sectionHeader:"_e4e9aea5-sections-sectionHeader",genericTable:"_a3d49063-sections-genericTable",text:"_f9980777-sections-text",generalMetricsSection:"_41339ef9-sections-generalMetricsSection _61170574-sections-section",generalMetricsHeader:"_ad9477ed-sections-generalMetricsHeader _e4e9aea5-sections-sectionHeader",metrics:"_cd7ec05c-sections-metrics"}},1883:function(e,t,n){t=e.exports=n(1391)(),t.push([e.i,"._84028050-sections-section{border-top:1px solid #e4e6f2;page-break-inside:avoid}._22ec0fa8-sections-sectionHeader{margin-top:40.8px;color:#2b2d38;letter-spacing:0;font-weight:700;font-size:30.6px;line-height:54.4px}._f3ba09e5-sections-genericTable{width:100%;table-layout:fixed;text-align:left}._c2ae9678-sections-text{color:#8189a9;letter-spacing:.187px;font-size:22.1px;line-height:34px}._66aa1bf7-sections-plagiarismSection{page-break-after:always}._75498e4e-sections-plagiarismSectionHeader{margin:39.1px 0 17px}._3c9846da-sections-original{display:-webkit-flex;display:flex;-webkit-align-items:center;align-items:center}._188a3ea7-sections-plagiarismMark{margin-right:.8rem}._93239183-sections-score{width:21.875%}._80f5a5fd-sections-percent{margin-top:0;width:108.8px;text-align:center}._2a6c308d-sections-sources{padding-top:47.6px;padding-bottom:0;width:78.125%;vertical-align:top}._f769f942-sections-sourcesCount{color:#2b2d38;letter-spacing:0;font-weight:700;font-size:30.6px;line-height:30.6px}._09622601-sections-scoreDescription{padding-top:17px;white-space:pre-line}",""]),t.locals={section:"_84028050-sections-section",sectionHeader:"_22ec0fa8-sections-sectionHeader",genericTable:"_f3ba09e5-sections-genericTable",text:"_c2ae9678-sections-text",plagiarismSection:"_66aa1bf7-sections-plagiarismSection _84028050-sections-section",plagiarismSectionHeader:"_75498e4e-sections-plagiarismSectionHeader _22ec0fa8-sections-sectionHeader",original:"_3c9846da-sections-original _c2ae9678-sections-text",plagiarismMark:"_188a3ea7-sections-plagiarismMark",score:"_93239183-sections-score _c2ae9678-sections-text",percent:"_80f5a5fd-sections-percent",sources:"_2a6c308d-sections-sources _c2ae9678-sections-text",sourcesCount:"_f769f942-sections-sourcesCount",scoreDescription:"_09622601-sections-scoreDescription _c2ae9678-sections-text"}},1884:function(e,t,n){t=e.exports=n(1391)(),t.push([e.i,"._07014980-sections-section{border-top:1px solid #e4e6f2;page-break-inside:avoid}._cd19cac7-sections-sectionHeader{margin-top:40.8px;color:#2b2d38;letter-spacing:0;font-weight:700;font-size:30.6px;line-height:54.4px}._5892157f-sections-genericTable{width:100%;table-layout:fixed;text-align:left}._3acbd539-sections-text{color:#8189a9;letter-spacing:.187px;font-size:22.1px;line-height:34px}._308e79e3-sections-scoreTable{margin:37.4px 0 8.5px}._308e79e3-sections-scoreTable th{padding-bottom:11.9px}._308e79e3-sections-scoreTable ._58adb618-sections-score{width:43.75%}._308e79e3-sections-scoreTable ._dac1af35-sections-writingIssues{width:56.25%}._3fea7cf9-sections-issuesSummary{display:-webkit-flex;display:flex;vertical-align:top;-webkit-align-items:center;align-items:center}._3fea7cf9-sections-issuesSummary span{padding-left:.8rem}._044e09da-sections-issueCounters{padding-top:51px;white-space:nowrap}._02551a77-sections-issueCounter{letter-spacing:.34px;font-weight:700;font-size:25.5px;line-height:32.3px}._7feaa693-sections-issuesLeftBlock{display:inline-block}._4648b58c-sections-total{width:38.88%}._4648b58c-sections-total ._02551a77-sections-issueCounter{color:#2b2d38;letter-spacing:0;font-size:30.6px}._10e6403b-sections-critical{width:38.88%}._10e6403b-sections-critical ._02551a77-sections-issueCounter{color:#f23452}._5ae4183f-sections-advanced{width:22.24%}._5ae4183f-sections-advanced ._02551a77-sections-issueCounter{color:#f6bc41}",""]),t.locals={section:"_07014980-sections-section",sectionHeader:"_cd19cac7-sections-sectionHeader",genericTable:"_5892157f-sections-genericTable",text:"_3acbd539-sections-text",scoreTable:"_308e79e3-sections-scoreTable _5892157f-sections-genericTable",score:"_58adb618-sections-score",writingIssues:"_dac1af35-sections-writingIssues",issuesSummary:"_3fea7cf9-sections-issuesSummary _3acbd539-sections-text",issueCounters:"_044e09da-sections-issueCounters _3fea7cf9-sections-issuesSummary _3acbd539-sections-text",issueCounter:"_02551a77-sections-issueCounter",issuesLeftBlock:"_7feaa693-sections-issuesLeftBlock",total:"_4648b58c-sections-total _7feaa693-sections-issuesLeftBlock",critical:"_10e6403b-sections-critical _7feaa693-sections-issuesLeftBlock",advanced:"_5ae4183f-sections-advanced _7feaa693-sections-issuesLeftBlock"}},1885:function(e,t,n){t=e.exports=n(1391)(),t.push([e.i,"._ab135555-sections-author{color:#8189a9;letter-spacing:0;font-size:25.5px;line-height:40.8px}._bdd4d656-sections-titleSection{margin-bottom:37.4px;page-break-inside:avoid}._69afb945-sections-title{display:-webkit-box;overflow:hidden;color:#2b2d38;word-wrap:break-word;hyphens:auto;font-weight:700;-webkit-line-clamp:5;-webkit-box-orient:vertical}._d3f6e34d-sections-largeTitle{margin-bottom:37.4px;font-size:47.6px;line-height:68px}._85cce117-sections-mediumTitle{font-size:37.4px;line-height:54.4px}._b56c7aba-sections-smallTitle{font-size:30.6px;line-height:54.4px}._b0f2eecb-sections-titleContainer{overflow:hidden;text-overflow:ellipsis}",""]),t.locals={author:"_ab135555-sections-author",titleSection:"_bdd4d656-sections-titleSection",title:"_69afb945-sections-title",largeTitle:"_d3f6e34d-sections-largeTitle _69afb945-sections-title",mediumTitle:"_85cce117-sections-mediumTitle _69afb945-sections-title",smallTitle:"_b56c7aba-sections-smallTitle _69afb945-sections-title",titleContainer:"_b0f2eecb-sections-titleContainer"}},1886:function(e,t,n){t=e.exports=n(1391)(),t.push([e.i,"._f2afcbbf-sections-section{border-top:1px solid #e4e6f2;page-break-inside:avoid}._880230dc-sections-sectionHeader{margin-top:40.8px;color:#2b2d38;letter-spacing:0;font-weight:700;font-size:30.6px;line-height:54.4px}._1c79d012-sections-genericTable{width:100%;table-layout:fixed;text-align:left}._ebb0092e-sections-text{color:#8189a9;letter-spacing:.187px;font-size:22.1px;line-height:34px}._b662ac32-sections-writingIssuesSection{border-top:1px solid #e4e6f2}._025a1d14-sections-writingIssuesTable{position:relative;margin-bottom:37.4px;width:742.9px}._025a1d14-sections-writingIssuesTable td,._025a1d14-sections-writingIssuesTable th{vertical-align:top;page-break-inside:avoid}._7a588869-sections-issueHeader{page-break-after:avoid}._20b5aa1e-sections-categoryAmount{width:54.4px;font-weight:700;line-height:37.4px}._ab35c199-sections-issueAmount{padding-right:17px;color:#f43c5c;text-align:right;font-weight:700;font-size:22.1px;line-height:40.8px}._46639b12-sections-circle{margin-left:10.2px;width:34px;height:34px;border-radius:17px;background:#f23452;color:#fff;text-align:center;font-size:20.4px;line-height:34px}._72d626ea-sections-oval{width:40.8px}._8b026d73-sections-generalTitle{padding-left:37.4px;width:498.1px;color:#2b2d38;letter-spacing:0;font-size:23.8px;line-height:40.8px}._a718cee7-sections-issueTitle{text-transform:lowercase;font-weight:400}._a718cee7-sections-issueTitle:first-letter{text-transform:capitalize}._570fc18b-sections-categoryTitle{font-weight:700}._374c5f78-sections-fakeHeader{position:absolute;top:0;left:0;width:100%;background:#fff;line-height:40.8px}._14b7d401-sections-progressBarCell{width:190.4px}._59ca7f05-sections-issueProgressBar{margin-top:20.4px;min-width:8.5px;height:8.5px;border-radius:10.2px;background:linear-gradient(90deg,#ff6d8d,#ff2c5f);box-shadow:0 0 0 5.1px #fff}._6a76cb38-sections-temporaryHeader,._b3fb8f90-sections-issueContent{page-break-inside:avoid}._ac5f465a-sections-progressBarBg{width:100%;border-radius:10.2px;background-color:#f1f2fa}",""]),t.locals={section:"_f2afcbbf-sections-section",sectionHeader:"_880230dc-sections-sectionHeader",genericTable:"_1c79d012-sections-genericTable",text:"_ebb0092e-sections-text",writingIssuesSection:"_b662ac32-sections-writingIssuesSection",writingIssuesTable:"_025a1d14-sections-writingIssuesTable _1c79d012-sections-genericTable",issueHeader:"_7a588869-sections-issueHeader",categoryAmount:"_20b5aa1e-sections-categoryAmount",issueAmount:"_ab35c199-sections-issueAmount",circle:"_46639b12-sections-circle",oval:"_72d626ea-sections-oval _46639b12-sections-circle",generalTitle:"_8b026d73-sections-generalTitle",issueTitle:"_a718cee7-sections-issueTitle _8b026d73-sections-generalTitle",categoryTitle:"_570fc18b-sections-categoryTitle _8b026d73-sections-generalTitle",fakeHeader:"_374c5f78-sections-fakeHeader",progressBarCell:"_14b7d401-sections-progressBarCell",issueProgressBar:"_59ca7f05-sections-issueProgressBar",issueContent:"_b3fb8f90-sections-issueContent",temporaryHeader:"_6a76cb38-sections-temporaryHeader",progressBarBg:"_ac5f465a-sections-progressBarBg"}},1895:function(e,t,n){e.exports=n(1878),e.exports.locals&&(e.exports.locals.__$extract=n(1395)(e.exports))},1896:function(e,t,n){e.exports=n(1879),e.exports.locals&&(e.exports.locals.__$extract=n(1395)(e.exports))},1897:function(e,t,n){e.exports=n(1880),e.exports.locals&&(e.exports.locals.__$extract=n(1395)(e.exports))},1898:function(e,t,n){e.exports=n(1881),e.exports.locals&&(e.exports.locals.__$extract=n(1395)(e.exports))},1899:function(e,t,n){e.exports=n(1882),e.exports.locals&&(e.exports.locals.__$extract=n(1395)(e.exports))},1900:function(e,t,n){e.exports=n(1883),e.exports.locals&&(e.exports.locals.__$extract=n(1395)(e.exports))},1901:function(e,t,n){e.exports=n(1884),e.exports.locals&&(e.exports.locals.__$extract=n(1395)(e.exports))},1902:function(e,t,n){e.exports=n(1885),e.exports.locals&&(e.exports.locals.__$extract=n(1395)(e.exports))},1903:function(e,t,n){e.exports=n(1886),e.exports.locals&&(e.exports.locals.__$extract=n(1395)(e.exports))},1924:function(e,t){e.exports={sidebarTier:"_5b2fcdfb-view-sidebarTier",fullHeight:"_443b48a8-view-fullHeight",sidebarWrapper:"_5ba8c704-view-sidebarWrapper _443b48a8-view-fullHeight",wrapper:"_897daef8-view-wrapper",loaderWrapper:"_5757827f-view-loaderWrapper _897daef8-view-wrapper",loaderWithToolbar:"_4109509f-view-loaderWithToolbar",fadedWrapper:"_c9dba2a5-view-fadedWrapper _897daef8-view-wrapper",hiddenWrapper:"_c7b98097-view-hiddenWrapper",actionsWrapper:"_8e0b9da9-view-actionsWrapper",lensLeaveStart:"_471edbd1-view-lensLeaveStart",lensLeaveStartTitle:"_97758504-view-lensLeaveStartTitle",lensLeaveStartContent:"_f4517067-view-lensLeaveStartContent",lensLeave:"_f756a620-view-lensLeave",lensLeaveTitle:"_11a4a97e-view-lensLeaveTitle",lensMoveDown:"_822be806-view-lensMoveDown",lensMoveUp:"_d2439f64-view-lensMoveUp",lensLeaveContent:"_0f90200e-view-lensLeaveContent",lensHideStart:"_93b6c01e-view-lensHideStart",lensHide:"_af9165ac-view-lensHide _93b6c01e-view-lensHideStart",lensEnter:"_be08d7ab-view-lensEnter",lensEnterTitle:"_15d8f8e3-view-lensEnterTitle",lensEnterContent:"_3e65bbd9-view-lensEnterContent",lensEnterStart:"_be2f41c3-view-lensEnterStart",lensEnterStartTitle:"_b06f2f6d-view-lensEnterStartTitle",lensEnterStartContent:"_12c9832c-view-lensEnterStartContent",stateLeave:"_326925bb-view-stateLeave",up:"_8892dd51-view-up",down:"_0e2dffe8-view-down",stateLeaveStart:"_088f6024-view-stateLeaveStart",stateEnter:"_095e0cf8-view-stateEnter",stateEnterStart:"_4548b990-view-stateEnterStart",sidebarEnterLeft:"_a6140d6a-view-sidebarEnterLeft",revampedTitleEnterLeft:"_b648a6bd-view-revampedTitleEnterLeft",sidebarEnterLeftStart:"_ccc19bc5-view-sidebarEnterLeftStart",revampedTitleEnterLeftStart:"_1b59cc6e-view-revampedTitleEnterLeftStart",sidebarLeaveRight:"_0c0b9e69-view-sidebarLeaveRight",revampedTitleLeaveRight:"_fcdc0f35-view-revampedTitleLeaveRight",sidebarLeaveRightStart:"_626a800b-view-sidebarLeaveRightStart",navigationEnterLeft:"_63e96736-view-navigationEnterLeft",navigationEnterLeftStart:"_0df65d85-view-navigationEnterLeftStart",navigationLeaveRight:"_a4bba7e4-view-navigationLeaveRight",navigationLeaveRightStart:"_42e709a5-view-navigationLeaveRightStart",allAlerts:"_8cb90d5f-view-allAlerts",allAlertsVisible:"_e41915f2-view-allAlertsVisible _8cb90d5f-view-allAlerts",allAlertsHidden:"_39f403d6-view-allAlertsHidden _8cb90d5f-view-allAlerts"}},1927:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(0),a=n(6),s=n(1381),c=n(1946);t.SavedIndicator=function(e){var t=e.isSaved,n=e.className;return i.createElement(s.Small,r.__assign({key:"saved-wrapper",name:"save-status"},a.classes(t.audit(function(e){return o.Observable.timer(e?1e3:0)}).startWith(!1).map(function(e){return e?c.saved:c.notSaved}),n)),i.createElement(a.F.span,{"data-saved":t.startWith(!0)}),"Saved")}},1929:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(7),a=n(16),s=n(6),c=n(64),l=n(2),u=n(516),d=n(32),p=n(105),m=n(2076),f=n(1378),h=n(513),g=n(1402),_=n(1927),v=n(1949),b=3.45,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._title=t.props.documentModel.title.view(function(e){return e||"Untitled"}),t._isTitleVisible=t.props.denaliEditor.scrollPosition.combineLatest(t.context.screen.remSize).map(function(e){return e[0]>e[1]*b}).startWith(!1).distinctUntilChanged(),t._onTitleClick=function(){t.context.gnarSpec.newTitleButtonClick(t.context.pageId),t.props.denaliEditor.scrollToTitle()},t._onMount=function(e){return e&&t.props.onMount(e)},t}return r.__extends(t,e),t.prototype._renderClassic=function(){return i.createElement("div",{className:v.toolbarTitleContainer,ref:this._onMount},i.createElement(s.F.h3,{"data-name":"toolbar-title",className:this._isTitleVisible.map(function(e){return e?v.toolbarTitle:v.toolbarTitleHidden}),onClick:this._onTitleClick},this._title))},t.prototype._renderRevamped=function(){var e=this,t=this.context.textResources;return i.createElement(i.Fragment,null,i.createElement("div",{className:v.toolbarTitleContainer,ref:function(t){return t&&e._onMount(t)}}),i.createElement("div",{className:v.headerWrapper},i.createElement("div",{className:v.headerContainer},i.createElement(s.F.span,{className:this._isTitleVisible.map(function(e){return e?v.titleWrapper:v.titleWrapperHidden})},i.createElement(s.F.h3,{"data-name":"toolbar-title",className:v.headerTitle,onClick:this._onTitleClick},this._title),i.createElement("span",{className:v.savedContainer},i.createElement(_.SavedIndicator,{className:v.savedIndicator,isSaved:this.props.documentModel.saved})),i.createElement("span",{className:v.savedContainerAbsolute},i.createElement(_.SavedIndicator,{className:v.savedIndicator,isSaved:this.props.documentModel.saved}))),i.createElement(f.Button.Caps,{name:"back-to-writing",className:v.backToWriting,onClick:function(){e.context.gnarSpec.assistantCloseButtonClick(e.context.pageId,e.props.pageViewModel.stateHolder.state.get().currentLens.type),e.props.pageViewModel.closeSidebar()}},t.denali.backToWriting,i.createElement(h.Icon.Exit,null)))))},t.prototype.render=function(){return this.props.features.denali.revampedHeader?this._renderRevamped():this._renderClassic()},t}(p.BaseComponent);t.ToolbarTitle=y;var w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._footerEl=o.None,t._viewportPadding=s.Atom.create(c.ViewportPadding.empty),t.onScroll=new a.Subject,t._textTransition=t.props.pageViewModel.stateHolder.sidebarOpen.skip(1).switchMap(function(e){return l.Animation.rafSequence(e?[v.toWritingStart,v.toWritingStart,v.toWritingEnd]:[v.toEditingStart,v.toEditingStart,v.toEditingEnd],!0)}).startWith(void 0),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._subs.push(this.context.screen.remSize.subscribe(function(){e._viewportPadding.set({top:e._titleEl.offsetHeight,bottom:e._footerEl.fold(function(){return 0},function(e){return e.offsetHeight})})}))},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this,t=this.props,n=t.denaliEditor,a=t.documentModel,c=t.pageViewModel,p=t.features,f=t.children,h=this.context.environment.has(d.Environment.Flag.selectAndScroll)?g.SelectAndScroll.withSelectOnScroll(g.ScrollBarY,{viewportPadding:this._viewportPadding,onScrollOnSelect:this.props.denaliEditor.extendSelectionTo,validateMousedown:n.containsElement}):g.ScrollBarY;return i.createElement(h,r.__assign({name:"text",key:"denaliEditorWrapper"},s.classes(v.scrollWrap,c.stateHolder.sidebarOpen.view(l.choose(v.editorComponentWrapperSqueezed,v.editorComponentWrapper)),v.container,this._textTransition),{update:n.contentUpdated.auditTime(1e3).merge(c.stateHolder.sidebarOpen.skip(1).mapTo(l.RxUtils.voidValue)),onScroll:this.onScroll,allowHover:!0}),i.createElement(u.DedComponent,{denaliEditor:n,title:a.title,theme:v,viewportPadding:this._viewportPadding},i.createElement(y,{denaliEditor:n,pageViewModel:c,features:p,documentModel:a,onMount:function(t){return e._titleEl=t}}),f(this.onScroll),p.denali.showFooter?i.createElement(m.ToolbarFooter,{denaliEditor:n,documentModel:a,stateHolder:c.stateHolder,onMount:function(t){return e._footerEl=o.Some(t)}}):null))},t}(p.BaseComponent);t.EditorComponent=w,function(e){e.Wrapper=function(e){var t=e.position,n=e.children,o=e.className,a="top"===t;return i.createElement("div",r.__assign({},s.classes(v.container,o)),i.createElement("div",{className:v.scrollWrap},i.createElement("div",{className:a?v.editorTopContentWrap:v.editorContentWrap},i.createElement("div",{className:a?v.editorTopContent:v.editorContent},n))))}}(w=t.EditorComponent||(t.EditorComponent={})),t.EditorComponent=w},1930:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(7),a=n(6),s=n(272),c=n(16),l=n(2),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._subs=[],t._classes=a.Atom.create(""),t._state=a.Atom.create(o.Option.empty()),t._content=a.Atom.create(null),t._onTransitionEnd=function(){var e=t._state.get();e.contains(s.DocumentLoader.Type.checkingOut)&&t._state.set(o.None),e.isEmpty()&&t._content.set(null)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.theme,r=t.state;this._subs.push(this._state.pairwise().map(function(e){var t=e[0];return e[1].fold(function(){return t.fold(function(){throw new l.InvariantError("Cannot animate sidebar loader from None to None")},function(e){switch(e){case s.DocumentLoader.Type.checkingOut:return[n.checkingOutEnd+" "+n.hideEnd];case s.DocumentLoader.Type.checkingIn:return[n.checkingInEnd+" "+n.hideEnd];case s.DocumentLoader.Type.checking:return[n.hideStart,n.hideEnd];default:return l.assertNever(e)}})},function(e){switch(e){case s.DocumentLoader.Type.checkingOut:return t.contains(s.DocumentLoader.Type.checkingIn)?[n.checkingOutEnd]:t.isEmpty()?[n.hideEnd]:[n.checkingOutStart,n.checkingOutEnd];case s.DocumentLoader.Type.checkingIn:return t.contains(s.DocumentLoader.Type.checkingOut)?[n.checkingInEnd]:t.contains(s.DocumentLoader.Type.checking)?[]:[n.checkingInStart,n.checkingInEnd];case s.DocumentLoader.Type.checking:return[n.checkingStart,n.checkingEnd];default:return l.assertNever(e)}})}).switchMap(function(e){return l.Animation.rafSequence(e,!0)}).subscribe(l.RxUtils.toAtom(this._classes)),r.subscribe(function(t){e._state.set(t),null===e._content.get()&&t.nonEmpty()&&e._content.set(e.props.children)}),r.switchMap(function(){return c.Observable.timer(500)}).subscribe(this._onTransitionEnd))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){var e=this;return i.createElement(a.F.div,{"data-role":"loader-content",key:"content",className:this._classes,mount:function(t){return t&&(e._el=t)},onTransitionEnd:function(t){return t.target===e._el&&e._onTransitionEnd()}},this._content)},t}(i.Component);t.SidebarLoader=u},1931:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(49),a=n(16),s=n(7),c=n(4),l=n(6),u=n(2),d=n(105),p=n(32),m=n(272),f=n(268),h=n(514),g=n(1857),_=n(1622),v=n(1868),b=n(2112),y=n(2088),w=n(2109),E=n(2078),M=n(1929),C=n(1500),S=n(1658),k=n(1406),x=n(1750),A=n(517),L=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=c.Monitoring.Logging.getLogger("editor_denali_page"),t._setGoalsVisibilityState=t.context.documentLoader.setGoalsVisibilityState,t._editorWrapperViewport=t.props.denaliEditorModel.viewport.view("wrapper"),t._subs=[],t._tourLoadFinished=l.Atom.create(t.props.userAccount.features.denali.tour.isEmpty()),t}return r.__extends(t,e),t.prototype._trackAlertActions=function(){var e=this;return[this.props.denaliViewModels.pageViewModel.stateHolder.state.view(function(e){return h.LensState.getActiveCard(e).map(function(t){return{cardId:t.cardId,switchOrder:e.switchOrder}})}).switchMap(u.RxUtils.toOptionValueOnly).subscribe(function(t){var n=t.switchOrder;return e.context.gnarSpec.alertCardShow(e.context.pageId,n,e.context.pageSessionId)}),this.props.denaliViewModels.pageViewModel.stateHolder.sidebarOpen.switchMap(u.RxUtils.orEmpty(this.props.denaliViewModels.marksViewModel.alertClicked)).switchMap(u.RxUtils.toOptionValueOnly).subscribe(function(){return e.context.gnarSpec.alertUnderlineClick(e.context.pageId,"assistantOn",e.context.pageSessionId)})]},t.prototype.componentWillMount=function(){var e=this;c.Monitoring.Logging.root.context.add({denali:!0,denaliGroup:this.props.userAccount.features.denali.denaliGroup}),this._loaderVM=this.props.denaliViewModels.createLoaderViewModel(this.props.uploadViewModel,m.DocumentLoader.SetGoalsVisibilitySource.toVisible(this._setGoalsVisibilityState,"setGoalsLoader"),this._tourLoadFinished),this.context.documentLoader.state.view("text").filter(function(e){return e.isEmpty()}).first().subscribe(function(){e.props.uploadViewModel.showUploadNotificationIfNeeded()})},t.prototype.componentDidMount=function(){var e=this,t=this.props,n=t.documentModel,r=t.selfUpdate,i=t.denaliEditorModel,o=t.wootricViewModel;this.context.gnarSpec.denaliDocumentPageShow("document",document.location.toString()),o.forEach(function(e){return e.init()}),(a=this._subs).push.apply(a,[r.watch(n.saved.startWith(!0),"saved"),i.dontFreezeWhen(this.context.visibleOverlays.view(function(e){return e.size>0}),"overlay")].concat(this._trackAlertActions())),this.context.appRouter.locationState.forEach(function(t){!0===t.showSwitchUINotification&&e.context.notifications.showMessage("You switched to the new Grammarly Editor for this document.")});var a},t.prototype._blockNavigationWhenUnsavedChanges=function(){return a.Observable.fromEvent(window,"beforeunload").withLatestFrom(this.props.documentModel.saved,function(e,t){return t?null:e}).filter(Boolean).subscribe(function(e){return e.returnValue="The changes in your document may be lost if you leave this page.","The changes in your document may be lost if you leave this page."})},t.prototype.getChildContext=function(){return r.__assign({},this.context,{onboardingViewModel:this.props.denaliViewModels.onboardingViewModel,pageId:"document",wootricViewModel:this.props.wootricViewModel})},t.prototype.render=function(){var e=this,t=this.props,n=t.denaliEditorModel,o=t.documentModel,a=t.userAccount,s=t.uploadViewModel;return i.createElement(p.Lifecycle,r.__assign({onMount:function(){return e._blockNavigationWhenUnsavedChanges()},onUnmount:function(){try{e.context.documentLoader.setGoalsVisibilityState.set("forceHidden"),e.props.wootricViewModel.forEach(function(e){return e.dispose()}),e.props.denaliViewModels.dispose(),e._loaderVM.dispose(),e._subs.forEach(function(e){return e.unsubscribe()})}catch(e){c.Monitoring.Logging.getLogger("Main").error("Cannot shutdown the engine",e)}}},l.classes(x.firstTier)),i.createElement(l.F.div,{"data-name":"document-content",className:x.secondTier},i.createElement(b.Toolbar,{pageViewModel:this.props.denaliViewModels.pageViewModel,documentModel:o,featuresModel:a.features,settingsModel:a.settings,uploadViewModel:s,sidebarViewModel:this.props.denaliViewModels.sidebarViewModel}),i.createElement(M.EditorComponent,{denaliEditor:n,documentModel:o,pageViewModel:this.props.denaliViewModels.pageViewModel,features:a.features},function(t){return i.createElement(l.F.div,null,e.props.denaliViewModels.stateHolder.sidebarOpen.view(function(t){return!t&&i.createElement(C.InlineCardView,{key:"inlineCardView",className:x.inlineCardWrapper,inlineCardVM:e.props.denaliViewModels.createInlineCardViewModel(),onboardingViewModel:e.props.denaliViewModels.onboardingViewModel,viewport:e._editorWrapperViewport,openAlert:function(t){e.props.denaliViewModels.pageViewModel.switchToAlert(t,f.AlertActionSource.text,"textOrder")}})}),e.props.denaliViewModels.stateHolder.sidebarOpen.view(function(t){return!t&&i.createElement(k.OnboardingWrapper,{key:"onboarding-inline",alignment:"bottomCenter",eventType:"onhover",stepId:A.OnboardingStep.Id.Step2,title:"In-line corrections",message:"Hover your mouse over underlined words to fix issues with one click.",denaliEditorModel:n,viewport:e._editorWrapperViewport,getFirstTarget:function(){return e.props.denaliViewModels.marksViewModel.getFirstMark()},onCompletedStep:function(){return e.props.denaliViewModels.onboardingViewModel.step2Taken()},completionTrigger:l.Atom.create(!1),showOverlayWhenOpen:!0})}),i.createElement(k.OnboardingWrapper,{key:"onboarding-synonyms",alignment:"bottomRight",eventType:"onhover",stepId:A.OnboardingStep.Id.Step9,title:"Synonyms",message:"Click on a word twice to see the synonyms.",denaliEditorModel:n,viewport:e._editorWrapperViewport,getFirstTarget:function(){return e.props.denaliViewModels.synonymsViewModel.getFirstSynonym()},onCompletedStep:function(){return e.props.denaliViewModels.onboardingViewModel.step9Taken()},completionTrigger:e.props.denaliViewModels.synonymsViewModel.popupShown,showOverlayWhenOpen:!1}),i.createElement(w.SynonymsView,{synonyms:e.props.denaliViewModels.synonymsViewModel,viewport:e._editorWrapperViewport}))})),i.createElement(S.DenaliNotificationCenter,r.__assign({key:"denaliNotificationCenter"},this.props)),i.createElement(g.SearchBar,{searchViewModel:this.props.denaliViewModels.searchViewModel,key:"search-bar"}),i.createElement(E.FixedFooter,{ded:n,userAccount:this.props.userAccount,onboarding:this.props.denaliViewModels.onboardingViewModel,docId:this.props.docId}),i.createElement(y.Sidebar,{key:"sidebar",denaliViewModels:this.props.denaliViewModels,documentModel:o,features:this.props.userAccount.features,setGoalsVisibilityState:this._setGoalsVisibilityState,settingsModel:a.settings}),a.features.denali.tour.map(function(t){return i.createElement(v.TourWrapper,{key:"tour",type:t,settings:a.settings,tourLoaded:e._tourLoadFinished})}).orNull(),i.createElement(d.Router.Block,{when:o.saved.startWith(!0).map(function(e){return!e}),message:function(){return o.flush().catch(function(t){return e._log.error("Could not flush document before exit",t)}),e._log.warn("unsaved changes prompt before navigate"),"You may have unsaved changes in your document that will be lost if you leave the page."}}))},t.childContextTypes=r.__assign({},d.BaseComponent.contextTypes,{onboardingViewModel:o.object,pageId:o.string,wootricViewModel:o.object}),t}(d.BaseComponent);t.Main=L,function(e){e.Loader=function(e){var t=e.state;return i.createElement(l.F.div,{className:x.firstTierLoader},t.view("text").switchMap(u.RxUtils.Scheduler.rafScheduler).startWith(s.None).map(function(e){return e.map(function(e){return i.createElement("div",r.__assign({key:"editor"},l.classes(x.secondTier,x.baseLoaderClass)),i.createElement(b.FakeToolbar,{type:e}),i.createElement(M.EditorComponent.Wrapper,{position:"top"},i.createElement("div",{className:x.textLoaderWrap},i.createElement(_.TextLoader,null))))}).orNull()}),i.createElement(y.Sidebar.Loader,{key:"sidebar-loader",state:t,baseLoaderClass:x.baseLoaderClass}))}}(L=t.Main||(t.Main={})),t.Main=L},1933:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(7),a=n(6),s=n(105),c=n(271),l=n(1381),u=n(1451),d=n(1439),p=n(1402),m=n(1487),f=n(2),h=n(1956),g=n(1463),_=n(515),v=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t._advancedAlerts=t.props.sidebarViewModel.premium.map(function(e){return o.Some(e.count>0?t._formatLiteAlerts(t.props.upgradeViewModel.getAdvancedGroupedLiteAlerts()):[]).filter(f.notEmpty)}).startWith(o.None),t}return r.__extends(n,e),n.getOpacityClass=function(e,t){switch(e){case 1:return t.opacity90;case 2:return t.opacity80;case 3:return t.opacity70;case 4:return t.opacity60;case 5:return t.opacity50;default:return""}},n.prototype.render=function(){var e=this,o=this.props,s=o.transition,f=o.features;return i.createElement(a.F.div,r.__assign({},a.classes(h.wrapper,s.map(function(e){return e.base}))),i.createElement(m.SidebarHeader,{title:f.denali.alertGroupNames===c.AlertGroupNames.CRITICAL_ADVANCED?this.context.textResources.denali.sidebar.advancedIssues:this.context.textResources.denali.sidebar.premiumAlerts,theme:{title:a.classes(s.map(function(e){return e.title}),h.headerTitle).className,wrapper:g.header}}),i.createElement(a.F.div,r.__assign({},a.classes(s.map(function(e){return e.content}))),i.createElement(p.ScrollBarY,{name:"advanced",allowHover:!0,className:g.contentWrapper},this._advancedAlerts.map(function(o){return o.map(function(o){var s=o.reduce(function(e,t){return e+t.count},0);return[i.createElement("div",{key:"some",className:h.advancedBlockWrapper},i.createElement(l.P2,null,"We found"," ",i.createElement("b",null,s," additional writing ",1===s?"issue":"issues"),i.createElement("br",null),"in this text available only for Premium users."),i.createElement("div",{key:"advanced-block",className:h.advancedBlock},i.createElement("div",{className:h.alertList},o.map(function(e,t){return i.createElement(l.P2,{key:e.category,className:h.alertBlock},i.createElement(d.Counters.Counter,{count:e.count,type:"yellow",theme:{counterWrapper:a.classes(h.counter,n.getOpacityClass(t,h)).className}}),e.categoryHuman)})),i.createElement("div",{className:h.graphBlock},i.createElement("div",r.__assign({},a.classes(o.length<=4?h.graphCircle3Empty:h.graphCircle3)),i.createElement("div",{className:h.graphCircle2},i.createElement("div",{className:h.graphCircle1},i.createElement(l.H1,r.__assign({},a.classes(h.graphCounter,"windows"===e.context.environment.info.os&&h.graphCounterWin)),s))))))),i.createElement("div",{key:"upgrade-block",className:h.upgradeBlock},i.createElement(u.UpgradeButton,{size:"big",upgradeViewModel:e.props.upgradeViewModel,place:_.UpgradeHook.Place.DenaliDocument.editorDenaliAdvanced})),i.createElement("footer",{key:"footer",className:h.footer},i.createElement(l.P1,{className:h.footerText},"It’s an online service that quickly and easily makes",i.createElement("br",null),"your writing better and makes you sound like a pro,",i.createElement("br",null),"or at least helps you avoid looking like a fool."),i.createElement(t.ForbesLogo,{className:h.footerLogo}))]}).orNull()}))))},n.prototype._formatLiteAlerts=function(e){var t=e.slice(0,5),n=e.slice(5).map(function(e){return e.count}).reduce(f.sum,0);return n>0?t.concat([{group:"",category:"",categoryHuman:"more...",count:n}]):t},n}(s.BaseComponent);t.PaidView=v,t.ForbesLogo=function(e){var t=e.className;return i.createElement("svg",{width:"77",height:"20",viewBox:"0 0 77 20",className:t},i.createElement("path",{d:"M15.58138.367837l.088647 5.412045-.885505.275407c-.884542-2.75209-2.12367-4.31141-4.51328-4.31141H7.17438c-.08961 1.742595-.177293 4.67895-.177293 7.797587l2.12367-.091142c1.327775 0 1.94734-1.100637 2.212316-2.660947h.796858v6.512683h-.796858c-.264977-1.559318-.88454-2.659955-2.212317-2.659955l-2.12367-.091142c0 2.38455.087682 4.310417.177293 5.504178.17633 1.742594.6186 2.568815 1.769082 2.659957l1.0628.184266v.734088H.004586v-.734087l.885505-.184266c1.150482-.091142 1.592753-.917363 1.769083-2.659956.178257-2.84323.266904-8.80708 0-12.108993-.17633-1.743584-.6186-2.477673-1.769083-2.660947l-.885505-.092133v-.82523H15.58138zm31.331168 5.319616c3.009175 0 5.31014 2.75308 5.31014 6.514664 0 4.77108-2.831883 7.797586-7.522457 7.797586-1.682362 0-3.363762-.274417-4.956514-.641956.088647-1.92686.177294-13.670294 0-15.87058-.177294-1.101627-.44227-1.560308-1.23913-1.743583l-.619563-.092132v-.549824L43.814726 0c-.088647.918354-.088647 3.57831-.088647 6.513674.97415-.550814 1.94734-.82622 3.186468-.82622zM20.62606 5.50517c4.425597 0 6.638878 3.118637 6.638878 7.24677 0 3.94486-2.478258 7.247763-6.903855 7.247763-4.425598 0-6.637915-3.118638-6.637915-7.247763 0-3.943868 2.478258-7.24677 6.902892-7.24677zm32.74759 7.3392c0-3.761584 2.300964-7.339895 6.815208-7.339895 3.716423 0 5.487433 2.845213 5.487433 6.605807h-8.23163c-.088646 3.394045 1.50507 5.870727 4.691538 5.870727 1.41546 0 2.12367-.36556 3.009175-1.008506l.353624.45868C64.613492 18.715098 62.667117 20 60.188857 20c-3.983325 0-6.815207-2.935364-6.815207-7.15563zm22.83408-6.604815l.088646 3.57732-.6186.183274c-.79686-2.477674-1.858694-3.48618-3.45241-3.48618-1.061835 0-1.858693.82523-1.858693 2.018 0 1.193762.88454 1.835718 3.3628 2.844223 2.301926.917363 3.275114 2.018 3.275114 3.94486C77.004587 18.164282 74.79227 20 71.340824 20c-1.682362 0-3.629702-.36655-4.691538-.82523l-.088646-4.036992.619564-.184265c.974152 2.75209 2.21328 3.761584 3.89468 3.761584 1.416422 0 2.212317-1.009495 2.212317-2.110133 0-1.100637-.619563-1.743584-2.83188-2.567824-2.124634-.73508-3.62874-1.743584-3.62874-4.128133 0-2.38653 2.035987-4.404532 5.31014-4.404532 1.592752 0 3.009174.275407 4.07101.73508zM38.77024 5.87152l-1.416424 3.761584c-1.770046-1.19277-3.716423-.641956-4.159657 0-.087684 2.202266-.087684 5.687453.088646 7.432028.088647 1.099647.354587 1.64947 1.23913 1.741603l1.061834.092132v.73409h-8.230667v-.73409l.619564-.092132c.796858-.092133 1.150482-.641956 1.23913-1.741603.088646-1.92686.177293-5.780576 0-7.982842-.088648-1.19277-.442272-1.65046-1.23913-1.742593l-.619564-.092133V6.69774l5.929703-1.19277-.088647 3.21077c1.416422-3.302902 4.071973-3.761583 5.57608-2.84422zm6.107285 13.118687c1.85773 0 3.185505-2.84323 3.185505-6.513674 0-2.935363-1.061835-5.319913-3.009175-5.319913-.44227 0-.795895.091142-1.327776.275408-.087684 4.77009 0 10.183125.088646 11.467037.26594.091142.70821.091142 1.0628.091142zM20.361083 6.422532c-1.94734 0-2.478258 2.75209-2.478258 6.329408 0 3.486178.885505 6.3304 2.655552 6.3304 2.035023 0 2.566904-2.75209 2.566904-6.3304 0-3.486177-.885504-6.329408-2.744197-6.329408zm37.083577 4.679245l4.159657-.092133c0-1.834726-.264977-4.586815-1.769082-4.586815-1.50507 0-2.301928 2.567823-2.390575 4.678947z",fill:"#C6CBDE",fillRule:"evenodd"}))}},1934:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(1957),o=n(6),a=n(8),s=n(1419),c=n(105);t.Originality100=c.withContext(function(e,n){return a.createElement("div",{className:i.content},a.createElement("div",{className:i.originality100Text},n.textResources.denali.plagiarism.originalText),a.createElement(t.Illusration,{className:i.illusration}))}),t.Loading=function(){return a.createElement("div",{className:i.content},a.createElement(s.Spinner,{variation:"violet",className:i.loader}),a.createElement("div",{className:i.loadingText},"Please wait.",a.createElement("br",null),"We’re checking your text against billions of web pages.",a.createElement("br",null),"It'll just take a moment."))},t.Illusration=function(e){var t=e.className;return a.createElement("svg",r.__assign({},o.classes(t),{width:"334",height:"375",viewBox:"0 0 334 375",xmlns:"http://www.w3.org/2000/svg"}),a.createElement("g",{fill:"none",fillRule:"evenodd"},a.createElement("path",{d:"M160.3 199.297C145.842 196.217 135 183.375 135 168c0-17.673 14.327-32 32-32 17.673 0 32 14.327 32 32 0 14.726-9.947 27.128-23.488 30.856 1.032-4.938 2.81-9.608 5.193-13.675.144-.214.215-.357.36-.572 1.504-2.576 2.15-5.438 2.006-8.372-.214-4.15-2.15-7.943-5.088-10.52l-1.362-1.144c-2.222-1.574-4.874-2.576-7.74-2.72-4.302-.285-8.315 1.146-11.47 4.08-3.08 2.862-4.8 6.94-4.8 11.09 0 2.362.5 4.652 1.576 6.727.358.787.716 1.43 1.218 2.075 2.323 4.075 3.954 8.634 4.895 13.472z",fill:"#F7EAF7"}),a.createElement("path",{d:"M176.62 164.617c-2.222-1.577-4.874-2.58-7.74-2.723-4.302-.287-8.315 1.146-11.47 4.085-3.08 2.866-4.8 6.952-4.8 11.11 0 2.364.5 4.658 1.576 6.736.358.79.716 1.434 1.218 2.08 2.365 4.156 4.014 8.815 4.946 13.76.286 1.362.5 2.796.645 4.158.358 1.075 1.075 1.72 2.007 1.935.215 1.36 1.29 2.507 2.795 3.01l1.147.286c.286.07.645.07.93.07.647 0 1.292-.07 1.865-.285 0 0 1.002-.358 1.002-.43 1.076-.644 1.792-1.576 1.936-2.65 1.003-.288 1.792-1.148 2.078-2.223.072-.86.215-1.65.36-2.437.93-5.734 2.866-11.18 5.59-15.84.143-.215.214-.36.358-.574 1.505-2.58 2.15-5.447 2.007-8.386-.214-4.157-2.15-7.956-5.088-10.536l-1.362-1.147zm-8.745 19.71c.932.718 2.294 1.506 3.728 1.864-1.076 3.872-1.936 9.463-2.222 11.254h-3.01c-.286-1.79-1.147-7.454-2.222-11.253 1.434-.357 2.796-1.074 3.727-1.862zm-1.29-3.08c0-.073-.143-1.506 1.075-1.72h.36c1.217.214 1.074 1.647 1.074 1.72-.072.716-.79 1.432-1.29 1.79-.43-.43-1.147-1.074-1.22-1.79zm-1.003 17.344c.143.073.215.145.358.073.072 0 .144-.072.215-.072h3.297c.072.073.144.073.215.073h.072c.142 0 .214-.072.286-.072h4.3c-.143.79-.287 1.506-.43 2.295 0 .072 0 .143-.072.287h-12.04c-.073-.574-.144-1.147-.288-1.65-.07-.286-.143-.572-.215-.86l4.302-.07zm2.293 9.462c-1.79 0-3.368-.93-3.727-2.222h7.383c-.286 1.29-1.863 2.222-3.655 2.222zm3.943-3.297h-7.956c-.79 0-1.506-.5-1.792-1.147-.072-.43-.144-.93-.144-1.36h11.898c-.07.357-.07.715-.143 1.074-.214.86-.93 1.433-1.862 1.433zm10.106-28.455c.143 2.724-.502 5.376-1.792 7.67v.07c-.143.216-.215.43-.36.646-2.292 3.87-3.94 8.243-5.087 12.83h-4.23c.287-1.935 1.148-7.382 2.223-11.11.573.072 1.146.072 1.648-.07 1.22-.36 1.72-1.578 1.65-2.58-.073-.933-.646-1.578-1.435-1.722-.5-.07-1.432.144-1.934 1.29-.215.502-.43 1.147-.645 1.864-1.146-.287-2.364-.932-3.153-1.505.574-.502 1.362-1.29 1.434-2.365.072-1.22-.5-2.652-2.006-2.867H167.59c-1.506.287-2.08 1.72-2.008 2.868.072 1.075.86 1.863 1.433 2.365-.788.573-2.007 1.218-3.153 1.505-.215-.717-.43-1.362-.645-1.864-.502-1.146-1.434-1.36-1.936-1.29-.787.072-1.36.79-1.432 1.72-.072 1.004.43 2.222 1.648 2.58.502.144 1.076.144 1.65.072 1.002 3.656 1.934 9.103 2.22 11.11h-4.228c-1.003-4.372-2.58-8.458-4.66-12.185-.357-.644-.787-1.29-1.146-1.934 0 0 0-.072-.07-.072-.933-1.935-1.435-4.085-1.435-6.235 0-3.872 1.65-7.67 4.516-10.322 2.867-2.724 6.665-4.014 10.608-3.8 2.653.216 5.16 1.076 7.24 2.58.07.073.143.144.215.144 3.082 2.366 5.304 6.236 5.52 10.608zm-8.96 9.03c.215-.644.43-1.217.574-1.647.286-.717.788-.645.788-.645.43.07.502.573.502.717.072.573-.215 1.29-.86 1.433-.287.143-.645.215-1.004.143zm-10.177 0c-.36 0-.717 0-1.004-.07-.645-.215-.932-.86-.86-1.434 0-.143.072-.645.502-.717.143 0 .5.07.788.645.143.43.358.93.574 1.576z",fill:"#8189A9",fillRule:"nonzero"}),a.createElement("path",{d:"M167.804 157.88c-.287 0-.502-.287-.574-.574v-8.457c0-.36.287-.575.574-.575.358 0 .573.287.573.574v8.456c0 .36-.287.574-.573.574zm-10.75 2.58l-4.302-7.31c-.143-.216-.072-.574.215-.717.215-.144.573-.072.717.215l4.3 7.31c.144.215.072.574-.215.717-.072.072-.216.072-.287.072-.144 0-.36-.144-.43-.287zm-14.55 3.44c-.217-.143-.288-.43-.145-.716.142-.287.43-.36.716-.215l7.382 4.156c.287.143.36.43.215.717-.143.215-.286.286-.5.286-.145 0-.216 0-.288-.072l-7.383-4.157zm-3.442 14.48c-.287 0-.573-.288-.573-.503-.073-.358.214-.573.5-.573l8.458-.072c.358 0 .573.215.573.502.073.358-.214.573-.5.573l-8.458.072zm10.966 9.03c.215-.143.574-.072.79.215.142.215.07.573-.216.717l-7.31 4.23c-.073.07-.216.07-.288.07-.215 0-.43-.143-.5-.286-.145-.215-.073-.574.214-.717l7.31-4.23zm12.472-29.458l-1.505-4.874c-.072-.287.07-.574.358-.645.287-.072.573.07.645.358l1.505 4.875c.072.287-.07.573-.358.645h-.143c-.215 0-.43-.143-.502-.358zm-9.103 5.303l-3.727-3.44c-.215-.215-.215-.573 0-.788.215-.215.573-.215.788 0l3.728 3.44c.215.215.215.573 0 .788-.144.072-.287.144-.43.144-.144 0-.287-.073-.36-.145zm-4.66 8.816c0 .217-.214.432-.5.432h-.144l-4.945-1.076c-.287-.07-.502-.358-.43-.645.07-.285.358-.5.645-.43l4.945 1.076c.287.072.502.36.43.646zm-5.733 11.47l4.874-1.577c.287-.072.574.07.645.358.072.288-.07.574-.358.646l-4.874 1.577h-.142c-.215 0-.43-.143-.502-.358-.072-.287.072-.574.358-.646zm9.748 7.884c.143-.215.502-.215.788 0 .287.215.287.573.072.788l-3.44 3.727c-.144.07-.287.143-.43.143-.144 0-.287-.072-.36-.144-.285-.216-.285-.574-.07-.79l3.44-3.726zm40.063-27.523l-7.382 4.158c-.072.07-.143.07-.287.07-.215 0-.358-.07-.502-.285-.143-.287-.07-.574.216-.717l7.382-4.157c.287-.145.573-.073.717.214.142.286.07.573-.145.717zm3.372 14.48l-8.458-.073c-.287 0-.574-.215-.502-.573 0-.287.215-.502.573-.502l8.46.072c.285 0 .572.215.5.573 0 .215-.286.502-.573.502zm-10.608 9.03l7.31 4.23c.287.142.358.5.215.716-.072.143-.287.286-.502.286-.07 0-.215 0-.286-.07l-7.31-4.23c-.288-.144-.36-.502-.216-.717.216-.287.574-.358.79-.215zm.86-15.34c-.072-.285.143-.572.43-.644l4.945-1.075c.287-.07.573.145.645.43.072.288-.143.575-.43.646l-4.946 1.076h-.143c-.286 0-.5-.215-.5-.43zm6.163 11.47c.287.07.43.358.36.645-.073.215-.288.358-.503.358h-.143l-4.874-1.577c-.287-.072-.43-.358-.36-.645.073-.286.36-.43.646-.357l4.873 1.577zm-9.46 7.884l3.44 3.727c.215.216.215.574-.072.79-.07.07-.214.143-.357.143-.144 0-.287-.072-.43-.144l-3.44-3.728c-.216-.215-.216-.573.07-.788.288-.215.646-.215.79 0zm-5.233-30.82c-.287-.144-.358-.43-.215-.717l4.3-7.31c.144-.288.43-.36.717-.216s.36.43.215.718l-4.3 7.31c-.072.215-.215.287-.43.287-.072 0-.215 0-.287-.072zm-5.447-2.294c-.287-.072-.43-.358-.36-.645l1.506-4.874c.07-.286.358-.43.645-.357.286.07.43.358.358.645l-1.505 4.874c-.072.215-.287.358-.502.358h-.143zm9.102 4.945c-.215-.215-.215-.573 0-.788l3.727-3.44c.216-.215.574-.215.79 0 .214.215.214.573 0 .788l-3.728 3.44c-.072.072-.215.144-.36.144-.142 0-.357 0-.43-.145z",fillOpacity:".5",fill:"#C770C8",fillRule:"nonzero"}),a.createElement("g",{fillRule:"nonzero"},a.createElement("path",{d:"M297.125 147.025c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM121.425 366.225l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm5.6 5.7l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm5.7-5.7c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zM195.025 57.125l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F9E799"}),a.createElement("path",{d:"M62.8 135.5c.5 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8H48.3c-.4 0-.9.2-.9.7 0 .5.4.8.8.8h14.6zm-19.3 0c.4 0 .8-.2.8-.7 0-.5-.4-.8-.8-.8h-4.7c-.4 0-.8.2-.8.7 0 .5.4.8.8.8h4.7zm-4.7 5H49c.5 0 .8-.3.8-.8s-.4-.8-.8-.8H38.8c-.5 0-.8.3-.8.8s.4.8.8.8zm14.5 0h3.3c.5 0 .8-.3.8-.8s-.4-.8-.8-.8h-3.3c-.5 0-.8.3-.8.8s.4.8.8.8zM311 12.3c0 .4-.3.7-.8.8h-14.6c-.5 0-.8-.3-.8-.8s.4-.8.8-.8h14.6c.5 0 .8.4.8.8zm4 .7c-.4 0-.8-.3-.8-.8s.4-.8.8-.8h4.7c.5 0 .8.3.8.8s-.4.8-.8.8H315zm4.7 3.5c.5 0 .8.4.8.8 0 .5-.4.8-.8.8h-10.1c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h10.1zm-14.5 0c.5 0 .8.4.9.8 0 .5-.4.8-.8.8H302c-.5 0-.8-.4-.8-.8 0-.5.4-.8.8-.8h3.2z",fill:"#A4D3FF"}),a.createElement("path",{d:"M0 3.9c0 2.2 1.8 3.9 3.9 3.9 2.2 0 3.9-1.8 3.9-3.9C7.8 1.7 6 0 3.9 0 1.7 0 0 1.7 0 3.9zm6.3 0c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.3 1.1-2.4 2.4-2.4 1.3 0 2.4 1 2.4 2.4zM330.4 301c-1.9 0-3.4 1.5-3.4 3.4s1.5 3.4 3.4 3.4 3.4-1.5 3.4-3.4c-.1-1.9-1.6-3.4-3.4-3.4zm0 5.2c-1 0-1.9-.8-1.9-1.9 0-1 .8-1.9 1.9-1.9 1 0 1.9.8 1.9 1.9-.1 1.1-.9 1.9-1.9 1.9zM113.6 101.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3c1.3 0 2.4 1.1 2.4 2.4 0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7"}))))}},1935:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(0),a=n(7),s=n(6),c=n(105),l=n(178),u=n(1378),d=n(1381),p=n(1502),m=n(513),f=n(2),h=n(1422),g=n(1934),_=n(2100),v=n(1487),b=n(1624),y=n(1958),w=n(1463);t.PlagiarismView=function(e){var t;return i.createElement("div",{key:l.Lens.SpecialId.Plagiarism,className:w.lensWrapper},i.createElement(s.F.div,r.__assign({},s.classes(e.transition.map(function(e){return e.base}),w.headerWrapper)),i.createElement(v.SidebarHeader,{title:"Plagiarism",theme:{title:e.transition.map(function(e){return e.title}),wrapper:w.header}},e.plagiarismViewModel.plagiarismViewState.view(function(t){return t.type===h.PlagiarismViewType.cards?[i.createElement(d.Small,{className:w.lensCounter,key:"count"},e.plagiarismViewModel.checkingState.map(function(e){return e.sources>0?e.sources:""})),i.createElement(u.Button.Round,{key:"dismiss-all",name:"dismiss-all",title:"Dismiss all",className:w.headerBtn,onClick:function(){t.currentLens.dismissAll()}},i.createElement(m.Icon.Ignore,null))]:[]}))),i.createElement("div",{className:w.viewport,ref:function(e){return e&&(t=e)}},i.createElement(s.F.div,r.__assign({},s.classes(w.lensviewContentWrapper,e.transition.map(function(e){return e.base}))),i.createElement(s.F.div,r.__assign({},s.classes(w.scrollWrapper,e.transition.map(function(e){return e.content}))),e.plagiarismViewModel.plagiarismViewState.view(function(n){switch(n.type){case h.PlagiarismViewType.originality100:return i.createElement(g.Originality100,{key:"originality100"});case h.PlagiarismViewType.loading:return i.createElement(g.Loading,{key:"loading"});case h.PlagiarismViewType.cards:return i.createElement(C,r.__assign({key:"cards-view"},e,{linkComponent:E,viewportEl:t,lens:n.currentLens,theme:{scroll:w.scroll,description:y.info}}));default:return f.assertNever(n)}})))))};var E=function(e){var n=e.type;return i.createElement(t.ReferenceLink,{type:n,className:y.referenceLink})},M={MLA:"https://owl.english.purdue.edu/owl/resource/747/08/",APA:"https://owl.english.purdue.edu/owl/resource/560/10/",Chicago:"https://owl.english.purdue.edu/owl/resource/717/05/"};t.ReferenceLink=function(e){var t=e.type,n=e.className;return i.createElement("a",{target:"_blank",href:M[t],className:n},t)};var C=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._viewportEl=t.props.viewportEl,t._lensedVM=t.props.scrollVM.view(t.props.lens),t._subs=[],t._activeEl=s.Atom.create(a.None),t._regularEl=s.Atom.create(a.None),t._setActive=function(e,n){return t._activeEl.set(a.Some({el:e,id:n}))},t._setRegular=function(e){return t._regularEl.set(a.Some(e))},t._titleState=o.Observable.combineLatest(t.props.plagiarismViewModel.checkingState.switchMap(function(e){return e.percent},function(e,t){return{percent:t,count:e.sources}}),t._lensedVM.viewState.map(function(e){return e.cards.length})).map(function(e){var t=e[0];return{percent:t.percent,count:t.count,length:e[1]}}).startWith({percent:0,count:0,length:0}),t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this.props.isMaster&&this._setMaster()},t.prototype.componentDidUpdate=function(){this.props.isMaster?this._setMaster():this._clearSubs()},t.prototype.componentWillUnmount=function(){this._clearSubs()},t.prototype.render=function(){var e=this,t=this.props,n=t.pageViewModel,o=t.cardsVM,a=t.marksVM,c=t.plagiarismViewModel,l=t.theme,u=t.linkComponent;return i.createElement(p.Scroller,{className:l.scroll,lensedVM:this._lensedVM,setActive:this._setActive,setRegular:this._setRegular,onMount:function(t){return t&&(e._scrollEl=t)},onTitleMount:function(t){return t&&(e._titleEl=t)},renderFake:function(){return i.createElement(b.FakeCard,{marksVM:a,pageVM:n,cardsVM:o})},renderCard:function(e){return i.createElement(_.PlagiarismCard,r.__assign({key:e.cardId},{card:e,plagiarismViewModel:c},{marksVM:a,cardsVM:o,pageViewModel:n}))}},i.createElement(s.F.div,null,this._titleState.map(function(t){var n=t.percent,r=t.count,o=t.length;return i.createElement(d.P2,{className:l.description},e.context.textResources.denali.plagiarism.lensDescription(n,r,o,u))})))},t.prototype._setMaster=function(){this._setSubs(),this._scrollEl&&(this._scrollEl.scrollTop=0,this._lensedVM.baseElements.scroll.set(a.Some(this._scrollEl))),this._viewportEl&&this._lensedVM.baseElements.viewport.set(a.Some(this._viewportEl)),this._titleEl&&this._lensedVM.baseElements.title.set(a.Some(this._titleEl))},t.prototype._setSubs=function(){var e=this;this._clearSubs(),this._subs.push(this._activeEl.subscribe(function(t){return t.map(function(t){var n=t.el,r=t.id;return e.props.scrollVM.updateBasic(n,{type:"active",id:r})})}),this._regularEl.subscribe(function(t){return t.map(function(t){return e.props.scrollVM.updateBasic(t,{type:"regular"})})}),this._titleState.subscribe(function(){e._titleEl&&e._lensedVM.baseElements.title.set(a.Some(e._titleEl))}))},t.prototype._clearSubs=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t}(c.BaseComponent);t.PlagiarismCards=C},1943:function(e,t){e.exports={textWrapper:"_c2767b77-dropzone-textWrapper",text:"_23a59c3a-dropzone-text",titleWrap:"_ced2d7b3-dropzone-titleWrap _23a59c3a-dropzone-text _5fecbe22-editor-titleWrap",title:"_b58aecda-dropzone-title _23a59c3a-dropzone-text _81cb6eea-editor-title _f0b953d7-typography-header1",content:"_1fdeedb4-dropzone-content _23a59c3a-dropzone-text",animation:"_1e9df4ca-dropzone-animation",circle:"_fd283266-dropzone-circle",one:"_bcb720cc-dropzone-one _fd283266-dropzone-circle",two:"_ca501d08-dropzone-two _fd283266-dropzone-circle",three:"_1092a59f-dropzone-three _fd283266-dropzone-circle"}},1944:function(e,t){e.exports={base:"_cc101968-logo-base",icon:"_b50d371e-logo-icon"}},1946:function(e,t){e.exports={notSaved:"_2b419146-saved_indicator-notSaved",saved:"_5e4b0a05-saved_indicator-saved _2b419146-saved_indicator-notSaved",fadeinout:"_70438843-saved_indicator-fadeinout"}},1948:function(e,t){e.exports={footerWrapper:"_a1b1569f-footer-footerWrapper",footerSqueezed:"_c12ef72b-footer-footerSqueezed _a1b1569f-footer-footerWrapper",footerContainer:"_c60f76e5-footer-footerContainer",dropdownContainer:"_96ab9944-footer-dropdownContainer",dropdownList:"_4a4e75e9-footer-dropdownList",footerLabel:"_d65fdadd-footer-footerLabel",fadeIn:"_b7ed02c5-footer-fadeIn",listItem:"_3c75caf6-footer-listItem"}},1949:function(e,t){e.exports={container:"_c6ac620b-editor-container",editorComponentWrapper:"_91d9eb52-editor-editorComponentWrapper",fade:"_22b4d69e-editor-fade",editorComponentWrapperSqueezed:"_56ceb6d7-editor-editorComponentWrapperSqueezed _91d9eb52-editor-editorComponentWrapper",editorTopContentWrap:"_e7d74f70-editor-editorTopContentWrap",editorTopContent:"_f202d929-editor-editorTopContent",titleWrap:"_5fecbe22-editor-titleWrap",title:"_81cb6eea-editor-title _f0b953d7-typography-header1",printTitle:"_5c9846c5-editor-printTitle _81cb6eea-editor-title _f0b953d7-typography-header1",toEditingEnd:"_8ebf36b0-editor-toEditingEnd",toEditingStart:"_cd47eef6-editor-toEditingStart",toWritingEnd:"_d874dc15-editor-toWritingEnd",toWritingStart:"_c629d116-editor-toWritingStart",scrollWrap:"_3cd4bb43-editor-scrollWrap",editorContentWrap:"_377a2772-editor-editorContentWrap",editorContent:"_ab43b3c7-editor-editorContent",toolbarTitleContainer:"_b17ed844-editor-toolbarTitleContainer",toolbarTitle:"_fd0d2403-editor-toolbarTitle",toolbarTitleHidden:"_f271e690-editor-toolbarTitleHidden _fd0d2403-editor-toolbarTitle",headerWrapper:"_1aad07df-editor-headerWrapper",headerWrapperHidden:"_fcbdf957-editor-headerWrapperHidden _1aad07df-editor-headerWrapper",headerContainer:"_08cf83e7-editor-headerContainer",titleWrapper:"_26d008cb-editor-titleWrapper",titleWrapperHidden:"_6449372e-editor-titleWrapperHidden _26d008cb-editor-titleWrapper",headerTitle:"_8fbb367a-editor-headerTitle",backToWriting:"_bf1d7623-editor-backToWriting",savedContainer:"_d7ca09f8-editor-savedContainer",savedContainerAbsolute:"_65e88290-editor-savedContainerAbsolute _d7ca09f8-editor-savedContainer",savedIndicator:"_7579e7e1-editor-savedIndicator"}},1950:function(e,t){e.exports={toolbar:"_a4a52e78-view-toolbar",scrollOnlyOnHover:"_2b0c0883-view-scrollOnlyOnHover",wrapper:"_7af018b8-view-wrapper",header:"_fe715241-view-header",description:"_e683757a-view-description",inputField:"_d17766db-view-inputField _e635cd19-typography-p1",briefDescriptionInput:"_5a33c4d5-view-briefDescriptionInput",feedbackInput:"_263f5160-view-feedbackInput",helpdesk:"_c17368b6-view-helpdesk",buttons:"_0740d134-view-buttons",feedbackPopupHeader:"_acf88b98-view-feedbackPopupHeader",feedbackPopupFooter:"_10796c9a-view-feedbackPopupFooter"}},1951:function(e,t){e.exports={footer:"_8844d3e0-view-footer",diagnosticMode:"_4043cea8-view-diagnosticMode",diagnosticModeDisable:"_8e68ae2d-view-diagnosticModeDisable",diagnosticModeIcon:"_b8560945-view-diagnosticModeIcon"}},1952:function(e,t){e.exports={documentActionsTeaser:"_cf8e5c79-navigation-documentActionsTeaser",documentActionsFull:"_5f0b19c2-navigation-documentActionsFull _cf8e5c79-navigation-documentActionsTeaser",blockTeaser:"_b66468d4-navigation-blockTeaser _81abaf57-button-round _46480f23-button-button",fadeIn1:"_b2643bcc-navigation-fadeIn1",blockTeaserBig:"_961c73f6-navigation-blockTeaserBig _b66468d4-navigation-blockTeaser _81abaf57-button-round _46480f23-button-button",blockFull:"_3be02721-navigation-blockFull _912ed3f2-button-sidebarFlat _44f85ed9-typography-header3 _46480f23-button-button",fadeIn2:"_cb4cf764-navigation-fadeIn2",actionIcon:"_fd1c9cba-navigation-actionIcon",hidden:"_9ae9c279-navigation-hidden",advancedCounterLabel:"_3707aa37-navigation-advancedCounterLabel",advancedCounterContent:"_36b73158-navigation-advancedCounterContent"}},1953:function(e,t){e.exports={fullHeight:"_de06857d-navigation-fullHeight",fullHeightLoaderNavigation:"_f8c69098-navigation-fullHeightLoaderNavigation _de06857d-navigation-fullHeight",fullHeightLoader:"_f32d8b88-navigation-fullHeightLoader _f8c69098-navigation-fullHeightLoaderNavigation _de06857d-navigation-fullHeight",navigationWrapper:"_0dfe0dbf-navigation-navigationWrapper _de06857d-navigation-fullHeight",navigationLoaderWrapper:"_4a6283d1-navigation-navigationLoaderWrapper _0dfe0dbf-navigation-navigationWrapper _de06857d-navigation-fullHeight",navigationLoaderWithToolbar:"_f80ddf54-navigation-navigationLoaderWithToolbar",baseWrapper:"_953f8315-navigation-baseWrapper _de06857d-navigation-fullHeight",wrapper:"_191aba7c-navigation-wrapper _953f8315-navigation-baseWrapper _de06857d-navigation-fullHeight",loaderWrapper:"_7b9687b6-navigation-loaderWrapper _191aba7c-navigation-wrapper _953f8315-navigation-baseWrapper _de06857d-navigation-fullHeight",loaderWrapperNoShadow:"_0a198c33-navigation-loaderWrapperNoShadow _7b9687b6-navigation-loaderWrapper _191aba7c-navigation-wrapper _953f8315-navigation-baseWrapper _de06857d-navigation-fullHeight",narrowWrapper:"_a26bca1d-navigation-narrowWrapper _953f8315-navigation-baseWrapper _de06857d-navigation-fullHeight",fixedWrapper:"_d29f999c-navigation-fixedWrapper _953f8315-navigation-baseWrapper _de06857d-navigation-fullHeight",headerWrapper:"_57e20808-navigation-headerWrapper",lensesAnimationWrapper:"_8769df05-navigation-lensesAnimationWrapper",onboardingNotification:"_92863097-navigation-onboardingNotification",actionIcon:"_4c961a4e-navigation-actionIcon",goalsCornerState:"_eb7ea0a9-navigation-goalsCornerState",delimiter:"_8462003f-navigation-delimiter",insightsOnboardingContainer:"_bb309f4c-navigation-insightsOnboardingContainer",goalsOnboardingContainer:"_9c1d8eb6-navigation-goalsOnboardingContainer",goalsOnboardingNotification:"_75b064db-navigation-goalsOnboardingNotification",goalsTriangleClassName:"_e8cd413a-navigation-goalsTriangleClassName",ensureClickable:"_2edccce9-navigation-ensureClickable"}},1954:function(e,t){e.exports={baseNavigationLoader:"_0d7c53e4-view-baseNavigationLoader",checkingInStart:"_fdc5fc3c-view-checkingInStart _0df65d85-view-navigationEnterLeftStart _0d7c53e4-view-baseNavigationLoader",checkingInEnd:"_3d43b449-view-checkingInEnd _63e96736-view-navigationEnterLeft _0d7c53e4-view-baseNavigationLoader",checkingOutStart:"_a2de69a5-view-checkingOutStart _42e709a5-view-navigationLeaveRightStart _0d7c53e4-view-baseNavigationLoader",checkingOutEnd:"_06c8e2cc-view-checkingOutEnd _a4bba7e4-view-navigationLeaveRight _0d7c53e4-view-baseNavigationLoader",checkingStart:"_18366392-view-checkingStart",checkingEnd:"_dd4b4835-view-checkingEnd",hideStart:"_5db14e25-view-hideStart",hideEnd:"_227caa8a-view-hideEnd"}},1955:function(e,t){e.exports={wrapper:"_7d4f321b-not-found-wrapper",logo:"_ebc01161-not-found-logo",img:"_03ab1b10-not-found-img",title:"_faad79c6-not-found-title",info:"_8969f84e-not-found-info",toHome:"_7b179f36-not-found-toHome"}},1956:function(e,t){e.exports={wrapper:"_3fdcb89a-sidebar-wrapper",info:"_9d95e177-sidebar-info",text:"_2fbc2865-sidebar-text",advancedBlockWrapper:"_be1de6bb-sidebar-advancedBlockWrapper",advancedBlock:"_94bdc3e3-sidebar-advancedBlock",counter:"_90592513-sidebar-counter",upgradeBlock:"_61947935-sidebar-upgradeBlock",footer:"_a540f88f-sidebar-footer",footerText:"_c80cb5f5-sidebar-footerText",footerLogo:"_014eb7e2-sidebar-footerLogo",alertList:"_fe5a28d1-sidebar-alertList",alertBlock:"_b63c507f-sidebar-alertBlock",graphBlock:"_d76d04d2-sidebar-graphBlock",graphCircle:"_f209dd32-sidebar-graphCircle",graphCircle1:"_9f80c5ed-sidebar-graphCircle1 _f209dd32-sidebar-graphCircle",graphCircle2:"_2d9b5960-sidebar-graphCircle2 _f209dd32-sidebar-graphCircle",graphCircle3Empty:"_4e865e0b-sidebar-graphCircle3Empty _2d9b5960-sidebar-graphCircle2 _f209dd32-sidebar-graphCircle",graphCircle3:"_741b140b-sidebar-graphCircle3 _f209dd32-sidebar-graphCircle",graphCounter:"_b6ff242d-sidebar-graphCounter",graphCounterWin:"_8e16713b-sidebar-graphCounterWin",opacity90:"_43b51cda-sidebar-opacity90",opacity80:"_ca5cbad1-sidebar-opacity80",opacity70:"_8f8880d4-sidebar-opacity70",opacity60:"_c19a4bef-sidebar-opacity60",opacity50:"_448664ca-sidebar-opacity50",headerTitle:"_9ae20ee6-sidebar-headerTitle"}},1957:function(e,t){e.exports={content:"_d385ac1e-plagiarism-content",loader:"_39eecb8a-plagiarism-loader",loadingText:"_36526d40-plagiarism-loadingText _8d8a7136-typography-p2",originality100Text:"_fe55e66b-plagiarism-originality100Text _36526d40-plagiarism-loadingText _8d8a7136-typography-p2",illusration:"_a324d472-plagiarism-illusration"}},1958:function(e,t){e.exports={referenceLink:"_73e4f949-sidebar-referenceLink",info:"_7a52f04f-sidebar-info _9774c814-sidebar-info"}},1959:function(e,t){e.exports={wrapper:"_576ed361-sidebar-wrapper",info:"_1ba40ecf-sidebar-info",text:"_e83a44a6-sidebar-text",advancedBlockWrapper:"_c9b04cc9-sidebar-advancedBlockWrapper",advancedBlock:"_4472d9f9-sidebar-advancedBlock",counter:"_1f7977fb-sidebar-counter",upgradeBlock:"_98ff5b9c-sidebar-upgradeBlock",footer:"_a8ff90c9-sidebar-footer",footerText:"_5e654b49-sidebar-footerText",footerLogo:"_176970d3-sidebar-footerLogo",alertList:"_56be2cc6-sidebar-alertList",alertBlock:"_35e11768-sidebar-alertBlock",graphBlock:"_43617b30-sidebar-graphBlock",graphCircle:"_47a4478f-sidebar-graphCircle",graphCircle1:"_06bd3973-sidebar-graphCircle1 _47a4478f-sidebar-graphCircle",graphCircle2:"_1344f3a8-sidebar-graphCircle2 _47a4478f-sidebar-graphCircle",graphCircle3Empty:"_14286eb5-sidebar-graphCircle3Empty _1344f3a8-sidebar-graphCircle2 _47a4478f-sidebar-graphCircle",graphCircle3:"_d2e74023-sidebar-graphCircle3 _47a4478f-sidebar-graphCircle",graphCounter:"_76a77236-sidebar-graphCounter",graphCounterWin:"_9bd84b77-sidebar-graphCounterWin",opacity90:"_f4f17d88-sidebar-opacity90",opacity80:"_b467583b-sidebar-opacity80",opacity70:"_080fed7c-sidebar-opacity70",opacity60:"_4b7a7334-sidebar-opacity60",opacity50:"_01f7d7b0-sidebar-opacity50",headerTitle:"_46c8c72f-sidebar-headerTitle",contentWrapper:"_2e75b919-sidebar-contentWrapper"}},1960:function(e,t){e.exports={description:"_2fb8e865-sidebar-description _9774c814-sidebar-info",referenceLink:"_e038acf6-sidebar-referenceLink"}},1961:function(e,t){e.exports={sidebarHeader:"_1a2ccc12-sidebar-sidebarHeader",togglerWrapper:"_bd885341-sidebar-togglerWrapper",hidden:"_865c8140-sidebar-hidden",startEditingBtn:"_a81ac81b-sidebar-startEditingBtn",finishEditingBtn:"_caa25250-sidebar-finishEditingBtn _a81ac81b-sidebar-startEditingBtn",exitIcon:"_299d7d3c-sidebar-exitIcon",counterWrapper:"_6bafdfcc-sidebar-counterWrapper",counter:"_8e65d886-sidebar-counter",counterBtn:"_3459a61d-sidebar-counterBtn",overviewBtn:"_dd1bd57f-sidebar-overviewBtn",fadeIn:"_28079aac-sidebar-fadeIn",rankLabel:"_05b44542-sidebar-rankLabel",scoreWrapper:"_4c0d77f0-sidebar-scoreWrapper",score:"_f9405404-sidebar-score",zeroScore:"_b1c8e16d-sidebar-zeroScore _f9405404-sidebar-score",checking:"_0abfadb2-sidebar-checking",overviewTooltip:"_c1e3ed35-sidebar-overviewTooltip",lensToggler:"_d08ed756-sidebar-lensToggler",hideAssistantBtn:"_fcbb7edf-sidebar-hideAssistantBtn",hideAssistant:"_9bb5f2c3-sidebar-hideAssistant",hideAssistantVisible:"_238003ad-sidebar-hideAssistantVisible _9bb5f2c3-sidebar-hideAssistant",hideAssistantIn:"_f43bfb62-sidebar-hideAssistantIn",hideAssistantHidden:"_fb98d110-sidebar-hideAssistantHidden _9bb5f2c3-sidebar-hideAssistant",tooltip:"_7258a554-sidebar-tooltip"}},1962:function(e,t){e.exports={sidebarLoaderBase:"_9b32e122-view-sidebarLoaderBase",checkingInStart:"_515cf48e-view-checkingInStart _ccc19bc5-view-sidebarEnterLeftStart _9b32e122-view-sidebarLoaderBase",checkingInEnd:"_64e8ed80-view-checkingInEnd _a6140d6a-view-sidebarEnterLeft _9b32e122-view-sidebarLoaderBase",checkingOutStart:"_b39be6f4-view-checkingOutStart _626a800b-view-sidebarLeaveRightStart _9b32e122-view-sidebarLoaderBase",checkingOutEnd:"_a258a749-view-checkingOutEnd _0c0b9e69-view-sidebarLeaveRight _9b32e122-view-sidebarLoaderBase",checkingStart:"_cc3d9146-view-checkingStart",checkingEnd:"_52a15156-view-checkingEnd",hideStart:"_472e6755-view-hideStart",hideEnd:"_29cad7e3-view-hideEnd"}},1963:function(e,t){e.exports={fakeToolbarWrapper:"_e984c7d3-toolbar-fakeToolbarWrapper",fakeToolbarTitle:"_4b646eae-toolbar-fakeToolbarTitle",wrapper:"_17d06b80-toolbar-wrapper",dropdownList:"_e07817a8-toolbar-dropdownList",discoverabilityOnExit:"_79c1f5ee-toolbar-discoverabilityOnExit",discoverabilityOnExitTriangle:"_4761e362-toolbar-discoverabilityOnExitTriangle",toolbarBtn:"_ece08e6e-toolbar-toolbarBtn",buttons:"_4308a2a1-toolbar-buttons",backIcon:"_0d11483e-toolbar-backIcon",goalsWrapper:"_d857b595-toolbar-goalsWrapper",goalsBtn:"_a1bcc7ce-toolbar-goalsBtn",uploadIcon:"_2590b11c-toolbar-uploadIcon",actionBlockWrapper:"_9ceb8afe-toolbar-actionBlockWrapper"}},2041:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(105),s=n(1929),c=n(1605),l=n(1381),u=n(1943),d=n(32),p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this;return i.createElement(c.DropZoneBase,{documentUpload:this.props.documentUpload,notifications:this.props.notifications,canDrop:function(){return!0},render:function(t,n){return i.createElement(o.F.div,null,o.Atom.combine(t,n,function(t,n){return(t||n)&&i.createElement(d.Lifecycle,{className:u.animation,onMount:function(){return e.context.documentLoader.setGoalsVisibilityState.set("forceHidden")}},i.createElement("div",{className:u.one}),i.createElement("div",{className:u.two}),i.createElement("div",{className:u.three}),i.createElement(s.EditorComponent.Wrapper,{position:"center",className:u.textWrapper},i.createElement("div",{className:u.titleWrap},i.createElement(l.H1,{className:u.title},e.context.textResources.denali.uploadDropZone)),i.createElement(l.Paper,{className:u.content},e.context.textResources.denali.uploadDropZoneTypes)))}))}})},t}(a.BaseComponent);t.DropZone=p},2046:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(513),s=n(1944);t.GrammarlyLogo=function(e){var t=e.className;return i.createElement("div",r.__assign({},o.classes(s.base,t)),i.createElement(a.Icon.Grammarly,{className:s.icon}),i.createElement("svg",{width:"99",height:"18",viewBox:"0 0 99 18"},i.createElement("g",{fill:"#4C4C4C",fillRule:"evenodd"},i.createElement("path",{d:"M2 17.16c-.5-.2-.84-.6-.84-1.16 0-.67.55-1.23 1.22-1.23.2 0 .36.04.5.1.86.4 1.8.63 2.92.63 2.05 0 3.02-.98 3.02-2.88v-.5c-.9 1.05-1.86 1.7-3.46 1.7-2.47 0-4.7-1.8-4.7-4.93v-.05c0-3.16 2.27-4.93 4.7-4.93 1.64 0 2.6.7 3.42 1.58v-.02c0-.8.67-1.48 1.5-1.48s1.5.67 1.5 1.5v6.8c0 1.9-.46 3.28-1.35 4.17-.98 1-2.5 1.42-4.55 1.42-1.4 0-2.63-.25-3.87-.74zM8.83 8.9v-.05c0-1.44-1.13-2.45-2.6-2.45-1.45 0-2.56 1-2.56 2.45v.04c0 1.45 1.1 2.44 2.57 2.44 1.46 0 2.6-1 2.6-2.45zM13.47 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C16.9 4.94 17.62 4 18.5 4c.94 0 1.47.6 1.47 1.46 0 .8-.52 1.26-1.13 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M19.6 11.65v-.03c0-2.3 1.77-3.38 4.28-3.38 1.06 0 1.83.18 2.58.43V8.5c0-1.25-.77-1.94-2.27-1.94-.84 0-1.5.12-2.08.3-.18.06-.3.08-.43.08-.7 0-1.26-.54-1.26-1.23 0-.52.34-.97.8-1.15.96-.36 1.98-.55 3.4-.55 1.62 0 2.8.43 3.56 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.87 0-1.44-.6-1.44-1.23v-.02c-.73.8-1.73 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.5-.24-1.18-.4-1.9-.4-1.3 0-2.1.52-2.1 1.47v.04c0 .8.7 1.28 1.65 1.28 1.4 0 2.35-.77 2.35-1.86zM30.94 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.12-1.7 1.38 0 2.43.6 2.98 1.68.93-1.1 2.03-1.68 3.47-1.68 2.25 0 3.6 1.34 3.6 3.9v5.5c0 .82-.68 1.5-1.5 1.5-.84 0-1.5-.68-1.5-1.5V8.78c0-1.43-.64-2.16-1.77-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.7 1.5-1.52 1.5-.8 0-1.5-.66-1.5-1.5V8.8c0-1.43-.62-2.16-1.74-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M48.7 5.5c0-.83.68-1.5 1.5-1.5.84 0 1.5.67 1.5 1.5v.12c.7-.9 1.6-1.7 3.13-1.7 1.38 0 2.42.6 2.98 1.68.93-1.1 2.04-1.68 3.48-1.68 2.23 0 3.57 1.34 3.57 3.9v5.5c0 .82-.67 1.5-1.5 1.5s-1.5-.68-1.5-1.5V8.78c0-1.43-.63-2.16-1.75-2.16-1.13 0-1.82.73-1.82 2.15v4.5c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V8.8c0-1.43-.63-2.16-1.76-2.16-1.12 0-1.8.73-1.8 2.15v4.5c0 .84-.68 1.5-1.5 1.5-.84 0-1.5-.66-1.5-1.5V5.5M65.84 11.65v-.03c0-2.3 1.76-3.38 4.26-3.38 1.07 0 1.84.18 2.6.43V8.5c0-1.25-.78-1.94-2.28-1.94-.83 0-1.5.12-2.07.3-.18.06-.3.08-.44.08-.68 0-1.23-.54-1.23-1.23 0-.52.33-.97.8-1.15.96-.36 1.98-.55 3.38-.55 1.64 0 2.83.43 3.58 1.18.8.8 1.14 1.96 1.14 3.38v4.8c0 .82-.65 1.45-1.46 1.45-.86 0-1.43-.6-1.43-1.23v-.02c-.73.8-1.74 1.34-3.2 1.34-2 0-3.63-1.15-3.63-3.25zm6.9-.7v-.52c-.52-.24-1.2-.4-1.93-.4-1.27 0-2.06.52-2.06 1.47v.04c0 .8.67 1.28 1.64 1.28 1.4 0 2.35-.77 2.35-1.86zM77.17 5.5c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5v.47C80.6 4.94 81.3 4 82.2 4c.93 0 1.46.6 1.46 1.46 0 .8-.5 1.26-1.12 1.4-1.52.35-2.37 1.52-2.37 3.65v2.8c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V5.5M84.57 1.67c0-.83.67-1.5 1.5-1.5s1.5.67 1.5 1.5V13.3c0 .84-.67 1.5-1.5 1.5s-1.5-.66-1.5-1.5V1.68M89.96 17.63c-.43-.15-.95-.5-.95-1.24s.58-1.23 1.2-1.23c.23 0 .37.04.5.08.25.08.4.12.62.12.53 0 .8-.1 1.07-.64l.1-.23-3.63-8.37c-.07-.2-.15-.5-.15-.7 0-.84.65-1.43 1.48-1.43.75 0 1.18.4 1.44 1.12l2.3 6.16 2.2-6.14C96.37 4.5 96.8 4 97.58 4c.77 0 1.42.6 1.42 1.38 0 .24-.08.57-.14.7l-3.7 8.87c-.88 2.15-1.77 2.96-3.56 2.96-.67 0-1.15-.1-1.64-.27"}))))}},2058:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(105),a=n(1931),s=n(272),c=n(4),l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=c.Monitoring.Logging.getLogger("denali_loader"),t._metric=c.Monitoring.TimeSeries.root.getMetric("denali_loader"),t._state=t.context.documentLoader.state,t._subs=[],t}return r.__extends(t,e),t.prototype.componentWillMount=function(){this._listenLoading(this.props)},t.prototype.componentWillReceiveProps=function(e){this._clear(),this._listenLoading(e)},t.prototype.componentWillUnmount=function(){this._clear()},t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.render=function(){return i.createElement(a.Main.Loader,{key:"loading",state:this._state})},t.prototype._listenTimeseries=function(e,t,n){var r=this;return void 0===n&&(n=!1),this._state.skip(1).map(function(e){return t(e)}).distinctUntilChanged().map(function(t){if(void 0!==t)return n&&r._metric.getCounter(e+"."+t+".start.counter").increment(),{time:r._metric.getTimer(e+"."+t+".time").start(),counter:n?r._metric.getCounter(e+"."+t+".stop.counter"):void 0}}).pairwise().subscribe(function(e){var t=e[0];t&&(t.time.stop(),t.counter&&t.counter.increment())})},t.prototype._listenLoading=function(e){var t=this;this._state.distinctUntilChanged().subscribe(function(e){t._log.debug("State is changed to "+s.DocumentLoader.State.toString(e))}),this._subs.push(this._listenTimeseries("text",function(e){return e.text.orUndefined()},!0),this._listenTimeseries("lens",function(e){return e.lens.filter(function(e){return"checkingOut"!==e}).map(function(){return"checking"}).orUndefined()}),this._listenTimeseries("navigation",function(e){return e.navigation.filter(function(e){return"checkingOut"!==e}).map(function(){return"checking"}).orUndefined()})),this.context.appRouter.locationState.exists(function(e){return!0===e.openSidebar})?this._state.set(s.DocumentLoader.State.processing):this._state.set(s.DocumentLoader.State.text),this._subs.push(e.engineStream.subscribe(function(e){e.map(function(e){e.isLeft()&&t._state.set(s.DocumentLoader.State.idle)})}))},t.prototype._clear=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t}(o.BaseComponent);t.DenaliEditorLoader=l},2059:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(4),o=n(268),a=function(){function e(e,t,n,r,a,s,c,l,u,d){void 0===d&&(d=3e3);var p=this;this._documentId=e,this._alertManager=a,this._context=c,this._isFree=l,this._alertCache=u,this._log=i.Monitoring.Logging.getLogger("AlertsCacheManagerImpl"),this._subs=[],this._log.debug("Loading alerts from cache...");try{var m=this.getCorrectAlerts(t);m.forEach(function(e){return n.next({kind:"alert_received",alert:e})}),this._log.debug(m.length+" cached alert(s) where loaded")}catch(e){this._log.warn("Cannot read alerts cache",e)}this._subs.push(n.filter(function(e){return"session_started"===e.kind}).switchMap(function(){return n.skipWhile(function(e){return"finish"!==e.kind}).filter(function(e){return"alert_received"===e.kind||"alert_removed"===e.kind}).merge(r.changes).merge(s).merge(a.alertEvents)}).auditTime(d).subscribe(function(){return p.saveAlerts(p._alertManager.getAllAlertsAsArray().filter(o.Alert.isCacheable).map(function(e){return e.toRawAlert()}))}))}return e.prototype.getCorrectAlerts=function(e){var t=this;return r.Option.of(this._alertCache.load(this._documentId,this._context.get(),this._isFree)).getOrElse([]).filter(function(n){return t._isRawAlertCorrect(n,e)})},e.prototype.saveAlerts=function(e){this._alertCache.save(this._documentId,this._context.get(),this._isFree,e)},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._isRawAlertCorrect=function(e,t){return!!e&&t.substring(e.highlightBegin,e.highlightEnd)===e.highlightText},e}();t.AlertsCacheManagerImpl=a},2060:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16);!function(e){function t(e){return{changes:r.Observable.merge.apply(r.Observable,e.map(function(e){return e.changes}))}}e.merge=t}(t.ChangesSource||(t.ChangesSource={}))},2061:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),i=n(4),o=3e5,a=function(){function e(t,n,a,s,c,l){var u=this;this._log=i.Monitoring.Logging.getLogger("ChangesDispatcher"),this._log.debug("Got initial text, len: "+t.length);var d=n.changes,p=e._dedToSync(n,"api"),m=e._dedToSync(n,"user");d.map(function(){return n.getTextLength()}).distinctUntilChanged().throttleTime(o).subscribe(function(e){i.Monitoring.TimeSeries.root.getTimer("text_length").recordTime(e)}),d.subscribe(function(e){u._log.trace("FROM DED: pmtl: ",{changes:e,delta:r.Change.isDelta(e)?e.delta:null}),c.pushChanges(e),s.pushChanges(e),a.pushChanges(e)}),l.changes.subscribe(function(e){m.pushChanges(e)}),a.changes.subscribe(function(e){u._log.trace("Got REMOTE changes:",e),s.pushChanges(e),p.pushChanges(e),c.pushChanges(e)}),s.events.subscribe(function(e){if("before_alert"===e.kind)n.flushChanges();else if("session_started"===e.kind){u._log.debug("session_started from capi"),n.flushChanges();var t=n.getContents();s.pushChanges(t)}}),c.pushChanges(t),p.pushChanges(t)}return e._dedToSync=function(e,t){return{pushChanges:function(n){e.pushChanges(n,t),"user"!==t||r.Change.isFlush(n)||e.flushChanges()}}},e}();t.ChangesDispatcher=a},2062:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2),i=function(){function e(e){this._context=e}return Object.defineProperty(e.prototype,"goalsVisibilityState",{get:function(){return"hidden"!==this._context.documentLoader.setGoalsVisibilityState.get()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"notifications",{get:function(){return this._context.notifications},enumerable:!0,configurable:!0}),e.prototype.trackLensChange=function(e){this._context.gnarSpec.lensSidebarShow(r.StringUtils.camelize(e),this._context.pageId)},e.prototype.trackAdvancedLensOpen=function(e){this._context.gnarSpec.advancedIssuesSidebarShow(this._context.pageId,e)},e.prototype.assistantSidebarClose=function(){this._context.gnarSpec.assistantSidebarClose(this._context.pageId)},e.prototype.assistantSidebarShow=function(){this._context.gnarSpec.assistantSidebarShow(this._context.pageId)},e}();t.PageVMContextModelImpl=i;!function(e){var t=function(){function e(e){this.notifications=e,this.goalsVisibilityState=!1}return e.prototype.trackLensChange=function(){},e.prototype.trackAdvancedLensOpen=function(){},e.prototype.assistantSidebarClose=function(){},e.prototype.assistantSidebarShow=function(){},e}();e.PageVMContextModelMock=t}(t.ContextModel||(t.ContextModel={}))},2063:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n(4),o=n(18),a=n(1440),s=function(){function e(e,t,n,r){var s=this;this._docModel=e,this._doxInit=t,this._doxEvents=n,this._features=r,this._log=i.Monitoring.Logging.getLogger("DoxSyncManager"),this._counter=i.Monitoring.TimeSeries.root.getCounter("dox.denali"),this.changes=this._doxEvents.deltaChanges,this._settingsHolder=t.meta.settings,this._title=t.meta.title,this._subs=[this._docModel.title.filter(function(e){return e!==s._title}).do(function(e){return s._docModel.saved.next(!1)}).debounceTime(1e3).subscribe(function(e){s._updateTitle(e)}),this._docModel.context.skip(1).subscribe(function(e){var t=s._settingsHolder.changeContext(e);s._updateSettings(t)}),this._docModel.extraSettings.changes.subscribe(function(e){var t=s._settingsHolder.changeExtra(e);s._updateSettings(t)}),this._docModel.checkingState.combineLatest(this._docModel.counters).filter(function(e){var t=e[0],n=e[1];return"idle"===t&&a.DocumentCounters.isValid(n)}).map(function(e){e[0];return e[1]}).skip(1).debounceTime(1e3).distinctUntilChanged().subscribe(function(e){s._doxInit.remoteDocument.updateMetadata({errors:e.advanced+e.critical})}),this._doxEvents.metadataChanges.subscribe(function(e){s._settingsHolder=e.settings,e.proofit.forEach(function(e){return s._docModel.proofit.updateState(e)}),s._title=e.title,s._docModel.title.set(e.title)}),this._doxEvents.acceptedMessage.subscribe(function(e){o.DOX.ChangesQueue.isCmd(e)||s._incCounter(e.kind,"accepted"),s._docModel.saved.next(s._doxInit.remoteDocument.inSync)}),this._doxEvents.droppedMessages.subscribe(function(e){var t=e.messages,n=e.reason,r=s._groupMessages(t);void 0!==r.change&&s._incCounter("change","dropped",r.change),void 0!==r.meta&&s._incCounter("meta","dropped",r.meta),r.change&&s._log.warn("got dropped messages",{counts:r,reason:n}),s._docModel.saved.next(s._doxInit.remoteDocument.inSync)})]}return e.createDoxEventsCollector=function(){return{deltaChanges:new r.Subject,metadataChanges:new r.Subject,acceptedMessage:new r.Subject,droppedMessages:new r.Subject}},e.prototype.pushChanges=function(e){this._features.demoMode||(this._incCounter("change","sent"),this._docModel.saved.next(!1),this._doxInit.remoteDocument.pushChanges(e))},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()})},e.prototype._updateSettings=function(e){this._incCounter("meta","sent"),this._docModel.saved.next(!1),this._settingsHolder=e,this._doxInit.remoteDocument.updateMetadata({settings:e})},e.prototype._updateTitle=function(e){this._incCounter("meta","sent"),this._docModel.saved.next(!1),this._title=e,this._doxInit.remoteDocument.updateMetadata({title:e})},e.prototype._incCounter=function(e,t,n){void 0===n&&(n=1),this._counter.getCounter("message."+e+"."+t).increment(n)},e.prototype._groupMessages=function(e){return e.reduce(function(e,t){return void 0===e[t.kind]&&(e[t.kind]=0),e[t.kind]++,e},{})},e}();t.DoxSyncManager=s},2064:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(16),o=n(6),a=n(2),s=function(){function e(e,t){var n=this;this._documentModel=e,this._capiClient=t,this.checkingState=this._documentModel.asyncChecksState.lens(function(e){return e.plagiarism}),this._subs=[],this._isEnabled=o.Atom.create(!1),this._enable=function(){n.checkingState.modify(function(e){return"idle"===e?"checking":e}),n._documentModel.extraSettings.checkedPlagiarism=!0,n._capiClient.capi.enablePlagiarismSearch()},this._disable=function(){n._capiClient.capi.disablePlagiarismSearch()},this._subs.push(this._isEnabled.switchMap(function(e){return e?n._capiClient.events.filter(function(e){return"session_started"===e.kind}):i.Observable.empty()}).subscribe(this._enable))}return e.prototype.enable=function(){this._isEnabled.set(!0),this._enable()},e.prototype.disable=function(){this._isEnabled.set(!1),this._disable()},e.prototype.recheck=function(){return r.__awaiter(this,void 0,void 0,function(){var e;return r.__generator(this,function(t){switch(t.label){case 0:return e=!this._isEnabled.get(),e&&this._enable(),[4,this.checkingState.filter(function(e){return"idle"===e}).first().toPromise()];case 1:return t.sent(),e&&this._capiClient.capi.disablePlagiarismSearch(),[2]}})})},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()})},e}();t.PlagiarismModelImpl=s;!function(e){var t=function(){function e(){this.enable=a.noop,this.disable=a.noop,this.recheck=function(){return new Promise(a.noop)},this.dispose=a.noop,this.checkingState=o.Atom.create("full")}return e}();e.Mock=t}(t.PlagiarismModel||(t.PlagiarismModel={}))},2065:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(16),o=n(18),a=n(1440),s=n(2060),c=n(1398),l=n(2061),u=n(1662),d=n(1661),p=n(1845),m=n(2059),f=n(1660),h=n(2),g=n(2064),_=n(537),v=n(2063),b=n(4),y=n(539),w=function(){function e(e,t,n,r,i,o,a,s){this._capiClient=e,this._remoteDocument=t,this.documentModel=n,this.positionManager=r,this.alertsList=i,this.synonymsModel=o,this.plagiarismModel=a,this._doxSyncManager=s}return e.create=function(t,n,a,b,w,E,M,C,S,k,x){var A=this,L=v.DoxSyncManager.createDoxEventsCollector(),T=o.DoxRemoteDocument.Queue.create({acceptedMsgHandler:function(e){return L.acceptedMessage.next(e)},droppedMsgsHandler:function(e){return L.droppedMessages.next(e)}});return a.openDocumentById(E,{changeHandler:function(e,t){return L.deltaChanges.next(t)},disconnectHandler:e._getDoxDisconnectHandler(b),metadataChangeHandler:function(e,t){return L.metadataChanges.next(t)}},T,5e3).then(function(T){return r.__awaiter(A,void 0,void 0,function(){var A,N,I,O,V,P,D,R,F,B,W,H,U,z;return r.__generator(this,function(r){return b.setState({type:"wsDox",state:{type:"online"}}),A=new i.Subject,N=M.dialect.get().getOrElse("undefined"),I=new o.CAPI.CAPIClientImpl({url:t.api.capiWsUrl,client:k.names.capi.denali,context:T.meta.settings.context.getOrElse(o.DocumentContext.empty),handler:u.ObservableCAPIClient.getCapiHandler(A,b),docid:E,dialect:N},x),O=e._getDocumentModel(E,T,w,I,a,S,C,k),V=new v.DoxSyncManager(O,T,L,C),P=O.context.view(function(e){return e.domain+"."+N}),D=new _.AlertCacheImpl(function(e){return e.filter(function(e){return o.RawAlert.isRawAlert(e)})},function(e){return e},"DN-"+t.alertCachePrefix,t.alertCacheVersion,y.DenaliStorage.fromLocalStorage(y.ls),12096e5),R=new u.ObservableCAPIClientImpl(I,A,O,M,n,D.hasCache(E,P.get(),C.isFree),T.initialDelta.length),F=f.LensManagerFactory.get(O.counters),B=new c.PositionManager,W=new d.AlertManager(B,R,F),H=new p.SynonymsModelImpl(B,I),U=new g.PlagiarismModelImpl(O,R),new l.ChangesDispatcher(T.initialDelta,w,V,R,B,s.ChangesSource.merge([W,H])),z=new e(I,T.remoteDocument,O,B,W,H,U,V),new m.AlertsCacheManagerImpl(E,T.initialDelta.text.get(),A,B,W,O.counters.view("unread"),P,C.isFree,D),W.flushAlerts(),h.registerDebugHelper("text",function(){I.getText().then(function(e){var t=w.getText();t!==e?console.log("Text DIFF",{capiText:e,capiLen:e.length,dedText:t,dedTextLen:t.length}):console.log("Texts are the same, len: "+t.length)}).catch(function(e){throw e})}),h.registerDebugHelper("engine",z),h.registerDebugHelper("alertManager",W),h.registerDebugHelper("capi",I),[2,z]})})})},e.prototype.shutdown=function(){this._capiClient.close(),this._remoteDocument.close(),this._doxSyncManager.dispose(),this.plagiarismModel.dispose()},e._getDocumentModel=function(e,t,n,r,i,o,s,c){return new a.DocumentModelImpl(e,t,function(){return n.getText()},function(){return r.requestDocStats()},i,o,s.enableTrackingOnDownload.get(),function(){return n.flushChanges()},c)},e._getDoxDisconnectHandler=function(e){var t=this,n=b.Monitoring.Logging.getLogger("DoxConnectivity"),i=o.Reconnect.getDefaultReconnect(n,o.Reconnect.ClientType.dox);return function(a,s,c,l){return r.__awaiter(t,void 0,void 0,function(){var t,u,d,p;return r.__generator(this,function(r){switch(r.label){case 0:n.debug("Disconnected from dox",a),t={code:a.code,reason:a.reason,reconnectAction:l},u=function(r){"online"===r?n.info("WS DOX connectivity online"):"error"===l?n.info("WS DOX connectivity error: "+r,a.error,t):n.info("WS DOX connectivity error, reconnecting: "+r,a.error,t),e.setState({type:"wsDox",state:{type:r}})},r.label=1;case 1:switch(r.trys.push([1,6,,7]),a.code){case o.Reconnect.WsCodes.NOT_FOUND:u("documentNotFoundError");break;case o.Reconnect.WsCodes.UNAUTHORIZED:u("unauthorized");break;case o.Reconnect.WsCodes.BLOCKED_BY_CLIENT:u("blockedByClient");break;case o.Reconnect.WsCodes.CLIENT_MALFUNCTION:case o.Reconnect.WsCodes.PRECONDITION_FAILED:u("unknownConnectionError");break;default:a.reconnect.reconnectCounter>=2?u([0,o.Reconnect.WsCodes.UNKNOWN_WS_ERROR,o.Reconnect.WsCodes.CLOSED_ABNORMALLY].indexOf(a.code)>=0?"unknownConnectionError":"serverError"):"error"===l&&u("serverError")}r.label=2;case 2:return r.trys.push([2,4,,5]),[4,i(a,s,c,l)];case 3:return r.sent(),u("online"),[3,5];case 4:if(d=r.sent(),n.info("Reconnect failed with an error",d),"error"===l)throw a.error;return[3,5];case 5:return[3,7];case 6:throw p=r.sent(),n.error("Dox connectivity error",p),p;case 7:return[2]}})})}},e}();t.StEngine=w},2070:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1421),i=n(1452),o=n(514),a=n(2072);t.LoaderViewModel=a.LoaderViewModel;var s=n(1454),c=n(1427),l=n(1422),u=n(1852),d=n(1669),p=n(2073),m=n(2074),f=n(2075),h=n(1504),g=n(517);t.OnboardingViewModel=g.OnboardingViewModel,t.OnboardingStep=g.OnboardingStep;var _=n(1621),v=n(1668),b=n(1503),y=n(1441),w=n(2071),E=n(1667),M=n(1453),C=n(2062),S=n(1853);t.UploadViewModel=S.UploadViewModel;var k=n(7),x=n(4),A=n(129),L=n(16),T=n(1485),N=n(178),I=function(){function e(e,t,n,a,S,L,T,I,O,V){var P=this;this._engine=e,this._denaliEditorModel=t,this._notifications=n,this._userAccount=a,this._upgradeHook=S,this._subscription=L,this._context=T,this._networkState=I,this._goToMyDocuments=O,this._docId=V,this._log=x.Monitoring.Logging.getLogger("view_models"),this._cardPositions={ensureCardPosition:function(e,t,n){return void 0===t&&(t=!0),void 0===n&&(n=k.Option.empty()),P.scrollerViewModel.ensureCardPosition(e,t,n)}},this._markPositions={ensureAlertMarksInViewport:function(e,t,n){return P.marksViewModel.ensureAlertMarksInViewport(e,t,n)},getMarkAlertPosition:function(e){return k.Try.of(function(){return P.marksViewModel.getVisibleMarkAlert(e).flatMap(function(e){return e.mark}).get().viewportRect[0].top}).recover(function(e){throw P._log.warn("Cannot get markAlert position",e),e}).toOption()}},this._editorWrapperViewport=this._denaliEditorModel.viewport.view("wrapper"),this.sidebarViewModel=new y.SidebarViewModelImpl(this._engine.alertsList,this._userAccount.features.denali.withAllAlerts?o.LensStateProvider.Mode.WITH_ALL_ALERTS:o.LensStateProvider.Mode.WITHOUT_ALL_ALERTS),this.stateHolder=new M.StateHolder(this.sidebarViewModel.getStaticLensByLensId(this._context.appRouter.locationState.exists(function(e){return!0===e.openSidebar})?N.Lens.SpecialId.Success:N.Lens.SpecialId.Closed)),this.lensStateManager=this._userAccount.features.denali.withAllAlerts?new w.AllAlertsLensStateManagerImpl(this.stateHolder.state,this.sidebarViewModel):new E.DefaultLensStateManagerImpl(this.stateHolder.state,this.sidebarViewModel),this.alignmentViewModel=new r.AlignmentViewModelImpl(this._cardPositions,this._markPositions),this.pageViewModel=new c.PageViewModelImpl(this.stateHolder,this.sidebarViewModel,this.lensStateManager,this._engine.alertsList,this._denaliEditorModel,this._engine.documentModel,this._userAccount.features,new C.PageVMContextModelImpl(this._context),this._userAccount.settings),this.marksViewModel=new s.MarksViewModelImpl(this._denaliEditorModel,this.pageViewModel,this._engine.alertsList,this._context.environment.has(A.Environment.Flag.highHighlights),this._editorWrapperViewport),this.cardsViewModel=new i.CardsViewModelImpl(this._denaliEditorModel,this.stateHolder,this.lensStateManager),this.selectedCardViewModel=new p.SelectedCardViewModelImpl(this.stateHolder,this.cardsViewModel,this.marksViewModel),this.scrollerViewModel=new d.ScrollerViewModelImpl(this.stateHolder,this.cardsViewModel,this._context),this.sidebarIOViewModel=new m.SidebarIOViewModel(this.scrollerViewModel,this.marksViewModel,this.pageViewModel,this.alignmentViewModel),this.synonymsViewModel=new f.SynonymsViewModelImpl(this._engine.synonymsModel,this.stateHolder,this._networkState,this.marksViewModel,this._denaliEditorModel,this._notifications,this._engine.alertsList),this.plagiarismViewModel=new l.PlagiarismViewModelImpl(this._denaliEditorModel,this._engine.plagiarismModel,this.sidebarViewModel,this.pageViewModel),this.proofitViewModelOption=this._subscription.map(function(e){return new u.ProofitViewModelImpl(P._engine.documentModel.proofit,P._notifications,P._denaliEditorModel,P._userAccount,e,P._goToMyDocuments)}),this.successLensViewModel=new h.SuccessLensViewModelImpl(this.stateHolder,this._denaliEditorModel,this._engine.documentModel),this.onboardingViewModel=new g.OnboardingViewModelImpl(this._userAccount.settings,this.stateHolder,this._denaliEditorModel,this._engine.documentModel,this._engine.alertsList,this.sidebarViewModel,this._userAccount.features),this.upgradeViewModel=new _.UpgradeViewModelImpl(this._engine.alertsList,this._docId,this._context.environment,this._upgradeHook),this.searchViewModel=new b.SearchViewModelImpl(this._denaliEditorModel,this._engine.positionManager,this._editorWrapperViewport),this.reportViewModel=new v.ReportViewModelImpl(this._engine,this._userAccount.profile,this.plagiarismViewModel,this._notifications,this._userAccount.features)}return e.prototype.createLoaderViewModel=function(e,t,n){return new a.LoaderViewModel(this._context.documentLoader.state,this.pageViewModel,this._engine.documentModel,e,this._userAccount.features,this._denaliEditorModel,this._userAccount.settings,t,n)},e.prototype.createInlineCardViewModel=function(){return new T.InlineCardViewModelImpl(this.marksViewModel,L.Observable.merge(this._denaliEditorModel.contentUpdated),this._engine.alertsList,this.synonymsViewModel)},e.prototype.dispose=function(){this._engine.shutdown(),this.searchViewModel.dispose(),this.plagiarismViewModel.dispose(),this.successLensViewModel.dispose(),this.lensStateManager.dispose(),this.pageViewModel.dispose(),this.marksViewModel.dispose(),this.cardsViewModel.dispose(),this.selectedCardViewModel.dispose(),this.sidebarIOViewModel.dispose(),this.synonymsViewModel.dispose(),this.reportViewModel.dispose()},e}();t.DenaliViewModelsImpl=I},2071:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(4),o=n(2),a=n(178),s=n(1670),c=n(1667),l=n(514),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=i.Monitoring.Logging.getLogger("AllAlertsLensStateManagerImpl"),t.focusAlert=function(e,n,r){t._log.isEnabled(i.Logging.LogLevel.TRACE)&&t._log.trace("focusAlert("+e+")");var c=t._state.get(),u=n===l.SpecialAlertActionSource.toAllAlerts,d=o.ObjectUtils.update(c,{switchOrder:r||c.switchOrder,alertSource:u?s.AlertActionSource.sidebar:n});t._currentStateEmitter.set(t._stateProvider.getLensEventsByAlert(d,c.currentLens.id===a.Lens.SpecialId.Closed||c.currentLens.id===a.Lens.SpecialId.AllAlerts||u?a.Lens.SpecialId.AllAlerts:e.lensId,e))},t}return r.__extends(t,e),t.prototype.findNextAlert=function(e){var t=this;return e.currentLens.findNextAlert().map(c.DefaultLensStateManagerImpl.toLensAlert).orElseL(function(){return l.LensState.getActiveAlert(e).flatMap(function(e){return t._stateProvider.findNextAlertInText(e)}).map(function(e){return{alert:e,lensId:a.Lens.SpecialId.AllAlerts}})})},t}(c.DefaultLensStateManagerImpl);t.AllAlertsLensStateManagerImpl=u},2072:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(16),i=n(7),o=n(2),a=n(272),s=n(1853),c=n(514),l=function(){function e(e,t,n,c,l,u,d,p,m){var f=this;this._state=e,this._pageVM=t,this._documentModel=n,this._uploadVM=c,this._features=l,this._ded=u,this._settingsModel=d,this._setGoalsVisibilityState=p,this._tourLoadFinished=m,this._subs=[],this._loadingStateLock=r.Observable.combineLatest(this._tourLoadFinished,this._uploadVM.state.startWith(s.UploadViewModel.State.idle),function(e,t){return!e||t!==s.UploadViewModel.State.idle}).distinctUntilChanged(),this._goalsWindowWasShownOnce=!1,(h=this._subs).push.apply(h,[this._listenUploadingState()].concat(this._listenProcessingState(),this._listenFullRecheckingState())),o.registerDebugHelper("loader",function(e,t,n){f._state.set({text:i.Option.of(e).filter(function(e){return e in a.DocumentLoader.TextType}),lens:i.Option.of(t).filter(function(e){return e in a.DocumentLoader.Type}),navigation:i.Option.of(n).filter(function(e){return e in a.DocumentLoader.Type})})});var h}return e.prototype._listenUploadingState=function(){var e=this;return this._uploadVM.state.skip(1).subscribe(function(t){e._state.set(t===s.UploadViewModel.State.idle?a.DocumentLoader.State.idle:a.DocumentLoader.State.loading)})},e.prototype._listenProcessingState=function(){var e=this;return[this._pageVM.openedAfterPaste.withLatestFrom(this._pageVM.stateHolder.state).filter(function(e){var t=(e[0],e[1]);return c.LensState.isSidebarOpened(t)}).subscribe(function(){e._state.set(a.DocumentLoader.State.lensAndNavigationProcessing)}),this._ded.dontFreezeWhen(this._state.view(function(e){return e.text.nonEmpty()}),"loader")]},e.prototype._showSetGoalsLoader=function(){!this._goalsWindowWasShownOnce&&this._settingsModel.enableSetGoalsLoader.get()&&this._documentModel.isInitialRevision&&this._features.denali.tour.isEmpty()&&(this._setGoalsVisibilityState.set(!0),this._goalsWindowWasShownOnce=!0)},e.prototype._listenFullRecheckingState=function(){var e=this,t=function(e){return e.filter(function(e){return e===a.DocumentLoader.Type.checkingIn||e===a.DocumentLoader.Type.checking}).map(function(){return a.DocumentLoader.Type.checkingOut})},n=function(t){return e._loadingStateLock.switchMap(o.RxUtils.orEmptyRight(t))};return[n(this._documentModel.checkingState.withLatestFrom(this._pageVM.stateHolder.state)).subscribe(function(t){var n=t[0],r=t[1];"full"===n&&c.LensState.isSidebarOpened(r)?(e._showSetGoalsLoader(),e._state.set({text:i.None,lens:i.Some(a.DocumentLoader.Type.checking),navigation:i.Some(a.DocumentLoader.Type.checking)})):e._state.set(a.DocumentLoader.State.idle)}),n(this._pageVM.stateHolder.state.withLatestFrom(this._documentModel.checkingState)).subscribe(function(n){var r=n[0];"full"===n[1]?c.LensState.isSidebarOpened(r)?(e._showSetGoalsLoader(),e._state.set({text:i.None,lens:i.Some(a.DocumentLoader.Type.checkingIn),navigation:i.Some(a.DocumentLoader.Type.checkingIn)})):e._state.modify(function(e){return{text:i.None,lens:t(e.lens),navigation:t(e.navigation)}}):e._state.set(a.DocumentLoader.State.idle)})]},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e}();t.LoaderViewModel=l},2073:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7),i=n(4),o=n(268),a=n(2),s=n(514),c=function(){function e(e,t,n){this._stateHolder=e,this._cardsVM=t,this._marksVM=n,this._subs=[],this._log=i.Monitoring.Logging.getLogger("SelectedCardViewModelImpl"),this._subs.push(this._listenCardFocusState(),this._listenMarkFocusState())}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._listenCardFocusState=function(){var e=this;return this._stateHolder.state.view(function(e){return s.LensState.getActiveCard(e).map(function(t){return{card:t,lensId:e.currentLens.id}})}).distinctUntilChanged(function(e,t){return a.isOptionsEq(e,t,function(e,t){return e.card.cardId===t.card.cardId})}).scan(function(e,t){return{newState:t,oldState:e.newState}},{oldState:r.Option.empty(),newState:r.Option.empty()}).filter(function(e){var t=e.oldState,n=e.newState;return!(t.isEmpty()&&n.isEmpty())}).subscribe(function(t){var n=t.oldState,i=t.newState;e._log.trace("Change focused card: '"+n.map(function(e){return e.card.cardId}).getOrElse("N/A")+"' => "+i.map(function(e){return e.card.cardId}).getOrElse("N/A")+"'");var a=r.Option.map2(i,n,function(e,t){return o.Alert.comparator(t.card.activeAlert,e.card.activeAlert)>0}).getOrElse(!0);i.forEach(function(t){return e._cardsVM.startTransitionTo(t.card,{type:"focused",clockwise:a})}),n.forEach(function(t){return e._cardsVM.startTransitionTo(t.card,{type:e._cardsVM.cardScheduledToDispose(t.card)?"removed":i.exists(function(e){return e.lensId===t.lensId})?"rendered":"fadeOut",clockwise:a})})})},e.prototype._listenMarkFocusState=function(){var e=this;return this._stateHolder.state.view(s.LensState.mapper(function(e){var t=e.currentLens,n=e.alertSource;return t.card.map(function(e){return{alert:e.activeAlert,alertSource:n}})})).distinctUntilChanged(function(e,t){return a.isOptionsEq(e,t,function(e,t){return e.alert.id===t.alert.id})}).scan(function(e,t){return{newFocusedAlert:t.map(function(e){return e.alert}),oldFocusedAlert:e.newFocusedAlert,source:t.map(function(e){return e.alertSource})}},{newFocusedAlert:r.Option.empty(),oldFocusedAlert:r.Option.empty(),source:r.Option.empty()}).filter(function(e){var t=e.oldFocusedAlert,n=e.newFocusedAlert;return!(t.isEmpty()&&n.isEmpty())}).map(function(t){var n=t.oldFocusedAlert,r=t.newFocusedAlert,i=t.source;return{oldFocusedMarkAlert:n.flatMap(function(t){return e._marksVM.getMarkAlert(t)}),newFocusedMarkAlert:r.flatMap(function(t){return e._marksVM.getMarkAlert(t)}),source:i}}).withLatestFrom(this._marksVM.highlightedAlert).subscribe(function(t){var n=t[0],i=n.oldFocusedMarkAlert,o=n.newFocusedMarkAlert,a=n.source,s=t[1];e._log.trace("Change focused mark: '"+i.map(function(e){return e.id}).getOrElse("N/A")+"' => "+o.map(function(e){return e.id}).getOrElse("N/A")+"'"),o.forEach(function(t){return e._marksVM.focusMark(t,a)}),i.map(function(t){return e._marksVM.unfocusMark(r.Some(t),s)})})},e}();t.SelectedCardViewModelImpl=c},2074:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(16),o=n(7),a=n(1421),s=n(514),c=n(2),l=n(268),u=function(){function e(e,t,n,a){var u=this;this._scrollVM=e,this._marksVM=t,this._pageVM=n,this._alignmentVM=a,this._subs=[],this._alignment=i.Observable.combineLatest(this._scrollVM.activeCardRendered,this._pageVM.stateHolder.state,function(e,t){return e.flatMap(function(e){return s.LensState.getActiveAlert(t).flatMap(function(n){return e.activeAlert.id===n.id&&t.alertSource!==l.AlertActionSource.api?o.Some({cardView:e,source:t.alertSource}):o.None})})}).switchMap(c.RxUtils.toOptionValueOnly).distinctUntilChanged(function(e,t){return e.cardView.activeAlert.id===t.cardView.activeAlert.id&&e.cardView.position.dimensionEquals(t.cardView.position)}).withLatestFrom(this._pageVM.stateHolder.lensChanged,function(e,t){return r.__assign({},e,{animate:!t})}).do(function(e){var t=e.cardView,n=e.animate,r=e.source;return u._alignCardWithMark(t,n,r)}),this._alertSwitching=this._marksVM.alertClicked.skip(1).switchMap(c.RxUtils.toOptionValueOnly).do(function(e){var t=e.alert;return u._pageVM.switchToAlert(t,l.AlertActionSource.text,"textOrder")}),this._sideEffects=i.Observable.merge(this._alignment,this._alertSwitching).mapTo(c.RxUtils.voidValue),this._subs.push(this._pageVM.stateHolder.state.view(s.LensState.hasCards).switchMap(c.RxUtils.orEmpty(this._sideEffects)).subscribe())}return e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._alignCardWithMark=function(e,t,n){if(n===l.AlertActionSource.text)this._alignmentVM.alignCardToMark(e,t?a.AlignmentAnimation.ANIMATE_ALL:a.AlignmentAnimation.NO_ANIMATION);else if(n===s.ForceAlertActionSource.forceText)this._alignmentVM.alignCardToMark(e,a.AlignmentAnimation.NO_ANIMATION);else{var r=n===l.AlertActionSource.sidebar;this._alignmentVM.alignMarkToCard(e,r?t?a.AlignmentAnimation.ANIMATE_ALL:a.AlignmentAnimation.ANIMATE_MARK:a.AlignmentAnimation.NO_ANIMATION)}},e}();t.SidebarIOViewModel=u},2075:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(16),o=n(7),a=n(6),s=n(4),c=n(2),l=n(18),u=n(1845),d=n(516),p=n(64),m=n(1505),f=n(1424),h=function(){function e(e,t,n,r,l,d,m){var f=this;this._synonymsModel=e,this._stateHolder=t,this._networkState=n,this._marksVM=r,this.ded=l,this._notifications=d,this._alertsList=m,this._synonymOnboardingId="9f2d9601b324bb6c1e36737e59ed3d96",this._log=s.Monitoring.Logging.getLogger("synonymsViewModel"),this.viewState=a.Atom.create(o.None),this.popupShown=this.viewState.view(function(e){return e.map(function(e){return e.popupVisible}).getOrElse(!1)}),this._defaultClassName="defaultSynonymClass",this._subs=[],this.disposeFirstSynonym=function(e){f.ded.changeMarks([p.Mark.getRemoveAction({id:e.id,range:function(){return e.range}},p.Mark.RemoveType.byPartialMatch)]),f._deregisterRange(e.id)},this.query=function(e){return f.close(),f.ded.flushChanges(),f._synonymsModel.query(e)},this.shouldHide=function(e){return!c.DOM.hasParentWithClassName(e,f._defaultClassName)},this._wordOrNoneAfterTimeout=function(e){return f.viewState.switchMap(function(t){return t.forAll(function(e){return e.synonymsState.kind!==u.SynonymsStateKind.Querying})?i.Observable.timer(3e3).mapTo(o.None):i.Observable.of(e)}).startWith(e)},this._handleState()}return e.prototype.getFirstSynonym=function(){var e=this;return i.Observable.create(function(n){var r=o.None,a=i.Observable.fromPromise(Promise.all(t.filterUnmarkedWords(t.getFirstWords(e.ded.getText()),e._alertsList.getAllAlertsAsSortedArray()).map(e.query))).map(function(t){return o.Option.of(t.filter(u.SynonymsModel.isReady)[0]).flatMap(function(t){var n=new d.Range(t.query.start,t.query.start+t.query.word.length),r=e._synonymsModel.positionManager.registerRange(t.synonyms.id+e._synonymOnboardingId,n);return o.Option.of(e.ded.changeMarks([p.Mark.getCreateAction({id:t.synonyms.id+e._synonymOnboardingId,range:function(){return r},order:0,classes:[]})])[0])})}).first().subscribe(function(e){r=e,n.next(e)});return function(){r.forEach(e.disposeFirstSynonym),a.unsubscribe()}})},e.prototype.apply=function(e){var t=this,n=this.viewState.get();this._removeSelection(),n.forEach(function(n){var r=n.synonymsState,i=n.activeWord;if(!u.SynonymsModel.isReady(r))throw new c.InvariantError("Synonym should exist.");var o=t._synonymsModel.applySynonym({id:r.synonyms.id,dispose:function(){return t._deregisterRange(r.synonyms.id)},range:i},e);m.createUndoNotification(t.ded,t._notifications,o)})},e.prototype.showPopup=function(){l.invariant(this._canShowPopup(this._synonymsModel.state.get())),this.viewState.modify(function(e){return e.map(function(e){return r.__assign({},e,{popupVisible:!0})})})},e.prototype.hidePopup=function(){this.viewState.modify(function(e){return e.map(function(e){return r.__assign({},e,{popupVisible:!1})})}),this.close()},e.prototype.close=function(){var e=this._synonymsModel.state.get();u.SynonymsModel.isReady(e)&&this._deregisterRange(e.synonyms.id),this._synonymsModel.abortQuery(),this._removeSelection()},e.prototype.dispose=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},e.prototype._canShowPopup=function(e){return u.SynonymsModel.isReady(e)||u.SynonymsModel.isEmpty(e)},e.prototype._removeSelection=function(){var e=this;this.viewState.modify(function(t){return t.map(function(t){try{e.ded.changeMarks([p.Mark.getRemoveAction({id:t.activeMark.id,range:function(){return t.activeMark.range}},p.Mark.RemoveType.byPartialMatch)])}catch(t){e._log.error("Cannot remove synonym",t)}}),o.None})},e.prototype._createMark=function(t){return this.ded.changeMarks([p.Mark.getCreateAction({id:e.markId,range:function(e){return t},classes:[this._defaultClassName,f.markHidden],order:0})])[0]},e.prototype._registerRange=function(e,t){var n=this._rangeId(t);!this._synonymsModel.positionManager.findById(n).isEmpty()||this._synonymsModel.positionManager.registerRange(n,e)},e.prototype._deregisterRange=function(e){var t=this,n=this._rangeId(e);this._synonymsModel.positionManager.findById(n).forEach(function(e){return t._synonymsModel.positionManager.deregisterRange(n)})},e.prototype._rangeId=function(e){return e+"s"},e.prototype._handleState=function(){var e=this;this._subs.push(this.ded.clickedWord.filter(function(e){return e.forAll(function(e){return e.type===p.ClickType.dblclick})}).switchMap(c.RxUtils.Scheduler.rafScheduler).withLatestFrom(this._marksVM.alertClicked,function(e,t){return t.isEmpty()?e:o.None}).switchMap(this._wordOrNoneAfterTimeout).distinctUntilChanged(function(e,t){return e.equals(t)}).withLatestFrom(this.viewState.view(function(e){return e.exists(function(e){return e.popupVisible})})).filter(function(e){var t=e[0],n=e[1];return t.nonEmpty()||!n}).map(function(e){return e[0]}).subscribe(function(t){return t.fold(function(){return e.close()},function(t){if("offline"!==e._networkState.getOnlineStatus()){var n=t.range;e.viewState.get().exists(function(e){return e.activeWord.equals(n)&&u.SynonymsModel.isReady(e.synonymsState)})?e.viewState.modify(function(e){return e.map(function(e){return r.__assign({},e,{popupVisible:!0})})}):e.query({start:n.start,word:n.value}).then(function(t){e.viewState.set(o.Some({synonymsState:t,activeWord:n,activeMark:e._createMark(n),popupVisible:e._canShowPopup(t),queryStarted:Date.now()}))}).catch(function(e){return s.Monitoring.Logging.getLogger("SynonymsViewModel").error("Error querying synonyms",e)})}})}),this._synonymsModel.state.subscribe(function(t){e.viewState.modify(function(n){return n.map(function(n){return u.SynonymsModel.isReady(t)&&e._registerRange(n.activeWord,t.synonyms.id),r.__assign({},n,{synonymsState:t})})})}),i.Observable.merge(this.ded.contentUpdated,this._stateHolder.state.view(function(e){return e.currentLens.id})).subscribe(function(){return e.hidePopup()}),this.viewState.subscribe(function(t){return t.forEach(function(t){return t.popupVisible&&e.ded.changeMarks([p.Mark.getUpdateAction({id:t.activeMark.id,range:function(){return t.activeMark.range},order:0},[e._defaultClassName,f.synonym,f.markSelected])])})}))},e.markId="64656E616E69",e}();t.SynonymsViewModelImpl=h,t.getFirstWords=function(e,t){void 0===t&&(t=10);for(var n,r=/( |^)[a-z]{3,}\b/gim,i=[],o=0;(n=r.exec(e))&&o<t;o++){var a=n[0].replace(" ",""),s=r.lastIndex-a.length,c=s+a.length;i.push({start:s,word:a,end:c})}return i},t.filterUnmarkedWords=function(e,t){return 0===t.length||0===e.length?e:function(){var n=t.map(function(e){return e.highlightRange}),r=e[e.length-1].end,i=n.findIndex(function(e){return e.start>r}),o=i>=0?n.slice(0,i):n;return e.filter(function(e){return o.every(function(t){return!(e.start<=t.end&&t.start<=e.end)})})}()}},2076:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(7),s=n(6),c=n(2),l=n(18),u=n(1401),d=n(1378),p=n(513),m=n(1948),f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._generalCounters=s.Atom.create(a.None),t._currentCounter=s.Atom.create(t.props.documentModel.extraSettings.counterType),t._setCounter=function(e){return t._currentCounter.set(e)},t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._currentCounter.subscribe(function(t){e.props.documentModel.extraSettings.counterType=t}),this.props.documentModel.textInfo.subscribe(c.OptionUtils.map(function(t){return e._generalCounters.set(a.Some({wordsCount:t.wordsCount.toLocaleString(),charsCount:t.charsCount.toLocaleString(),readingTime:c.DateUtils.convertTimeToShortString(t.readingTime),speakingTime:c.DateUtils.convertTimeToShortString(t.speakingTime),readabilityScore:t.readabilityScore}))}))},t.prototype.render=function(){var e=this,n=this.props,a=n.stateHolder,l=n.onMount;return i.createElement(s.F.div,r.__assign({},s.classes(a.sidebarOpen.view(c.choose(m.footerSqueezed,m.footerWrapper))),{mount:l}),i.createElement("div",{className:m.footerContainer},i.createElement(u.Dropdown,{name:"footer-stats",customPosition:{top:"-10rem",left:"-2.6rem"},showDelay:300,theme:m,label:i.createElement(s.F.div,null,o.Observable.combineLatest(this._generalCounters,this._currentCounter,function(e,n){return e.map(function(e){return i.createElement("div",{className:m.footerLabel},e[n]," ",t._labelMap[n])}).orNull()}))},this._generalCounters.view(function(n){return n.map(function(n){return Object.keys(t._labelMap).map(function(r){return i.createElement(d.Button.Flat,{key:r,name:r,className:m.listItem,onClick:function(){return e._setCounter(r)}},e._currentCounter.view(function(e){return e===r?i.createElement(p.Icon.Helpfull,{key:"helpfull-icon"}):null}),n[r]," ",t._labelMap[r])})}).orNull()}))))},t._labelMap=(h={},h[l.DOX.CounterType.wordsCount]="words",h[l.DOX.CounterType.charsCount]="characters",h[l.DOX.CounterType.readingTime]="reading time",h[l.DOX.CounterType.speakingTime]="speaking time",h[l.DOX.CounterType.readabilityScore]="readability score",h),t}(i.Component);t.ToolbarFooter=f;var h},2077:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(4),s=n(105),c=n(1397),l=n(1381),u=n(1378),d=n(1950),p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._currentText=o.Atom.create({brief:"",detailed:""}),t}return r.__extends(t,e),t.prototype._sendFeedback=function(e){var t={briefDescription:e.brief,detailedFeedback:e.detailed,email:this.props.email};a.Monitoring.Logging.getLogger("userFeedback").info("User feedback",t),this.props.visible.set(!1),this.context.notifications.showMessage("Your feedback has been sent. Thank you!")},t.prototype.render=function(){var e=this,t=this.props.visible;return i.createElement(c.Overlay,{visible:t,preventClose:!0,animate:!0},i.createElement(c.Modal,{className:d.wrapper},i.createElement(c.Modal.Header,{className:d.feedbackPopupHeader},i.createElement(l.H1,{className:d.header},"Send Product Feedback"),i.createElement(l.P1,{className:d.description},"Tell us what you think. We promise to act on your feedback to make Grammarly even more awesome."),i.createElement(o.F.input,r.__assign({mount:function(e){e&&requestAnimationFrame(function(){return e.focus()})},placeholder:"Brief description"},o.classes(d.inputField,d.briefDescriptionInput),o.bind({value:this._currentText.lens("brief")}))),i.createElement(o.F.textarea,r.__assign({placeholder:"Type your feedback"},o.classes(d.inputField,d.feedbackInput),o.bind({value:this._currentText.lens("detailed")}))),i.createElement(l.P2,null,"If you have a support or billing-related request, please go to"," ",i.createElement("a",{href:this.context.appConfig.support.mainPage,target:"_blank",className:d.helpdesk},"Grammarly Helpdesk"))),i.createElement(c.Modal.Footer,{className:d.feedbackPopupFooter},i.createElement(u.Button.Grey,{name:"cancel",onClick:function(){return t.set(!1)}},"cancel"),i.createElement(u.Button.Blue,{name:"send",disabled:this._currentText.view(function(e){return""===e.brief||""===e.detailed}),onClick:function(){return e._sendFeedback(e._currentText.get())}},"send"))))},t}(s.BaseComponent);t.FeedbackPopup=p},2078:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(49),a=n(6),s=n(105),c=n(1378),l=n(513),u=n(1401),d=n(2077),p=n(2),m=n(107),f=n(1951),h='We will record all your actions with diagnostic purpose, information from the document can be read by a developer. Do you want to continue? You can stop diagnostic recording session at any time by pressing the button "Disable diagnostic mode".',g=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._showFeedbackPopup=a.Atom.create(!1),r._diagnosticModeEnabled=a.Atom.create(p.Fullstory.isEnabled()),r.toggleDiagnostic=function(){r._diagnosticModeEnabled.get()?r.context.appRouter.forceReloadCurrentLocation():window.confirm(h)&&(p.Fullstory.enable(),r._diagnosticModeEnabled.modify(function(e){return!e}))},r._wootricViewModel=n.wootricViewModel,r}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.userAccount,n=this.context.appConfig,o=t.profile.get();return i.createElement(a.F.div,{className:f.footer,style:this._wootricViewModel.map(function(e){return e.height.view(function(e){return e>0?{bottom:"calc(1rem + "+e+"px)"}:{}})}).getOrElse(void 0)},i.createElement(u.Dropdown,{showDelay:0,name:"help",label:i.createElement(c.Button.Round,{name:"help-btn",className:this._diagnosticModeEnabled.view(function(e){return e?f.diagnosticMode:""})},i.createElement(l.Icon.QuestionMark,{className:this._diagnosticModeEnabled.view(function(e){return e?f.diagnosticModeIcon:""})}))},i.createElement(c.Button.Flat,{name:"support",href:n.support.mainPage,target:"_blank"},"Support"),i.createElement(c.Button.Flat,{name:"feedback",onClick:function(){e._showFeedbackPopup.set(!0)}},"Send product feedback"),t.features.hasSwitchToDenaliUI&&i.createElement(c.Button.Flat,{name:"switch-to-classic",onClick:function(){return r.__awaiter(e,void 0,void 0,function(){var e;return r.__generator(this,function(n){switch(n.label){case 0:return e=this.props.docId,this.context.appRouter.navigate(s.Router.routes.editor.href({docId:e}),{showSwitchUINotification:!0}),[4,t.settings.setDocumentMode(e,m.DocumentMode.EditorTs)];case 1:return n.sent(),this.context.gnarSpec.backToClassicButtonClick(this.context.pageId),[2]}})})}},"Back to classic Editor"),i.createElement(u.Dropdown.Delimiter,null),i.createElement(c.Button.Flat,{name:"policy",href:n.privacyPolicy,target:"_blank"},"Privacy Policy"),i.createElement(c.Button.Flat,{name:"terms",href:n.termsOfServise,target:"_blank"},"Terms of Service")),i.createElement(d.FeedbackPopup,{key:"fb",visible:this._showFeedbackPopup,email:o.email}))},t.contextTypes=r.__assign({},s.BaseComponent.contextTypes,{wootricViewModel:o.object}),t}(s.BaseComponent);t.FixedFooter=g},2083:function(e,t,n){"use strict";function r(e){return function(t,n){return e.view(function(e){return e?t:n})}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(8),a=n(6),s=n(513),c=n(1378),l=n(1422),u=n(1439),d=n(1952),p=n(105),m=n(1842),f=n(2),h=n(514),g=n(271),_=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.stateIn=function(e){return t.props.pageViewModel.stateHolder.state.view(function(t){return t.currentLens.type===e})},t.stateMatch=r(t.props.pageViewModel.stateHolder.sidebarOpen),t.trackingPlacement=function(){return t.props.pageViewModel.stateHolder.sidebarOpen.get()?"wiritingAssistant":"writingMode"},t.toProofit=function(e){t.context.gnarSpec.professionalProofreadingButtonClick(t.context.pageId,t.trackingPlacement()),e?t.props.pageViewModel.switchTo(h.LensViewType.proofit):(t._freemiumPlagiarism.set(!1),t._freemiumProofit.set(!0))},t.toPlagiarism=function(e){t.context.gnarSpec.plagiarismButtonClick(t.context.pageId,t.trackingPlacement()),e?t.props.pageViewModel.switchTo(h.LensViewType.plagiarism):(t._freemiumProofit.set(!1),t._freemiumPlagiarism.set(!0))},t.proofitActive=t.stateIn(h.LensViewType.proofit),t.plagiarismActive=t.stateIn(h.LensViewType.plagiarism),t._freemiumPlagiarism=a.Atom.create(!1),t._freemiumProofit=a.Atom.create(!1),t._renderProofit=function(e){return o.createElement(c.Button,{key:"proofit",name:"proofread",className:t.stateMatch(d.blockFull,d.blockTeaserBig),title:t.stateMatch("","Human Proofreading"),active:a.Atom.combine(t.proofitActive,t._freemiumProofit,f.or),onClick:function(){return t.toProofit(e)}},o.createElement(a.F.div,{className:t.stateMatch("",d.hidden)},"Human Proofreader"),o.createElement(s.Icon.Proofread,{className:d.actionIcon}))},t}return i.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.features,r=t.plagiarismViewModel;return o.createElement(a.F.div,{className:this.stateMatch(d.documentActionsFull,d.documentActionsTeaser)},n.plagiarism.view(function(t){return t.enabled&&o.createElement(c.Button,{onClick:function(){return e.toPlagiarism(!n.isFree)},key:"plagiarism",name:"plagiarism",className:e.stateMatch(d.blockFull,d.blockTeaser),active:a.Atom.combine(e.plagiarismActive,e._freemiumPlagiarism,f.or),title:e.stateMatch("","Plagiarism Check")},o.createElement(a.F.div,{className:e.stateMatch("",d.hidden)},"Plagiarism"),a.Atom.combine(e.plagiarismActive,r.plagiarismViewState,function(e,t){if(!e)return o.createElement(s.Icon.Plagiarism,{className:d.actionIcon,key:"plagiarism-icon"});switch(t.type){case l.PlagiarismViewType.loading:return o.createElement(s.Icon.Plagiarism,{className:d.actionIcon,key:"plagiarism-icon"});case l.PlagiarismViewType.originality100:case l.PlagiarismViewType.cards:return o.createElement(u.Counters.PlagiarismMeter,{key:"plagiarism-counter",className:d.actionIcon,isChecking:r.checkingState.view(function(e){return"checking"===e.type}),count:r.checkingState.view("percent").switch()});default:return f.assertNever(t)}}))}),n.proofit.view(function(t){var n=t===g.UpgradableFeatureState.enabled;return e.props.isProofitInitialized&&(n||t===g.UpgradableFeatureState.upgradeIsNeeded)&&e._renderProofit(n)}),n.isFree&&[o.createElement(m.Freemium.Plagiarism,{key:"free-plagiarism",upgradeViewModel:this.props.upgradeViewModel,visible:this._freemiumPlagiarism}),o.createElement(m.Freemium.ProfessionalProofreaders,{key:"free-proofit",upgradeViewModel:this.props.upgradeViewModel,visible:this._freemiumProofit})])},t}(p.BaseComponent);t.DocumentActions=_},2084:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(1855),s=n(1425),c=n(1406),l=n(105),u=n(1378),d=n(513),p=n(1672),m=n(272),f=n(1930),h=n(514),g=n(517),_=n(1953),v=n(1924),b=n(1954),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(s.AnimationWrapper),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._stateToClassSidebarMapper=function(e,t){return!e||h.LensState.isForceSidebar(t)?{prev:{start:{},end:{}},next:{start:{},end:{}}}:h.LensState.isSidebarOpened(e)?{prev:{start:{base:v.navigationLeaveRightStart},end:{base:v.navigationLeaveRight}},next:{start:{},end:{}}}:{prev:{start:{},end:{}},next:{start:{base:v.navigationEnterLeftStart},end:{base:v.navigationEnterLeft}}}},t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.pageViewModel,a=t.documentModel;return i.createElement("div",{className:_.navigationWrapper},i.createElement(y,{key:"lensWrapper",state:n.stateHolder.state.distinctUntilChanged(function(e,t){return h.LensState.isSidebarOpened(e)===h.LensState.isSidebarOpened(t)}),stateToClassMapper:this._stateToClassSidebarMapper,className:_.fullHeight},function(t){var s=t.state,c=t.view;return h.LensState.isSidebarOpened(s)?i.createElement(o.F.div,r.__assign({key:"sidebar"},o.classes(c.map(function(e){return e.base}),n.stateHolder.sidebarOpen.view(function(e){return e?_.wrapper:_.narrowWrapper}))),a.checkingState.view(function(t){return"full"===t?null:e._renderNavigation()})):null}))},t.prototype._renderNavigation=function(){var e=this.props,t=e.pageViewModel,n=e.sidebarViewModel,r=e.documentModel,o=e.features,s=e.setGoalsVisibilityState,c=e.insightsVisibilityState;return[i.createElement(E,{key:"navigation-header",pageViewModel:t,sidebarViewModel:n,documentModel:r,setGoalsState:s,insightsState:c}),i.createElement(a.LensesNavigation,{key:"navigation-lenses",pageViewModel:t,sidebarViewModel:n,features:o})]},t}(l.BaseComponent);t.Navigation=w;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype._getSetGoalsIcon=function(e){return 0===e?i.createElement(d.Icon.GoalsEmpty,r.__assign({key:"goals-empty"},o.classes(_.actionIcon,_.goalsCornerState))):100===e?i.createElement(d.Icon.GoalsComplete,r.__assign({key:"goals-complete"},o.classes(_.actionIcon,_.goalsCornerState))):i.createElement(d.Icon.GoalsPartial,{key:"goals-partial",className:_.actionIcon,percentage:e})},t.prototype.render=function(){var e=this.props,t=e.setGoalsState,n=e.insightsState,a=this.props.documentModel.contextCompleteness,s=this.context,l=s.gnarSpec,p=s.pageId;return i.createElement(o.F.header,r.__assign({key:"header"},o.classes(_.headerWrapper)),i.createElement(c.Onboarding,{key:"actions-onboarding-insights",alignment:"bottomFlexible",eventType:"onclick",stepId:g.OnboardingStep.Id.Step8,title:"Document statistics",message:"See how your writing stacks up against other Grammarly users.",findFirstButton:{dotPosition:"center",buttonOrder:0,notificationPosition:"underButton"},themes:{containerWrapperClassName:_.insightsOnboardingContainer,notificationClassName:_.goalsOnboardingNotification,triangleClassName:_.goalsTriangleClassName}},i.createElement(u.Button.SidebarFlat,{name:"insights",active:n,disabled:n,onClick:function(){n.set(!0),l.documentStatisticsButtonClick(p)}},i.createElement("div",null,"Insights"),i.createElement(d.Icon.Insights,{className:_.actionIcon}))),i.createElement(c.Onboarding,{key:"actions-onboarding-set-goals",alignment:"bottomFlexible",eventType:"onclick",stepId:g.OnboardingStep.Id.Step1,title:"Set Goals",message:"Tell Grammarly about your writing goals to receive more precise suggestions.",findFirstButton:{dotPosition:"center",buttonOrder:0,notificationPosition:"underButton"},themes:{containerWrapperClassName:_.goalsOnboardingContainer,notificationClassName:_.goalsOnboardingNotification,triangleClassName:_.goalsTriangleClassName}},i.createElement(u.Button.SidebarFlat,{name:"set-goals",active:t,disabled:t,onClick:function(){t.set(!0),l.setGoalsButtonClick(p)}},a.view(function(e){return 0===e?"Set goals":"Update goals"}),a.view(this._getSetGoalsIcon))),i.createElement("div",{className:_.delimiter,key:"delimiter"}))},t}(l.BaseComponent);t.NavigationHeader=E,function(e){var t=b;e.Loader=function(e){var n=e.baseLoaderClass,a=e.state;return i.createElement(f.SidebarLoader,{state:a.view("navigation"),theme:t},i.createElement(o.F.div,r.__assign({},o.classes(_.navigationLoaderWrapper,n,a.view("text").view(function(e){return e.isEmpty()&&_.navigationLoaderWithToolbar}))),i.createElement(o.F.div,{className:a.view("lens").view(function(e){return e.fold(function(){return _.fullHeightLoader},function(e){return e===m.DocumentLoader.Type.checkingOut?_.fullHeightLoaderNavigation:_.fullHeightLoader})})},i.createElement(o.F.div,{className:a.view("lens").view(function(e){return e.fold(function(){return _.loaderWrapperNoShadow},function(e){return e===m.DocumentLoader.Type.checkingOut?_.loaderWrapperNoShadow:_.loaderWrapper})})},i.createElement(p.Rechecking,{key:"rechecking"})))))}}(w=t.Navigation||(t.Navigation={})),t.Navigation=w},2085:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(105),o=n(1378),a=n(1381),s=n(2046),c=n(1955);t.DocumentNotFound=i.withContext(function(e,t){var n=t.appRouter;return r.createElement("div",{"data-name":"doc-not-found",className:c.wrapper},r.createElement(s.GrammarlyLogo,{className:c.logo}),r.createElement(l,{className:c.img}),r.createElement(a.H1,{className:c.title},"Can’t find this document"),r.createElement(a.Paper,{className:c.info},"It looks like this document was removed or URL is incorrect."),r.createElement(o.Button.Blue,{name:"to-doc-list",className:c.toHome,onClick:function(){return n.navigate(i.Router.routes.documents.href({}))}},"Go to your documents"))});var l=function(e){var t=e.className;return r.createElement("svg",{width:"194",height:"128",viewBox:"0 0 194 128",className:t},r.createElement("g",{fill:"none",fillRule:"evenodd"},r.createElement("path",{d:"M44 40h64c2.2 0 4 1.8 4 4v80c0 2.2-1.8 4-4 4H45c-2.76 0-5-2.24-5-5V44c0-2.2 1.8-4 4-4z",fill:"#E4E6F2",opacity:".8"}),r.createElement("rect",{stroke:"#8189A9",strokeWidth:"1.5",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round",x:"47",y:"33",width:"72",height:"88",rx:"1"}),r.createElement("path",{d:"M60.28 86h44.67M60.28 96h44.67M60.28 107H73",stroke:"#E4E6F2",strokeWidth:"2",fill:"#FFF",strokeLinecap:"round",strokeLinejoin:"round"}),r.createElement("g",{transform:"translate(64 47)"},r.createElement("circle",{fill:"#8189A9",cx:"3",cy:"3",r:"3"}),r.createElement("circle",{fill:"#8189A9",cx:"33",cy:"3",r:"3"}),r.createElement("path",{d:"M29.46 21.54C26.66 18.74 22.78 17 18.5 17c-4.28 0-8.16 1.73-10.96 4.54",stroke:"#8189A9",strokeWidth:"2",strokeLinecap:"round"})),r.createElement("path",{d:"M188.13 106.03c.3.3.3.8-.1 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8zm3.9 4l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0zm-5 0c.3-.3.8-.3 1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8zm6.8-5.7c.3.3.3.8-.1 1.1l-1.8 1.8c-.1.1-.3.2-.5.2s-.4-.1-.5-.2c-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0zM86.03 3.13l-1.8-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.7 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm5.7 5.6l-1.9-1.8c-.3-.3-.3-.8 0-1.1.3-.3.8-.3 1.1 0l1.8 1.8c.3.3.3.8 0 1.1-.1.1-.3.2-.5.2s-.4-.1-.5-.2zm-6.9.2c-.2 0-.4 0-.5-.1-.3-.3-.3-.8 0-1.1l1.7-1.9c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2zm5.7-5.6c-.2 0-.4-.1-.6-.2-.3-.3-.3-.8 0-1.1l1.8-1.8c.3-.3.8-.3 1.1 0 .3.3.3.8 0 1.1l-1.8 1.8c-.1.1-.3.2-.5.2z",fill:"#F6C2CB",fillRule:"nonzero"}),r.createElement("path",{d:"M4.6 60.2c2.2 0 3.9-1.8 3.9-3.9 0-2.2-1.8-3.9-3.9-3.9-2.2 0-3.9 1.8-3.9 3.9 0 2.1 1.7 3.9 3.9 3.9zm0-6.3C5.9 53.9 7 55 7 56.3c0 1.3-1.1 2.4-2.4 2.4-1.3 0-2.4-1.1-2.4-2.4 0-1.4 1.1-2.4 2.4-2.4z",fill:"#A1E7D7",fillRule:"nonzero"})))}},2088:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(49),a=n(16),s=n(6),c=n(105),l=n(2101),u=n(2103),d=n(2102),p=n(1675),m=n(1935),f=n(178),h=n(1425),g=n(2104),_=n(1856),v=n(1933),b=n(514),y=n(2084),w=n(1854),E=n(1867),M=n(2),C=n(2083),S=n(272),k=n(1930),x=n(2107),A=n(1924),L=n(1962),T=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t}(h.AnimationWrapper),N=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._subs=[],r._statePriority=[b.LensViewType.closed,b.LensViewType.lensview,b.LensViewType.advanced,b.LensViewType.plagiarism,b.LensViewType.proofit],r._withClass=function(e){return function(t){return[t,e].join(" ")}},r._stateToClassMapper=function(e,t){if(e&&b.LensState.isSidebarOpened(e)){if(b.LensState.isSidebarOpened(t)){if(t.alertSource===b.ForceAlertActionSource.forceSidebar||t.alertSource===b.ForceAlertActionSource.forceText)return{prev:{start:{base:A.lensHideStart},end:{base:A.lensHide}},next:{start:{},end:{}}};if(r._isFocusedLensLike(t.currentLens)&&r._isFocusedLensLike(e.currentLens)){var n="textOrder"===t.switchOrder?A.lensMoveUp:f.Lens.comparator(e.currentLens.meta,t.currentLens.meta)>0?A.lensMoveDown:A.lensMoveUp,i=r._withClass(n);return{prev:{start:{base:i(A.lensLeaveStart),title:i(A.lensLeaveStartTitle),revampedTitle:A.lensLeaveStartTitle,content:i(A.lensLeaveStartContent),allAlertsButton:A.allAlertsVisible},end:{base:i(A.lensLeave),title:i(A.lensLeaveTitle),revampedTitle:A.lensLeaveTitle,content:i(A.lensLeaveContent),allAlertsButton:A.allAlertsHidden}},next:{start:{base:i(A.lensEnterStart),title:i(A.lensEnterStartTitle),revampedTitle:A.lensEnterStartTitle,content:i(A.lensEnterStartContent),allAlertsButton:A.allAlertsHidden},end:{base:i(A.lensEnter),title:i(A.lensEnterTitle),revampedTitle:A.lensEnterTitle,content:i(A.lensEnterContent),allAlertsButton:A.allAlertsVisible}}}}var o=r._statePriority.indexOf(e.currentLens.type),a=r._statePriority.indexOf(t.currentLens.type),n=o-a>0?A.up:A.down,i=r._withClass(n);return{prev:{start:{base:i(A.stateLeaveStart),revampedTitle:A.lensLeaveStartTitle},end:{base:i(A.stateLeave),revampedTitle:A.lensLeaveTitle}},next:{start:{base:i(A.stateEnterStart),revampedTitle:A.lensEnterStartTitle},end:{base:i(A.stateEnter),revampedTitle:A.lensEnterTitle}}}}return{prev:{start:{base:A.sidebarLeaveRightStart},end:{base:A.sidebarLeaveRight,revampedTitle:A.revampedTitleLeaveRight}},next:{start:{},end:{}}}}return{prev:{start:{},end:{}},next:{start:{base:A.sidebarEnterLeftStart,revampedTitle:A.revampedTitleEnterLeftStart},end:{base:A.sidebarEnterLeft,revampedTitle:A.revampedTitleEnterLeft}}}},r._state=r.props.denaliViewModels.stateHolder.state.distinctUntilChanged(function(e,t){return e.currentLens.id===t.currentLens.id}).share(),r.setGoalsVisibilityState=r.props.setGoalsVisibilityState,r.insightsVisibilityState=s.Atom.create(!1),r._wootricViewModel=n.wootricViewModel,r}return r.__extends(t,e),t.prototype._isFocusedLensLike=function(e){return e.type===b.LensViewType.lensview||e.type===b.LensViewType.advanced},t.prototype.componentDidMount=function(){var e=this.props.denaliViewModels,t=e.scrollerViewModel,n=e.stateHolder;this._subs.push(n.sidebarOpen.switchMap(M.RxUtils.orEmpty(a.Observable.create(function(){var e=t.setupSidebar().unsubscribe;return function(){return requestAnimationFrame(e)}}))).subscribe())},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._subs=[]},t.prototype.render=function(){return i.createElement(t.Tier,{className:this.props.denaliViewModels.stateHolder.sidebarOpen.view(function(e){return!e&&A.hiddenWrapper}),style:this._wootricViewModel.map(function(e){return e.height.view(function(e){return e>0?{height:"calc(100vh - "+e+"px)"}:{}})}).getOrElse(void 0)},i.createElement(t.Wrapper,null,this._renderSidebar(),this._renderNavigation()),this._renderActions(),i.createElement(x.SuccessLensView.Preload,null))},t.prototype._renderNavigation=function(){var e=this.props,t=e.denaliViewModels,n=t.sidebarViewModel,r=t.pageViewModel,o=t.reportViewModel,a=t.upgradeViewModel,s=e.documentModel,c=e.features,l=e.settingsModel;return[i.createElement(y.Navigation,{key:"navigation",pageViewModel:r,sidebarViewModel:n,features:c,documentModel:s,setGoalsVisibilityState:S.DocumentLoader.SetGoalsVisibilitySource.toVisible(this.setGoalsVisibilityState,"user"),insightsVisibilityState:this.insightsVisibilityState}),i.createElement(w.SetGoalsModal,{features:c,documentModel:s,visible:this.setGoalsVisibilityState,key:"set-goals-modal",upgradeViewModel:a,settingsModel:l}),i.createElement(E.StatisticsModal,{documentModel:s,visible:this.insightsVisibilityState,reportViewModel:o,key:"statistics-modal"})]},t.prototype._renderActions=function(){var e=this.props,t=e.denaliViewModels,n=t.pageViewModel,r=t.plagiarismViewModel,o=t.successLensViewModel,a=t.sidebarViewModel,s=t.upgradeViewModel,c=t.proofitViewModelOption,l=e.documentModel,u=e.features;return i.createElement("div",{key:"sidebar-actions",className:A.actionsWrapper},i.createElement(g.SidebarHeader,{successLensViewModel:o,pageViewModel:n,sidebarViewModel:a,documentModel:l,features:u}),i.createElement(C.DocumentActions,{key:"documentActions",pageViewModel:n,plagiarismViewModel:r,isProofitInitialized:c.nonEmpty(),sidebarViewModel:a,features:u,upgradeViewModel:s}))},t.prototype._renderSidebar=function(){var e=this,t=this.props,n=t.denaliViewModels,o=n.successLensViewModel,a=n.sidebarViewModel,c=n.scrollerViewModel,f=n.pageViewModel,h=n.proofitViewModelOption,g=n.cardsViewModel,y=n.marksViewModel,w=n.upgradeViewModel,E=n.plagiarismViewModel,C=n.alignmentViewModel,S=t.documentModel,k=t.features;return i.createElement(T,r.__assign({key:"animationWrapper"},s.classes(S.checkingState.view(function(t){return"full"===t&&"lensview"===e.state?A.fadedWrapper:A.wrapper})),{state:this._state,stateToClassMapper:this._stateToClassMapper}),function(e){switch(e.state.currentLens.type){case b.LensViewType.closed:return null;case b.LensViewType.success:return i.createElement(x.SuccessLensView,{key:"success-view",transition:e.view,successLensViewModel:o,onTransitionEnd:"prev"===e.type?e.done:M.noop,features:k});case b.LensViewType.plagiarism:var t=k.denali.revampedHeader?u.RevampedPlagiarismView:m.PlagiarismView;return i.createElement(t,{key:"plagiarism-view","data-name":"plagiarism-view",transition:e.view,pageViewModel:f,plagiarismViewModel:E,marksVM:y,cardsVM:g,scrollVM:c,alignmentVM:C,isMaster:"next"===e.type,onTransitionEnd:"prev"===e.type?e.done:M.noop});case b.LensViewType.proofit:return h.map(function(t){return i.createElement(_.ProofitSidebarView,{key:"proofit",proofit:t,transition:e.view})}).orNull();case b.LensViewType.advanced:var n=k.denali.revampedHeader?d.RevampedPaidView:v.PaidView;return i.createElement(n,{"data-name":"paidview",key:"paidview",transition:e.view,upgradeViewModel:w,sidebarViewModel:a,features:k});case b.LensViewType.lensview:var r=e.state.currentLens.meta,s=k.denali.revampedHeader?l.RevampedLensView:p.Lensview;return i.createElement(s,{key:r.id,"data-name":"lensview",transition:e.view,marksVM:y,cardsVM:g,pageViewModel:f,scrollVM:c,lens:r,alignmentVM:C,isMaster:"next"===e.type,onTransitionEnd:"prev"===e.type?e.done:M.noop});default:return M.assertNever(e.state.currentLens)}})},t.contextTypes=r.__assign({},c.BaseComponent.contextTypes,{wootricViewModel:o.object}),t}(c.BaseComponent);t.Sidebar=N,function(e){e.Tier=function(e){var t=e.children,n=e.className;return i.createElement(s.F.div,r.__assign({},s.classes(A.sidebarTier,n),{style:A}),t)},e.Wrapper=function(e){var t=e.children;return i.createElement(s.F.div,{key:"sidebar","data-name":"sidebar",className:A.sidebarWrapper},t)};var t=L;e.Loader=function(n){var o=n.state,a=n.baseLoaderClass;return i.createElement(e.Tier,null,i.createElement(e.Wrapper,null,i.createElement(k.SidebarLoader,{state:o.view("lens"),theme:t},i.createElement(s.F.div,r.__assign({},s.classes(A.loaderWrapper,a,o.view("text").view(function(e){return e.isEmpty()&&A.loaderWithToolbar}))),i.createElement(p.Lensview.Rechecking,{"data-name":"lensviewRechecking",key:"lensview-rechecking"}))),i.createElement(y.Navigation.Loader,{key:"navigation-rechecking",baseLoaderClass:a,state:o})))}}(N=t.Sidebar||(t.Sidebar={})),t.Sidebar=N},2100:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(105),s=n(1408),c=n(1864),l=n(1863),u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._state=o.Atom.create({alerts:[],index:0}),t._getFirstAlert=function(){return t._state.get().alerts[0]},t}return r.__extends(t,e),t.prototype.componentWillMount=function(){this._state.set({alerts:this.props.card.alerts,index:this.props.card.activeAlertIndex})},t.prototype.componentWillReceiveProps=function(e){this._state.set({alerts:e.card.alerts,index:e.card.activeAlertIndex})},t.prototype.render=function(){var e=this,t=this.props,n=t.card,o=t.marksVM,a=t.cardsVM,u=t.pageViewModel,d=t.plagiarismViewModel,p=function(){return i.createElement(c.Mini,r.__assign({cardId:n.cardId,getAlert:e._getFirstAlert},{marksVM:o,pageViewModel:u}))},m=function(){return i.createElement(l.Full,{card:n,state:e._state,pageViewModel:u,plagiarismViewModel:d})};return i.createElement(s.BaseCard.Card,r.__assign({},{renderMiniCard:p,renderFullCard:m},{cardsViewModel:a,cardState:a.getState(n).map(function(e){return[n,e]})}))},t}(a.BaseComponent);t.PlagiarismCard=u},2101:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(2),s=n(178),c=n(1502),l=n(1381),u=n(1378),d=n(513),p=n(1675),m=n(1624),f=n(1673),h=n(1760),g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.lens,p=t.marksVM,g=t.cardsVM,_=t.pageViewModel,v=t.alignmentVM,b=t.transition,y=t.onTransitionEnd;return i.createElement("div",{key:n.id,className:h.lensWrapper,onTransitionEnd:y},n.id!==s.Lens.SpecialId.AllAlerts&&i.createElement(o.F.div,r.__assign({},o.classes(h.header,b.map(function(e){return e.revampedTitle}))),i.createElement("div",{className:h.lensTitle},n.title,i.createElement(u.InfoButton,{iconClass:h.infoIcon,tooltipClass:h.infoTooltip,title:n.description})),i.createElement("div",{className:h.dismissWrapper},i.createElement(l.Small,{className:h.lensCounter},this._lensAlertsCount),i.createElement(u.Button.Round,{name:"dismiss-all",title:"Dismiss all",onClick:function(){n.dismissAll(),e.context.gnarSpec.dismissAllButtonClick(a.StringUtils.camelize(n.title),e.context.pageId)}},i.createElement(d.Icon.Ignore,null)))),i.createElement("div",{ref:function(t){return t&&(e._viewportEl=t)},className:h.fakeTop}),i.createElement("div",{className:h.viewport},i.createElement(o.F.div,r.__assign({},o.classes(h.lensviewContentWrapper,b.map(function(e){return e.base}))),i.createElement(o.F.div,r.__assign({},o.classes(h.scrollWrapper,b.map(function(e){return e.content}))),i.createElement(c.Scroller,{className:h.scroll,lensedVM:this._lensedVM,setActive:this._setActive,setRegular:this._setRegular,onMount:function(t){return t&&(e._scrollEl=t)},onTitleMount:function(t){return t&&(e._titleEl=t)},renderFake:function(){return i.createElement(m.FakeCard,{marksVM:p,pageVM:_,cardsVM:g})},renderCard:function(e){return i.createElement(f.CardComponent,{key:e.cardId,card:e,lensId:n.id,marksVM:p,cardsVM:g,pageVM:_,alignmentVM:v})}})))))},t}(p.Lensview);t.RevampedLensView=g},2102:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(515),s=n(1381),c=n(1451),l=n(1439),u=n(1402),d=n(1933),p=n(1760),m=n(1959),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props.transition;return i.createElement(o.F.div,r.__assign({},o.classes(p.lensWrapper,t.map(function(e){return e.base}))),i.createElement(o.F.div,r.__assign({},o.classes(p.header,t.map(function(e){return e.revampedTitle}))),i.createElement("div",{className:p.lensTitle},this.context.textResources.denali.sidebar.premiumAlerts)),i.createElement(o.F.div,r.__assign({},o.classes(t.map(function(e){return e.content}))),i.createElement(u.ScrollBarY,{name:"advanced",allowHover:!0,className:m.contentWrapper},this._advancedAlerts.map(function(t){return t.map(function(t){var n=t.reduce(function(e,t){return e+t.count},0);return[i.createElement("div",{key:"some",className:m.advancedBlockWrapper},i.createElement(s.P2,null,"We found"," ",i.createElement("b",null,n," additional writing ",1===n?"issue":"issues"),i.createElement("br",null),"in this text available only for Premium users."),i.createElement("div",{key:"advanced-block",className:m.advancedBlock},i.createElement("div",{className:m.alertList},t.map(function(e,t){return i.createElement(s.P2,{key:e.category,className:m.alertBlock},i.createElement(l.Counters.Counter,{count:e.count,type:"yellow",theme:{counterWrapper:o.classes(m.counter,d.PaidView.getOpacityClass(t,m)).className}}),e.categoryHuman)})),i.createElement("div",{className:m.graphBlock},i.createElement("div",r.__assign({},o.classes(t.length<=4?m.graphCircle3Empty:m.graphCircle3)),i.createElement("div",{className:m.graphCircle2},i.createElement("div",{className:m.graphCircle1},i.createElement(s.H1,r.__assign({},o.classes(m.graphCounter,"windows"===e.context.environment.info.os&&m.graphCounterWin)),n))))))),i.createElement("div",{key:"upgrade-block",className:m.upgradeBlock},i.createElement(c.UpgradeButton,{size:"big",upgradeViewModel:e.props.upgradeViewModel,place:a.UpgradeHook.Place.DenaliDocument.editorDenaliAdvanced})),i.createElement("footer",{key:"footer",className:m.footer},i.createElement(s.P1,{className:m.footerText},"It’s an online service that quickly and easily makes",i.createElement("br",null),"your writing better and makes you sound like a pro,",i.createElement("br",null),"or at least helps you avoid looking like a fool."),i.createElement(d.ForbesLogo,{className:m.footerLogo}))]}).orNull()}))))},t}(d.PaidView);t.RevampedPaidView=f},2103:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(178),s=n(1378),c=n(1381),l=n(513),u=n(2),d=n(1422),p=n(1934),m=n(1935),f=n(1760),h=n(1960),g=function(e){var t=e.type;return i.createElement(m.ReferenceLink,{type:t,className:h.referenceLink})};t.RevampedPlagiarismView=function(e){var t;return i.createElement("div",{key:a.Lens.SpecialId.Plagiarism,className:f.lensWrapper},i.createElement(o.F.div,r.__assign({},o.classes(f.header,e.transition.map(function(e){return e.revampedTitle}))),i.createElement("div",{className:f.lensTitle},"Plagiarism"),e.plagiarismViewModel.plagiarismViewState.view(function(t){return t.type===d.PlagiarismViewType.cards&&i.createElement("div",{className:f.dismissWrapper,key:"dismiss-wrapper"},i.createElement(c.Small,{className:f.lensCounter},e.plagiarismViewModel.checkingState.map(function(e){return e.sources>0?e.sources:""})),i.createElement(s.Button.Round,{key:"dismiss-all",name:"dismiss-all",title:"Dismiss all",className:f.headerBtn,onClick:function(){t.currentLens.dismissAll()}},i.createElement(l.Icon.Ignore,null)))})),i.createElement("div",{ref:function(e){return e&&(t=e)},className:f.fakeTop}),i.createElement("div",{className:f.viewport},i.createElement(o.F.div,r.__assign({},o.classes(f.lensviewContentWrapper,e.transition.map(function(e){return e.base}))),i.createElement(o.F.div,r.__assign({},o.classes(f.scrollWrapper,e.transition.map(function(e){return e.content}))),e.plagiarismViewModel.plagiarismViewState.view(function(n){switch(n.type){case d.PlagiarismViewType.originality100:return i.createElement(p.Originality100,{key:"originality100"});case d.PlagiarismViewType.loading:return i.createElement(p.Loading,{key:"loading"});case d.PlagiarismViewType.cards:return i.createElement(m.PlagiarismCards,r.__assign({key:"cards-view"},e,{viewportEl:t,lens:n.currentLens,linkComponent:g,theme:{scroll:f.scroll,description:h.description}}));default:return u.assertNever(n)}})))))}},2104:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(16),a=n(6),s=n(105),c=n(1504),l=n(1378),u=n(513),d=n(1860),p=n(1381),m=n(2),f=n(1961),h=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onHideAssistant=function(){var e=t.props.pageViewModel,n=t.context,r=n.gnarSpec,i=n.pageId;r.assistantCloseButtonClick(i,e.stateHolder.state.get().currentLens.type),e.closeSidebar()},t}return r.__extends(t,e),t.prototype.render=function(){return i.createElement(a.F.div,r.__assign({},a.classes(this.props.className,this.props.pageViewModel.stateHolder.sidebarOpen.view(m.choose(f.hideAssistantVisible,f.hideAssistantHidden)))),i.createElement(l.Button.Caps,{name:"hide-assistant",title:this.context.textResources.denali.hideAssistant,className:f.hideAssistantBtn,onClick:this._onHideAssistant},i.createElement(u.Icon.Exit,{className:f.exitIcon})))},t}(s.BaseComponent);t.LensToggler=h;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return i.createElement(l.Button,{name:"to-overview",key:"overview",className:f.overviewBtn,disabled:!0,title:this.props.title},this.props.children)},t}(i.Component),_=s.withContext(function(e,t){var n=e.successLensViewModel,r=e.stateHolder,s=e.documentModel,l=o.Observable.combineLatest(r.sidebarOpen,s.score,s.checkingState,s.counters,n.textAmount);return i.createElement(a.F.div,null,l.map(function(e){var n=e[0],r=e[1],o=e[2],a=e[3],s=e[4];return n?"idle"!==o?i.createElement(g,null,i.createElement("span",{className:f.checking},"Checking...")):a.critical+a.advanced||s===c.SuccessLensViewModel.TextAmount.zero?r.fold(function(){return i.createElement(g,null,i.createElement("span",{className:f.scoreWrapper},i.createElement(p.H1,{className:f.zeroScore,"data-disabled":!0})))},function(e){return i.createElement(g,{title:i.createElement("div",{className:f.tooltip},t.textResources.denali.rankTooltip(e.rank))},i.createElement("span",{className:f.scoreWrapper},i.createElement(p.H1,{className:f.score,"data-disabled":!0},e.rank),i.createElement(p.H3,null,t.textResources.denali.rank)))}):i.createElement(g,{title:t.textResources.denali.noIssuesFound},i.createElement(u.Icon.Checkmark,{width:28})):null}))}),v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){var e=this.props,t=e.successLensViewModel,n=e.pageViewModel,r=e.documentModel,o=e.sidebarViewModel,s=e.features;return i.createElement(a.F.div,{className:f.sidebarHeader},i.createElement("div",{className:f.togglerWrapper},i.createElement(d.NewToggler,{pageViewModel:n,documentModel:r,sidebarViewModel:o,features:s})),i.createElement(_,{successLensViewModel:t,stateHolder:n.stateHolder,documentModel:r}),!s.denali.revampedHeader&&i.createElement(h,{key:"lensToggler",pageViewModel:n,features:s,className:f.lensToggler}))},t}(s.BaseComponent);t.SidebarHeader=v},2107:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(6),a=n(105),s=n(1866),c=n(1678),l=n(1655),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(t,e),t.prototype.render=function(){return i.createElement(o.F.div,r.__assign({onTransitionEnd:this.props.onTransitionEnd},o.classes(l.successLens,this.props.transition.map(function(e){return e.base}))),i.createElement(s.SuccessContainer,{state:this.props.successLensViewModel.successState,preventAnimation:this.props.features.preventAnimation}))},t}(a.BaseComponent);t.SuccessLensView=u,function(e){e.Preload=c.IllustrationPreload}(u=t.SuccessLensView||(t.SuccessLensView={})),t.SuccessLensView=u},2109:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(518),a=n(6),s=n(1845),c=n(513),l=n(2),u=n(91),d=n(16),p=n(2110),m=n(2111),f=n(1763),h=n(4),g=n(7),_=70,v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._onClickSubscription=null,t}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this,t=o.findDOMNode(this);this._onClickSubscription=d.Observable.fromEvent(window,"click").subscribe(function(n){t&&t!==n.target&&!l.DOM.isParent(t,n.target)&&e.props.shouldHide(n.target)&&e.props.hide()})},t.prototype.componentWillUnmount=function(){null!==this._onClickSubscription&&this._onClickSubscription.unsubscribe()},t.prototype.render=function(){return i.Children.only(this.props.children)},t}(i.Component),b=32,y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._getRect=function(){return t.props.synonymsInfo.activeMark.rect[1]},t._getAbsRect=function(){return t.props.synonymsInfo.activeMark.viewportRect[1]},t._state=a.Atom.create({position:{top:t._getRect().bottom,left:0}}),t._updatePosition=function(e){if(t._el){var n=t.props,r=n.synonyms,i=n.synonymsInfo,o=t._el.getBoundingClientRect(),a=o.width,s=o.bottom,c=t._getAbsRect(),l=t._getRect(),u=c.left+a,d=u<e.right?0:u-e.right+b;t._state.set({position:{top:l.top+l.height,left:l.left-d}});var p=e.bottom-s;p<_&&r.ded.scrollToMark(i.activeMark,{paddingTop:c.bottom+p-e.top-_})}},t._sub=null,t}return r.__extends(t,e),t.prototype.componentDidMount=function(){this._sub=this.props.viewport.subscribe(this._updatePosition)},t.prototype.componentWillUnmount=function(){this._sub&&(this._sub.unsubscribe(),this._sub=null)},t.prototype.render=function(){var e=this,t=this.props,n=t.synonyms,r=t.synonymsInfo;return i.createElement(a.F.div,{mount:function(t){return e._el=t},key:"synonymsPopupWrapper",style:this._state.view("position"),className:f.synonymsPopupWrapper},i.createElement(v,{hide:function(){return n.hidePopup()},shouldHide:n.shouldHide},s.SynonymsModel.isEmpty(r.synonymsState)?i.createElement(m.SynonymsEmpty,{activeWord:r.activeWord.value}):i.createElement(p.SynonymsCard,{key:"synonymsCard",apply:function(e){return function(){return n.apply(e)}},result:r.synonymsState.synonyms})))},t}(i.Component),w=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=h.Monitoring.Logging.getLogger("SynonymIconWrapper"),t}return r.__extends(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.viewport,r=t.mark,o=t.className,s=t.children;return i.createElement(a.F.div,{className:o,style:n.view(function(){return e._log.debug("Update tooltip position"),g.Try.of(function(){return r.rect[1]})}).view(function(e){return e.map(function(e){return u.ReactUtils.translate(e.left+e.width,e.top)}).getOrElse({visibility:"hidden"})})},s)},t}(i.Component),E=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._log=h.Monitoring.Logging.getLogger("SynonymsView"),t}return r.__extends(t,e),t.prototype.shouldComponentUpdate=function(){return!1},t.prototype.renderLoader=function(e,t){return d.Observable.of(i.createElement(w,{className:f.iconWrapper,viewport:t,mark:e.activeMark},i.createElement(c.Icon.SynonymLoader,{className:f.loader}))).delay(1e3).startWith(null)},t.prototype.renderPopup=function(e,t){return d.Observable.of(i.createElement(y,{synonyms:this.props.synonyms,synonymsInfo:e,viewport:t}))},t.prototype.render=function(){var e=this,t=this.props,n=t.synonyms,r=t.viewport,o=n.viewState.view(function(e){return e.map(function(e){return e.popupVisible}).getOrElse(!1)});return i.createElement(a.F.div,{className:f.contentWrapper},n.viewState.do(function(t){return e._log.debug("Synonym state changed",t.fold(function(){return null},function(e){return{kind:e.synonymsState.kind,popupVisible:e.popupVisible}}))}).switchMap(function(t){return t.map(function(t){return s.SynonymsModel.isQuerying(t.synonymsState)?e.renderLoader(t,r):o.switchMap(function(n){return n?e.renderPopup(t,r):d.Observable.of(null)})}).getOrElse(d.Observable.of(null))}))},t}(i.Component);t.SynonymsView=E},2110:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(1378),a=n(1381),s=n(6),c=n(1763),l=function(e){var t=e.word,n=e.apply;return i.createElement(o.Button.Blue,{name:"accept-synonym",className:c.item,onClick:n(t)},t)},u=function(e){var t=e.synonyms,n=e.apply;return i.createElement("div",{className:c.row},t.map(function(e,t){return i.createElement(l,r.__assign({},{word:e,key:t,apply:n}))}))};t.SynonymsCard=function(e){var t=e.result.synonymsOrGroups,n=e.apply;return i.createElement(s.F.div,{className:c.wrapper},i.createElement(a.P2,{className:c.title},"Synonyms"),t.fold(function(e){return i.createElement(u,r.__assign({key:"single"},{synonyms:e,apply:n}))},function(e){return i.createElement("ol",{className:c.list},e.map(function(e,t){var o=e.meaning,s=e.words;return i.createElement("li",{key:t,className:c.group},i.createElement(a.P2,{className:c.groupTitle},o),i.createElement(u,r.__assign({key:"single"},{synonyms:s,apply:n})))}))}))}},2111:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(1763);t.SynonymsEmpty=function(e){var t=e.activeWord;return r.createElement("div",{className:i.emptyResultWrapper},"No synonyms for ",r.createElement("span",{className:i.activeWord},t)," found")}},2112:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3),i=n(8),o=n(49),a=n(6),s=n(4),c=n(2),l=n(32),u=n(105),d=n(1482),p=n(514),m=n(272),f=n(1381),h=n(1378),g=n(513),_=n(1401),v=n(1483),b=n(1927),y=n(1963),w=function(e){var t=e.onClick,n=e.hideTooltip;return i.createElement(h.Button.Round,{name:"to-home",onClick:t,title:n.view(function(e){return e?void 0:"Back to My Grammarly"}),className:y.toolbarBtn},i.createElement(g.Icon.More,{className:y.backIcon}),i.createElement(g.Icon.Library,null))};t.FakeToolbar=u.withContext(function(e,t){var n=e.type,r=t.textResources,o=t.appRouter;return i.createElement("div",{className:y.fakeToolbarWrapper,"data-name":"document-tools"},i.createElement(w,{hideTooltip:a.Atom.create(!1),onClick:function(){return o.navigate(u.Router.routes.documents.href({}))}}),i.createElement(f.H3,{className:y.fakeToolbarTitle,"data-name":"toolbar-title"},n===m.DocumentLoader.TextType.loading?r.denali.toolbar.loading:r.denali.toolbar.processing))});var E=function(e){function t(t,n){var r=e.call(this,t,n)||this;return r._log=s.Monitoring.Logging.getLogger("editor.toolbar"),r._isOnExitNotificationEnabled=a.Atom.create(!r.props.documentModel.extraSettings.discoverabilityOnExitShown&&r.props.settingsModel.showExitNotification.get()||r.props.featuresModel.showDiscoverabilityOnExit),r._isOnExitNotificationVisible=a.Atom.create(!1),r._unreviewedAlertsCount=r.props.sidebarViewModel.lenses.view(function(e){return e.reduce(function(e,t){return e+t.unreadCount},0)}),r._subs=[],r._toHomeClick=function(){return r.context.appRouter.navigate(u.Router.routes.documents.href({}))},r._forceSaveDocument=function(){return r.props.documentModel.flush().catch(function(e){return r._log.error("Could not flush document from toolbar",e)})},r._onboardingViewModel=n.onboardingViewModel,c.invariant(Boolean(r._onboardingViewModel),"onboardingViewModel should be in context"),r}return r.__extends(t,e),t.prototype.componentDidMount=function(){var e=this;this._subs.push(this.props.pageViewModel.stateHolder.sidebarOpen.filter(Boolean).first().subscribe(function(){e._isOnExitNotificationEnabled.set(!1),e._isOnExitNotificationVisible.set(!1)}),this._isOnExitNotificationVisible.skip(1).subscribe(function(t){return e._onboardingViewModel.changeState(!t)}),this._isOnExitNotificationVisible.filter(Boolean).first().subscribe(function(){return e.props.documentModel.extraSettings.discoverabilityOnExitShown=!0}))},t.prototype.componentWillUnmount=function(){this._subs.forEach(function(e){return e.unsubscribe()}),this._onboardingViewModel.changeState(!0)},t.prototype._saveSettings=function(e){var t=this;return function(n){n||t.props.settingsModel.updateExitNotification(n),e()}},t.prototype.render=function(){var e=this,t=this.props,n=t.documentModel,r=t.uploadViewModel,o=t.pageViewModel,m=t.featuresModel,f=this.context,E=f.gnarSpec,M=f.pageId,C=f.appRouter,S=f.textResources,k=f.notifications,x=f.environment;return i.createElement("div",{className:y.wrapper,"data-name":"document-tools"},i.createElement(a.F.div,{className:y.buttons,onMouseEnter:this._forceSaveDocument},i.createElement(w,{hideTooltip:this._isOnExitNotificationVisible,onClick:function(){e._isOnExitNotificationEnabled.get()&&e._unreviewedAlertsCount.get()>0&&!e._isOnExitNotificationVisible.get()?(e._isOnExitNotificationEnabled.set(!1),e._isOnExitNotificationVisible.set(!0)):e._toHomeClick()}}),this._isOnExitNotificationVisible.view(function(t){return t&&i.createElement(v.DiscoverabilityOnExit,{themes:{className:y.discoverabilityOnExit,triangleClassName:y.discoverabilityOnExitTriangle},key:"discoverability-on-exit","data-name":"discoverability-on-exit",unreviewedAlertsCount:e._unreviewedAlertsCount,onExitClick:e._saveSettings(e._toHomeClick),onReviewClick:e._saveSettings(function(){o.switchTo(p.LensViewType.lensview),e._isOnExitNotificationVisible.set(!1)})})}),i.createElement("div",{"data-name":"document-actions"},i.createElement(_.Dropdown,{theme:y,showDelay:0,name:"vertical-toolbar-in",label:i.createElement(h.Button.Round,{name:"document-in-actions",className:y.toolbarBtn},i.createElement(g.Icon.ToolbarCreate,null))},i.createElement(h.Button.Flat,{name:"new",key:"new",onClick:function(){E.newDocumentDenaliButtonClick(M),C.navigate(u.Router.routes.new_document.href({}))}},i.createElement(g.Icon.New,null),"New document"),i.createElement(h.Button.Flat,{name:"upload",key:"upload",animationMode:h.AnimationMode.None},i.createElement(g.Icon.Download,{className:y.uploadIcon}),S.denali.uploadMenuItem,i.createElement(d.UploadElement,{documentUpload:r.uploadModel,hideTooltip:!0}))),i.createElement(_.Dropdown,{theme:y,showDelay:0,name:"vertical-toolbar-out",label:i.createElement(h.Button.Round,{name:"document-out-actions",className:y.toolbarBtn},i.createElement(g.Icon.Download,null))},i.createElement(h.Button.Flat,{name:"download",key:"download",onClick:function(){return E.downloadButtonClick(M),n.downloadOriginal()}},i.createElement(g.Icon.Download,null),S.denali.downloadMenuItem),i.createElement(h.Button.Flat,{name:"print",key:"print",onClick:function(){setTimeout(window.print,200),E.printButtonClick(M)}},i.createElement(g.Icon.Print,null),"Print"),i.createElement(h.Button.Flat,{name:"copy",key:"copy",onClick:function(){c.Clipboard.copy(n.documentText,x.has(l.Environment.Flag.useSetDataOnCopy)).then(function(){k.showMessage("Document copied to clipboard")}).catch(function(e){c.Clipboard.copyApiAvailable.set(!1),k.show(k.create.copyToClipboardFailed()),s.Monitoring.Logging.getLogger("clipboard").warn("Copy to clipboard failed",e)}),E.copyToClipboardButtonClick(M)}},i.createElement(g.Icon.Copy,null),"Copy to clipboard")))),!m.denali.revampedHeader&&i.createElement(b.SavedIndicator,{isSaved:n.saved}))},t.contextTypes=r.__assign({},u.BaseComponent.contextTypes,{onboardingViewModel:o.object}),t}(u.BaseComponent);t.Toolbar=E}});