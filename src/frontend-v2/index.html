<!doctype html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<title>Dashboard</title>
	<meta name="description" content="test">
	<base href="/">

	<link rel="manifest" href="/manifest.json">
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/mdb.min.css" rel="stylesheet">
	<link href="css/style.css" rel="stylesheet">

	<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/gridstack.js/0.4.0/gridstack.min.css" />
	
	<script src="/node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/@shopify/draggable@1.0.0-beta.7/lib/draggable.bundle.js"></script>
	<script type="module" src="/src/modules/patients-element.js"></script>
	<script type="module" src="/src/pages/main-element.js"></script>

	<script>
	/**
	* [polymer-root-path]
	*
	* Leave this line unchanged if you intend to serve your app from the root
	* path (e.g., with URLs like `my.domain/` and `my.domain/view1`).
	*
	* If you intend to serve your app from a non-root path (e.g., with URLs
	* like `my.domain/my-app/` and `my.domain/my-app/view1`), edit this line
	* to indicate the path from which you'll be serving, including leading
	* and trailing slashes (e.g., `/my-app/`).
	*/
	window.MyAppGlobals = { rootPath: '/' };

	// Load and register pre-caching Service Worker
	if ('serviceWorker' in navigator) {
		window.addEventListener('load', function() {
		navigator.serviceWorker.register('service-worker.js', {
			scope: MyAppGlobals.rootPath
		});
		});
	}
	</script>
	<style>
	aside { 
		position:  absolute;
		left: 50;
		top: 200; /* set these so Chrome doesn't return 'auto' from getComputedStyle */
	}
	.resizable {
      padding: 20px;
      resize: both;
      overflow: auto;
    }
	</style>
</head>
<body style="height:800px;">
	<nav class="navbar navbar-expand-lg navbar-dark primary-color">

		<!-- Navbar brand -->
		<a class="navbar-brand mr-auto" href="#">Dashboard</a>

		<div class="d-flex justify-content-center">
			<form class="form-inline">
				<div class="md-form my-0">
					<input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
				</div>
			</form>
		</div>
	</nav>

	<!-- SCRIPTS -->
	<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap tooltips -->
    <script type="text/javascript" src="js/popper.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
	<script type="text/javascript" src="js/mdb.min.js"></script>
	
	<script>
	function drag_start(event) {
		var style = window.getComputedStyle(event.target, null);
		event.dataTransfer.setData("text/plain",
		(parseInt(style.getPropertyValue("left"),10) - event.clientX) + ',' + (parseInt(style.getPropertyValue("top"),10) - event.clientY) + ',' + event.currentTarget.id);
		locLeft = parseInt(style.getPropertyValue("left"),10) - event.clientX;
		lolTop = parseInt(style.getPropertyValue("top"),10) - event.clientY;
	} 
	function drag_over(event) { 
		event.preventDefault(); 
		return false; 
	} 
	function drop(event) { 
		var offset = event.dataTransfer.getData("text/plain").split(',');
		var dm = document.getElementById(offset[2]);
		dm.style.left = (event.clientX + parseInt(offset[0],10)) + 'px';
		dm.style.top = (event.clientY + parseInt(offset[1],10)) + 'px';
		event.preventDefault();
		return false;
	} 
	var aside = document.createElement('aside');
	aside.draggable = true;
	aside.id = "dragme";
	aside.left = "50px";

	var el = document.createElement('patients-element');
	aside.appendChild(el);
	aside.addEventListener('dragstart',drag_start,false);
	document.body.appendChild(aside);

	var aside = document.createElement('aside');
	aside.draggable = true;
	aside.id = "dragme2";

	var el = document.createElement('patients-element');
	aside.appendChild(el);
	aside.addEventListener('dragstart',drag_start,false);
	document.body.appendChild(aside);

	document.body.addEventListener('dragover',drag_over,false); 
	document.body.addEventListener('drop',drop,false); 


	function clicky() {
		console.log("clicky");
	}
	</script>
</body>
</html>
